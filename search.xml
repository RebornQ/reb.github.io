<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Disqus APIç§‘å­¦è¯„è®ºå¤§æ³•]]></title>
    <url>%2Fposts%2Fd32fb564.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯Disqus ç”±äºåœ¨å›½å†…è¢«å±è”½äº†ï¼Œä¸èƒ½è¯„è®ºä¹Ÿä¸èƒ½çœ‹è¯„è®ºï¼Œä½“éªŒååˆ†ä¸å¥½ã€‚çœ‹äº†ä¸€ä¸‹ Disqus å®˜æ–¹å‘ç°æœ‰ä¸ª API åä»£åŠ é€Ÿè®¿é—®çš„ç”¨æ³•ï¼Œäºæ˜¯å»æ‰¾äº†ç›¸å…³èµ„æ–™ï¼ŒåŸæœ¬æƒ³è‡ªå·±é€ è½®å­ï¼Œåæ¥å‘ç°å·²ç»æœ‰ç°æˆçš„ï¼Œæˆ‘å°±å…ˆæ‹¿æ¥ç”¨ç€å§ã€‚åŸç†æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹disqusåå‘ä»£ç†çš„åŸç†å›¾ï¼šæ•´ä½“æµç¨‹æ˜¯è¿™æ ·çš„ï¼Œåœ¨å‰ç«¯é¡µé¢ä¸Šæµ‹è¯•disqusåŠ è½½æ˜¯å¦æˆåŠŸï¼Œå¦‚æœæˆåŠŸåˆ™æ˜¾ç¤ºdisqusçš„è¯„è®ºæ¡†ï¼Œåä¹‹åŠ è½½ç‹¬ç«‹çš„è¯„è®ºæ¡†ï¼Œå¹¶å°†è¯·æ±‚å‘é€ç»™è‡ªå·±åœ¨å›½å¤–çš„vpsï¼Œåˆ©ç”¨vpsåšåå‘ä»£ç†ï¼Œæ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚åˆ°disqusæœåŠ¡å™¨å¹¶å†è½¬å‘ç»™å®¢æˆ·ç«¯ã€‚ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šå®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡Disqus Apiæäº¤è¯„è®ºã€‚å·¥å…·ä»‹ç»ç›®å‰ç°æˆçš„disqusåä»£ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼šdisqus-proxy â€“NodeJSå®ç°disqus-php-api â€“PHPå®ç°ä¸Šè¿°ä¸¤ç§æ–¹æ¡ˆå‡æ”¯æŒæ ¹æ®ç½‘ç»œæƒ…å†µåˆ¤æ–­åŠ è½½ç®€æ˜“/åŸç‰ˆè¯„è®ºæ¡†ï¼Œçœ‹å®ŒUIåæˆ‘å¾ˆæœæ–­çš„é€‰æ‹©äº†disqus-php-apiâ€¦â€¦ä»¥ä¸‹ä¸ºæ›¿æ¢ä¸ºdisqus-php-apiçš„å…·ä½“æ­¥éª¤ï¼Œä¾›å¤§å®¶å‚è€ƒï¼Œä¹Ÿç»™è‡ªå·±ç•™ä¸‹ä¸€ä¸ªè®°å½•ã€‚åç«¯é…ç½®è·å– disqus-php-apigit clone https://github.com/fooleap/disqus-php-api.git ç§»åŠ¨å¹¶é‡å‘½åmv -r disqus-php-api /path/to/disqus-php-api æ³¨æ„ï¼šæ­¤å¤„å»ºè®®æ–°å»ºä¸€ä¸ª Nginx ç«™ç‚¹ï¼Œå¦‚ï¼šapi.xxx.comè¿™ç±»ï¼Œä¸“é—¨æ”¾ API çš„åœ°æ–¹ï¼Œæ³¨æ„DNSè§£ææ·»åŠ Aè®°å½•å’Œå†™å¥½ Nginx é…ç½®ï¼Œå°¤å…¶æ˜¯è¦é…ç½®SSLè¯ä¹¦ã€‚å‚è€ƒé“¾æ¥è§£å†³Hexoåšå®¢ä¸­ Disqus åœ¨å›½å†…ä¸èƒ½è®¿é—®çš„æ–¹æ¡ˆHexoæŠ˜è…¾è®°ä¹‹ç§‘å­¦ä½¿ç”¨Disqusä¸Nextçš„é›†æˆdisqus-php-api ç§‘å­¦è¯„è®ºç§‘å­¦ä½¿ç”¨ Disqusä¸ºHexoä¸»é¢˜fexoæ·»åŠ disqusåä»£ã€–åŸåˆ›ã€—åŸºäºdisqus-php-apiåœ¨Hexoåšå®¢ä¸­ä½¿ç”¨Disqus]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Disqus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ‹è¯•ä¸“é¡µ]]></title>
    <url>%2Fposts%2Fb84ba97.html</url>
    <content type="text"><![CDATA[æ­¤é¡µé¢æ— å®è´¨å†…å®¹ï¼Œç”¨äºåšå®¢æ·»åŠ æ–°åŠŸèƒ½æ—¶æµ‹è¯•ä½¿ç”¨ï¼åšå®¢å¼€å‘æ—¥å¿—ï¼š2018-08-03 Disqus è¯„è®ºæ·»åŠ å›½å†…ä½¿ç”¨ Disqus API æ–¹å¼ â€“ä¿®æ”¹Mdä¸»é¢˜æºç 2018-07-27 ä½¿ç”¨ Disqus å»¶è¿ŸåŠ è½½ â€“ä¿®æ”¹Mdä¸»é¢˜æºç 2018-07-26 æ·»åŠ  Disqus è¯„è®º2018-07-23 æ–‡ç« ç»“å°¾æ·»åŠ ç‰ˆæƒå£°æ˜ â€“ä¿®æ”¹Mdä¸»é¢˜æºç 2018-07-22 ä¿®å¤æ’ä»¶hexo-prism-pluginå®ç°ä»£ç é«˜äº®å¯¼è‡´çš„è¡Œå·ä¸æ˜¾ç¤ºé—®é¢˜ â€“ä¿®æ”¹Mdä¸»é¢˜æºç 2018-07-21 ä¸»é¢˜ç”± Next åˆ‡æ¢ä¸º Material2018-07-21 åšå®¢å¯ç”¨https2018-07-15 å¼€å§‹æ­å»º Hexo åšå®¢]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hexoæ·»åŠ Disqusè¯„è®º]]></title>
    <url>%2Fposts%2F2cb4e595.html</url>
    <content type="text"></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Disqus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macä½¿ç”¨brewå®‰è£…çš„MySQLç‰ˆæœ¬åˆ‡æ¢]]></title>
    <url>%2Fposts%2Fa96dbfbe.html</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://www.jianshu.com/p/f1a5a680b464â˜†â˜†20180801æ›´æ–°ï¼šé€šè¿‡æµ‹è¯•å‘ç°ç›´æ¥ä½¿ç”¨brew services start mysql@5.6å³å¯åˆ‡æ¢è‡³5.6ç‰ˆæœ¬ä½¿ç”¨ï¼Œä¸éœ€è¦brew unlinkï¼Œæ˜¯å¦å¯ç”¨è¯·è‡ªè¡Œæµ‹è¯•ï¼Œæµ‹è¯•å‰è¯·å¤‡ä»½å¥½æ•°æ®ï¼ï¼â˜†â˜†èƒŒæ™¯ä»Šå¤©å› ä¸ºè¦å†™JavaEEå¤§ä½œä¸šè¿è¡Œäº†ä¸€éé˜Ÿå‹å‘è¿‡æ¥çš„é¡¹ç›®ï¼Œå´æ— æ³•æ­£å¸¸è¿è¡Œã€‚ç»è¿‡ä¸€ç•ªè¿½è¸ªï¼Œå‘ç°æ˜¯MySQLç‰ˆæœ¬ä¸å¯¹çš„é—®é¢˜ï¼Œé¡¹ç›®ä½¿ç”¨çš„MySQLç‰ˆæœ¬æ˜¯5.6ï¼ˆä»ä½¿ç”¨çš„JDBCé©±åŠ¨å°±å¯ä»¥çœ‹å‡ºæ¥ï¼‰ã€‚æœ¬æ¥æƒ³ç€æ›´æ–°JDBCé©±åŠ¨å°±å¯ä»¥è§£å†³ï¼Œå´å‘ç°Hibernateä¹Ÿè¦æ›´æ–°ï¼Œè¿˜ä¸æ¸…æ¥šHibernateæ”¯ä¸æ”¯æŒ8.0çš„MySQLï¼Œæƒ³äº†ä¸€ä¸‹è¿˜æ˜¯å†³å®šè£…å¤šä¸€ä¸ªç‰ˆæœ¬çš„MySQLå§ã€‚åˆ‡æ¢é‡ç‚¹/usr/local/var/mysql/é€šè¿‡åˆ‡æ¢æ¯ä¸ªç‰ˆæœ¬æ¥ä½¿ç”¨æ•°æ®åº“è®¾ç½®å’Œæ•°æ®ä½¿ç”¨brew unlinkå’Œbrew linkåˆ‡æ¢æ´»åŠ¨ç‰ˆæœ¬çš„MySQLæ•™ç¨‹æ‘˜è¦ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¤§æ¦‚æµç¨‹ï¼šåœæ­¢è¿è¡ŒMySQLåœ¨è®¾ç½®å’Œæ•°æ®ç›®å½•ï¼ˆusr/local/var/mysqlï¼‰ä¹‹é—´åˆ‡æ¢brew unlinkå¹¶brew linkä¸åˆ‡æ¢æ´»åŠ¨çš„MySQLå¯åŠ¨MySQLè¯¦ç»†æ­¥éª¤æœ¬ä¾‹ä»¥å·²å®‰è£…MySQL 8.0å†å®‰è£…5.6 ä¸ºä¾‹1. å¤‡ä»½/usr/local/var/mysql/ç”±äºå­˜å‚¨äº†è®¾ç½®å’ŒDBæ•°æ®ï¼Œå› æ­¤åº”è¯¥å¤‡ä»½å¥½ï¼Œç„¶åæ’¤ç¦»ã€‚ mv /usr/local/var/mysql /usr/local/var/mysql_80 2. åˆ é™¤MySQL 8.0çš„ç¬¦å·é“¾æ¥brew unlink mysql è§£é‡Šï¼šè¿™ä¸ªç¬¦å·é“¾æ¥ æŒ‡çš„æ˜¯è¯¸å¦‚/usr/local/bin/mysql -> ../Cellar/mysql/5.7.10/bin/mysql å’Œ/usr/local/lib/libmysqlclient.20.dylib -> ../Cellar/mysql/5.7.10/lib/libmysqlclient.20.dylib ä¹‹ç±»çš„ä¸œè¥¿ã€‚æ³¨æ„ï¼šå¦‚æœæ­¤ç¬¦å·é“¾æ¥å­˜åœ¨ï¼Œå®‰è£…å¦ä¸€ä¸ªç‰ˆæœ¬å°†å¯èƒ½å¯¼è‡´ä»¥ä¸‹é”™è¯¯ï¼š$ brew install mysql56 ==> Reinstalling homebrew/versions/mysql56 ==> Downloading https://homebrew.bintray.com/bottles-versions/mysql56-5.6.27.el_capitan.bottle.tar.gz Already downloaded: /Library/Caches/Homebrew/mysql56-5.6.27.el_capitan.bottle.tar.gz ==> Pouring mysql56-5.6.27.el_capitan.bottle.tar.gz Error: The `brew link` step did not complete successfully The formula built, but is not symlinked into /usr/local Could not symlink bin/innochecksum Target /usr/local/bin/innochecksum is a symlink belonging to mysql. You can unlink it: brew unlink mysql To force the link and overwrite all conflicting files: brew link --overwrite mysql56 To list all files that would be deleted: brew link --overwrite --dry-run mysql56 æˆ–ï¼š$ brew install mysql56 Updating Homebrew... ==> Auto-updated Homebrew! Updated 1 tap (homebrew/cask). No changes to formulae. ==> Downloading https://homebrew.bintray.com/bottles/mysql@5.6-5.6.40.sierra.bottle.tar.gz ######################################################################## 100.0% ==> Pouring mysql@5.6-5.6.40.sierra.bottle.tar.gz ==> /usr/local/Cellar/mysql@5.6/5.6.40/bin/mysql_install_db --verbose --user=xxx --basedir=/usr/local/Cellar/mysql@5.6/5.6.40 --datadir=/usr/local/var/mysql --tmpdir=/tmp ==> Caveats A "/etc/my.cnf" from another install may interfere with a Homebrew-built server starting up correctly. MySQL is configured to only allow connections from localhost by default To connect: mysql -uroot This formula is keg-only, which means it was not symlinked into /usr/local, because this is an alternate version of another formula. If you need to have this software first in your PATH run: echo 'export PATH="/usr/local/opt/mysql@5.6/bin:$PATH"' >> ~/.zshrc For compilers to find this software you may need to set: LDFLAGS: -L/usr/local/opt/mysql@5.6/lib CPPFLAGS: -I/usr/local/opt/mysql@5.6/include To have launchd start mysql@5.6 now and restart at login: brew services start mysql@5.6 Or, if you don't want/need a background service you can just run: /usr/local/opt/mysql@5.6/bin/mysql.server start ==> Summary ğŸº /usr/local/Cellar/mysql@5.6/5.6.40: 340 files, 154.0MB 3. å®‰è£…MySQL 5.6å¾ˆç®€å•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼šbrew install mysql56 å®‰è£…åè®°å¾—å¯¼å…¥ç¯å¢ƒå˜é‡ï¼šecho 'export PATH="/usr/local/opt/mysql@5.6/bin:$PATH"' >> ~/.zshrc é™„å½•ï¼šMacé€šè¿‡brewå®‰è£…MySQLåè¯¦ç»†é…ç½®è¿‡ç¨‹4. åˆ†é…MySQL 5.6é“¾æ¥å®‰è£…MySQL 5.6ä¹‹åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šbrew unlink mysql &amp;&amp; brew link mysql@5.6 --force æ³¨æ„ï¼šå°½ç®¡å¯ä»¥é€šè¿‡æ‰§è¡Œé“¾æ¥æ¥é‡æ–°åˆ†é…é“¾æ¥ï¼Œä½†æœ€å¥½é¦–å…ˆæ¸…é™¤é“¾æ¥ï¼Œå› ä¸ºå‘å‡ºå¤§é‡æ—¥å¿—å¾ˆéš¾å‘ç°é”™è¯¯ã€‚--forceå‚æ•°çœ‹å…·ä½“æƒ…å†µä½¿ç”¨ï¼Œè‹¥brew link mysql@5.6ä¸æç¤ºè¦å¼ºåˆ¶é“¾æ¥çš„è¯å°±ä¸éœ€è¦è¯¥å‚æ•°äº†ã€‚5. å¯åŠ¨MySQL 5.6å¹¶æ£€æŸ¥ç‰ˆæœ¬ç”¨brewå¯åŠ¨brew services start mysql@5.6 æˆ–mysql.server start æ£€æŸ¥ç‰ˆæœ¬ï¼š$ mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \g. Your MySQL connection id is 1 Server version: 5.6.40 Homebrew Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\h' for help. Type '\c' to clear the current input statement. mysql> ä»æ—¥å¿—å¯ä»¥ç¡®è®¤MySQL 5.6å¯åŠ¨ã€‚å¦‚æœç‰ˆæœ¬ä¸­æ˜¾ç¤º5.7ï¼Œæˆ‘ä»¬è¦æ£€æŸ¥æ—¥å¿—ç­‰ï¼Œå› ä¸ºæœ‰å¯èƒ½æ— æ³•æ›¿æ¢ç¬¦å·é“¾æ¥ã€‚6. åœæ­¢MySQL 5.6æœåŠ¡å¹¶ä¿å­˜æ•°æ®$ mysql.server stop Shutting down MySQL . SUCCESS! $ mv /usr/local/var/mysql /usr/local/var/mysql_56 7. æ¢å¤æœ€åˆå®‰è£…çš„MySQL 5.7å¯åŠ¨$ mv /usr/local/var/mysql_80 /usr/local/var/mysql $ brew unlink mysql56 &amp;&amp; brew link mysql Unlinking /usr/local/Cellar/mysql56/5.6.40... 99 symlinks removed Linking /usr/local/Cellar/mysql/8.0.11... 79 symlinks created $ mysql.server start Starting MySQL . SUCCESS! $ mysql -u root Welcome to the MySQL monitor. Commands end with ; or \g. Your MySQL connection id is 2 Server version: 8.0.11 Homebrew Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\h' for help. Type '\c' to clear the current input statement. mysql> ä»æ—¥å¿—å¯ä»¥ç¡®è®¤MySQL 8.0å¯åŠ¨ã€‚ç–‘éš¾è§£ç­”/usr/local/var/mysql/ä¸ºä»€ä¹ˆæœ‰å¿…è¦åˆ‡æ¢å¦‚æœè‡³å°‘å¯åŠ¨ä¸€æ¬¡8.0ï¼Œå¦‚æœä½¿ç”¨ç›¸åŒçš„æ•°æ®è¿è¡Œ5.6ï¼Œå°†å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š Starting MySQL . ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid). ç”±äºmysqldç­‰æ²¡æœ‰åŠ¨ï¼Œä¼¼ä¹æ˜¯æƒå¨ï¼Œä½†è§£å†³ä¸äº†ã€‚ï¼ˆç”±äºç›®å½•ç»“æ„æ ¹æ®ç‰ˆæœ¬ä¸åŒè€Œä¸åŒï¼Œå¯èƒ½ä¼šå½±å“æƒé™ä»¥å¤–çš„å†…å®¹ï¼‰MySQL 5.6å’ŒMySQL 5.7ï¼ˆ/usr/local/var/mysql/ï¼‰çš„åˆå§‹æ•°æ®ç›®å½•ç»“æ„# MySQL 5.6 $ ls -l /usr/local/var/mysql -rw-rw---- 1 xxx admin 56 7 26 20:54 auto.cnf -rw-r----- 1 xxx admin 0 7 26 20:50 binlog.index -rw-r----- 1 xxx admin 10369 7 27 18:30 xxx.local.err -rw-rw---- 1 xxx admin 5 7 27 18:30 xxx.local.pid -rw-rw---- 1 xxx admin 50331648 7 27 18:30 ib_logfile0 -rw-rw---- 1 xxx admin 50331648 7 26 20:46 ib_logfile1 -rw-rw---- 1 xxx admin 12582912 7 27 18:30 ibdata1 drwx------ 81 xxx admin 2754 7 26 20:46 mysql drwx------ 55 xxx admin 1870 7 26 20:46 performance_schema # MySQL 8.0 $ ls -l /usr/local/var/mysql_80 -rw-r----- 1 xxx admin 56 7 26 19:44 auto.cnf -rw-r----- 1 xxx admin 178 7 26 19:50 binlog.000001 -rw-r----- 1 xxx admin 11628 7 26 20:42 binlog.000002 -rw-r----- 1 xxx admin 32 7 26 19:51 binlog.index -rw------- 1 xxx admin 1680 7 26 19:44 ca-key.pem -rw-r--r-- 1 xxx admin 1112 7 26 19:44 ca.pem -rw-r----- 1 xxx admin 2783 7 26 20:42 xxx.local.err -rw-r----- 1 xxx admin 6 7 26 19:51 xxx.local.pid -rw-r--r-- 1 xxx admin 1112 7 26 19:44 client-cert.pem -rw------- 1 xxx admin 1676 7 26 19:44 client-key.pem -rw-r----- 1 xxx admin 3346 7 26 20:42 ib_buffer_pool -rw-r----- 1 xxx admin 50331648 7 26 20:42 ib_logfile0 -rw-r----- 1 xxx admin 50331648 7 26 19:44 ib_logfile1 -rw-r----- 1 xxx admin 12582912 7 26 20:42 ibdata1 drwxr-x--- 8 xxx admin 272 7 26 19:44 mysql -rw-r----- 1 xxx admin 25165824 7 26 20:19 mysql.ibd drwxr-x--- 104 xxx admin 3536 7 26 19:44 performance_schema -rw------- 1 xxx admin 1680 7 26 19:44 private_key.pem -rw-r--r-- 1 xxx admin 452 7 26 19:44 public_key.pem -rw-r--r-- 1 xxx admin 1112 7 26 19:44 server-cert.pem -rw------- 1 xxx admin 1676 7 26 19:44 server-key.pem drwxr-x--- 3 xxx admin 102 7 26 19:44 sys -rw-r----- 1 xxx admin 10485760 7 26 20:42 undo_001 -rw-r----- 1 xxx admin 10485760 7 26 20:42 undo_002]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Homebrew</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macé€šè¿‡brewå®‰è£…çš„MySQLå„ç§æ— æ³•è¿è¡Œé—®é¢˜æ€»ç»“]]></title>
    <url>%2Fposts%2F6965849b.html</url>
    <content type="text"><![CDATA[ä¸€ã€è§£å†³ ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid).å‚è€ƒï¼šhttps://stackoverflow.com/a/36156848é—®é¢˜æè¿°ä¹‹å‰ç”¨çš„å¥½å¥½çš„ï¼Œç»è¿‡ä¸€æ¬¡æ›´æ–°ï¼ˆ5.6-&gt;8.0ï¼‰åæŸä¸€å¤©çªç„¶ç‚¸äº†ã€‚é€šè¿‡brew services start mysqlå¯åŠ¨ MySQL åï¼Œä½¿ç”¨ Navicat è¿æ¥æç¤ºï¼š2003 - Can't connect to MySQL server on '127.0.0.1' (61 "Connection refused") ç»è¿‡ä¸€ç•ªæŸ¥è¯¢ï¼Œæ®è¯´æ˜¯ MySQL æœåŠ¡æ²¡å¯åŠ¨çš„é—®é¢˜ï¼ˆå…¶å®æˆ‘è§‰å¾—è¿™è¯´æ³•æœ‰ç‚¹ä¸å¯¹ï¼‰ï¼Œç„¶åæˆ‘å°±å°è¯•å¯åŠ¨MySQLæœåŠ¡ï¼Œå‘½ä»¤mysql.server startã€‚æ¥ç€æˆ‘æ”¶åˆ°ä»¥ä¸‹é”™è¯¯ï¼šERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid). xxxä¸ºæˆ‘çš„æœºå™¨åå­—ã€‚ç„¶åæ‰§è¡Œmysql_secure_installationåˆæç¤ºï¼šSecuring the MySQL server deployment. Enter password for user root: Error: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2) åæ¥ç»è¿‡å„ç§å°è¯•å¦‚ï¼šrm /usr/local/var/mysql/*.err rm /usr/local/var/mysql/xxx.local.err find / -name mysql.sock sudo chmod -R 755 /usr/local/var/mysql/ sudo chown -R _mysql:mysql /usr/local/var/mysql ls -laF /usr/local/var/mysql/ sudo rm -f /tmp/mysql.sock.lock ls -laF /tmp è¿˜æœ‰é€šè¿‡ps aux | grep mysqlæ‰¾å‡º MySQL çš„ PIDï¼Œå†ç”¨kill -9 [PID]æ€æ‰è¿›ç¨‹éƒ½æ²¡ç”¨ã€‚æœ€ç»ˆè§£å†³æ–¹æ³•ï¼šé‡è£…å¤§æ³•æœ€åå°è¯•å®Œå…¨é‡æ–°å®‰è£… MySQL ç»ˆäºè§£å†³äº†ã€‚è­¦å‘Šï¼šè¿™å°†åˆ é™¤æ‰€æœ‰æ•°æ®åº“ï¼Œå› æ­¤è¯·ç¡®ä¿å…ˆä¿å­˜è½¬å‚¨ã€‚brew remove mysql brew cleanup --force launchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist rm ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist sudo rm -rf /usr/local/var/mysql brew install mysql mysqld --initialize --explicit_defaults_for_timestamp mysql.server start # no sudo! é‡è£…äº†MySQLåå»ºè®®é‡æ–°æ‰§è¡Œä¸€æ¬¡é…ç½®è„šæœ¬ï¼šmysql_secure_installationæ³¨æ„ï¼šå®‰è£…åå¿…é¡»æ‰§è¡Œmysqld --initialize --explicit_defaults_for_timestamp å¦åˆ™ä»æ— æ³•è§£å†³ä»¥ä¸‹é—®é¢˜ï¼šError: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2) é™„å½•å¸è½½è¿‡ç¨‹å¦‚ä¸‹ï¼ˆä¿ç•™ä»¥ä¾¿æ—¥åéœ€è¦ï¼‰ï¼š$ brew remove mysql Uninstalling /usr/local/Cellar/mysql/8.0.11... (254 files, 232.9MB) mysql 5.7.21, 5.7.22 2 are still installed. Remove all versions with `brew uninstall --force mysql`. $ brew uninstall --force mysql Uninstalling mysql... (640 files, 467.8MB) $ brew cleanup --force Removing: /usr/local/Cellar/dash/0.5.10... (6 files, 196.2KB) Removing: /usr/local/Cellar/dash/0.5.9.1... (5 files, 199KB) Removing: /usr/local/Cellar/freetds/1.00.89... (2,094 files, 11.9MB) Removing: /usr/local/Cellar/freetds/1.00.91... (2,094 files, 11.9MB) Removing: /usr/local/Cellar/freetype/2.9... (60 files, 2.7MB) Removing: /usr/local/Cellar/gdbm/1.14.1_1... (20 files, 555.8KB) Removing: /usr/local/Cellar/icu4c/61.1... (249 files, 67.2MB) Removing: /usr/local/Cellar/libidn2/2.0.4... (46 files, 580.8KB) Removing: /usr/local/Cellar/libpq/10.3... (2,425 files, 26.8MB) Removing: /usr/local/Cellar/libunistring/0.9.9... (54 files, 4.4MB) Removing: /usr/local/Cellar/nginx/1.13.12... (23 files, 1.4MB) Removing: /usr/local/Cellar/nginx/1.15.0... (23 files, 1.4MB) Removing: /usr/local/Cellar/node/10.0.0... (5,301 files, 51.7MB) Removing: /usr/local/Cellar/node/10.1.0... (7,283 files, 55.4MB) Removing: /usr/local/Cellar/node/10.2.1... (5,301 files, 51.9MB) Removing: /usr/local/Cellar/node/9.11.1... (5,125 files, 49.7MB) Removing: /usr/local/Cellar/openssl/1.0.2n... (1,792 files, 12.3MB) Removing: /usr/local/Cellar/openssl/1.0.2o_1... (1,791 files, 12.3MB) Removing: /usr/local/Cellar/php/7.2.5... (515 files, 78.9MB) Removing: /usr/local/Cellar/php/7.2.6... (515 files, 78.9MB) Removing: /usr/local/Cellar/php@5.6/5.6.35_1... (498 files, 63.8MB) Removing: /usr/local/Cellar/php@5.6/5.6.36... (498 files, 63.8MB) Removing: /usr/local/Cellar/php@7.0/7.0.29_1... (502 files, 65.5MB) Removing: /usr/local/Cellar/php@7.0/7.0.30... (502 files, 65.5MB) Removing: /usr/local/Cellar/python/3.6.5... (4,794 files, 99.9MB) Removing: /usr/local/Cellar/readline/7.0.3_1... (46 files, 1.5MB) Removing: /usr/local/Cellar/sqlite/3.23.1... (11 files, 3MB) Removing: /usr/local/Cellar/webp/0.6.1... (38 files, 2MB) Removing: /usr/local/Cellar/wget/1.19.4_1... (50 files, 3.7MB) Removing: /usr/local/Cellar/xz/5.2.3... (92 files, 1.4MB) Removing: /usr/local/Cellar/zsh/5.4.2_3... (1,390 files, 11.8MB) Removing: /Users/seal/Library/Caches/Homebrew/dash-0.5.10.sierra.bottle.tar.gz... (83.6KB) Removing: /Users/seal/Library/Caches/Homebrew/dash-0.5.9.1.sierra.bottle.tar.gz... (83.2KB) Removing: /Users/seal/Library/Caches/Homebrew/freetds-1.00.89.sierra.bottle.tar.gz... (2.3MB) Removing: /Users/seal/Library/Caches/Homebrew/freetds-1.00.91.sierra.bottle.tar.gz... (2.3MB) Removing: /Users/seal/Library/Caches/Homebrew/freetype-2.9.sierra.bottle.1.tar.gz... (896.8KB) Removing: /Users/seal/Library/Caches/Homebrew/gdbm-1.14.1_1.sierra.bottle.tar.gz... (182.5KB) Removing: /Users/seal/Library/Caches/Homebrew/icu4c-61.1.sierra.bottle.tar.gz... (25.4MB) Removing: /Users/seal/Library/Caches/Homebrew/libidn2-2.0.4.sierra.bottle.tar.gz... (190.4KB) Removing: /Users/seal/Library/Caches/Homebrew/libpq-10.3.sierra.bottle.tar.gz... (6MB) Removing: /Users/seal/Library/Caches/Homebrew/libunistring-0.9.9.sierra.bottle.tar.gz... (1.4MB) Removing: /Users/seal/Library/Caches/Homebrew/mysql-5.7.21.sierra.bottle.tar.gz... (72.2MB) Removing: /Users/seal/Library/Caches/Homebrew/mysql-5.7.22.sierra.bottle.tar.gz... (72.2MB) Removing: /Users/seal/Library/Caches/Homebrew/nginx-1.13.12.sierra.bottle.tar.gz... (570.5KB) Removing: /Users/seal/Library/Caches/Homebrew/nginx-1.15.0.sierra.bottle.tar.gz... (572.6KB) Removing: /Users/seal/Library/Caches/Homebrew/node-10.0.0.sierra.bottle.tar.gz... (13.7MB) Removing: /Users/seal/Library/Caches/Homebrew/node-10.1.0.sierra.bottle.tar.gz... (13.7MB) Removing: /Users/seal/Library/Caches/Homebrew/node-10.2.1.sierra.bottle.tar.gz... (13.8MB) Removing: /Users/seal/Library/Caches/Homebrew/node-9.11.1.sierra.bottle.tar.gz... (13.3MB) Removing: /Users/seal/Library/Caches/Homebrew/openssl-1.0.2n.sierra.bottle.tar.gz... (3.7MB) Removing: /Users/seal/Library/Caches/Homebrew/openssl-1.0.2o_1.sierra.bottle.tar.gz... (3.7MB) Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.4_1.sierra.bottle.tar.gz... (21.6MB) Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.5.sierra.bottle.tar.gz... (21.6MB) Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.6.sierra.bottle.tar.gz... (21.6MB) Removing: /Users/seal/Library/Caches/Homebrew/php@5.6-5.6.35_1.sierra.bottle.tar.gz... (19.4MB) Removing: /Users/seal/Library/Caches/Homebrew/php@5.6-5.6.36.sierra.bottle.tar.gz... (19.4MB) Removing: /Users/seal/Library/Caches/Homebrew/php@7.0-7.0.29_1.sierra.bottle.tar.gz... (20MB) Removing: /Users/seal/Library/Caches/Homebrew/php@7.0-7.0.30.sierra.bottle.tar.gz... (20MB) Removing: /Users/seal/Library/Caches/Homebrew/php@7.1-7.1.16_1.sierra.bottle.tar.gz... (20.5MB) Removing: /Users/seal/Library/Caches/Homebrew/python-3.6.5.sierra.bottle.1.tar.gz... (21.9MB) Removing: /Users/seal/Library/Caches/Homebrew/readline-7.0.3_1.sierra.bottle.tar.gz... (497.3KB) Removing: /Users/seal/Library/Caches/Homebrew/sqlite-3.23.1.sierra.bottle.tar.gz... (1.4MB) Removing: /Users/seal/Library/Caches/Homebrew/tomcat-9.0.6.tar.gz.incomplete... (572KB) Removing: /Users/seal/Library/Caches/Homebrew/webp-0.6.1.sierra.bottle.1.tar.gz... (809.1KB) Removing: /Users/seal/Library/Caches/Homebrew/wget-1.19.4_1.sierra.bottle.tar.gz... (1.3MB) Removing: /Users/seal/Library/Caches/Homebrew/xz-5.2.3.sierra.bottle.tar.gz... (462.1KB) Removing: /Users/seal/Library/Caches/Homebrew/zsh-5.4.2_3.sierra.bottle.tar.gz... (3.3MB) Removing: /Users/seal/Library/Logs/Homebrew/apr... (68B) Removing: /Users/seal/Library/Logs/Homebrew/apr-util... (68B) Removing: /Users/seal/Library/Logs/Homebrew/argon2... (68B) Removing: /Users/seal/Library/Logs/Homebrew/aspell... (68B) Removing: /Users/seal/Library/Logs/Homebrew/autoconf... (68B) Removing: /Users/seal/Library/Logs/Homebrew/brew-php-switcher... (119B) Removing: /Users/seal/Library/Logs/Homebrew/dash... (68B) Removing: /Users/seal/Library/Logs/Homebrew/freetds... (68B) Removing: /Users/seal/Library/Logs/Homebrew/freetype... (68B) Removing: /Users/seal/Library/Logs/Homebrew/gdbm... (68B) Removing: /Users/seal/Library/Logs/Homebrew/gettext... (68B) Removing: /Users/seal/Library/Logs/Homebrew/glib... (68B) Removing: /Users/seal/Library/Logs/Homebrew/gmp... (68B) Removing: /Users/seal/Library/Logs/Homebrew/icu4c... (68B) Removing: /Users/seal/Library/Logs/Homebrew/jpeg... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libffi... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libidn2... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libpng... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libpq... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libsodium... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libtool... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libunistring... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libzip... (68B) Removing: /Users/seal/Library/Logs/Homebrew/mcrypt... (68B) Removing: /Users/seal/Library/Logs/Homebrew/mhash... (68B) Removing: /Users/seal/Library/Logs/Homebrew/mysql... (1.3KB) Removing: /Users/seal/Library/Logs/Homebrew/nginx... (68B) Removing: /Users/seal/Library/Logs/Homebrew/node... (68B) Removing: /Users/seal/Library/Logs/Homebrew/openssl... (68B) Removing: /Users/seal/Library/Logs/Homebrew/pcre... (68B) Removing: /Users/seal/Library/Logs/Homebrew/php... (12 files, 2.3KB) Removing: /Users/seal/Library/Logs/Homebrew/php@5.6... (12 files, 2.4KB) Removing: /Users/seal/Library/Logs/Homebrew/php@7.0... (12 files, 2.9KB) Removing: /Users/seal/Library/Logs/Homebrew/php@7.1... (12 files, 2.4KB) Removing: /Users/seal/Library/Logs/Homebrew/python... (3 files, 127.8KB) Removing: /Users/seal/Library/Logs/Homebrew/readline... (68B) Removing: /Users/seal/Library/Logs/Homebrew/sqlite... (68B) Removing: /Users/seal/Library/Logs/Homebrew/tomcat... (68B) Removing: /Users/seal/Library/Logs/Homebrew/tomcat@8... (110B) Removing: /Users/seal/Library/Logs/Homebrew/unixodbc... (68B) Removing: /Users/seal/Library/Logs/Homebrew/webp... (68B) Removing: /Users/seal/Library/Logs/Homebrew/wget... (68B) Removing: /Users/seal/Library/Logs/Homebrew/xz... (68B) Removing: /Users/seal/Library/Logs/Homebrew/zsh... (68B) Removing: /Users/seal/Library/Logs/Homebrew/zsh-completions... (117B) ==> This operation has freed approximately 1.3GB of disk space.]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Homebrew</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Macä¸Šä½¿ç”¨brewå®‰è£…MySQL]]></title>
    <url>%2Fposts%2Fe87d9191.html</url>
    <content type="text"><![CDATA[å‚è€ƒï¼šhttps://segmentfault.com/q/1010000000475470å®‰è£…brew install mysql å¼€å¯MySQLé€šè¿‡brewbrew services start mysql æˆ–mysql.server start ä½¿ç”¨MySQLçš„é…ç½®è„šæœ¬ï¼ˆMySQL æä¾›çš„é…ç½®å‘å¯¼ï¼‰mysql_secure_installation # å®Œæ•´è·¯å¾„ /usr/local/opt/mysql/bin/mysql_secure_installation å¯åŠ¨è¿™ä¸ªè„šæœ¬åï¼Œå³å¯æ ¹æ®å¦‚ä¸‹å‘½ä»¤æç¤ºè¿›è¡Œåˆå§‹åŒ–è®¾ç½®ï¼š$ mysql_secure_installation NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY! In order to log into MySQL to secure it, we'll need the current password for the root user. If you've just installed MySQL, and you haven't set the root password yet, the password will be blank, so you should just press enter here. # è¾“å…¥å½“å‰rootå¯†ç ï¼Œä¸€èˆ¬ä¸ºç©º Enter current password for root (enter for none): OK, successfully used password, moving on... Setting the root password ensures that nobody can log into the MySQL root user without the proper authorisation. # é¦–æ¬¡ä½¿ç”¨è‡ªå¸¦é…ç½®è„šæœ¬ï¼Œè®¾ç½®rootå¯†ç  Set root password? [Y/n] y New password: Re-enter new password: Password updated successfully! Reloading privilege tables.. ... Success! By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. # æ˜¯å¦åˆ é™¤åŒ¿åç”¨æˆ· Remove anonymous users? [Y/n] y ... Success! Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. # æ˜¯å¦ç¦æ­¢è¿œç¨‹ç™»å½• Disallow root login remotely? [Y/n] y ... Success! By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. # æ˜¯å¦åˆ é™¤æµ‹è¯•æ•°æ®åº“ï¼Œå¹¶ç™»å½• Remove test database and access to it? [Y/n] y - Dropping test database... ... Success! - Removing privileges on test database... ... Success! Reloading the privilege tables will ensure that all changes made so far will take effect immediately. # æ˜¯å¦é‡æ–°è½½å…¥æƒé™è¡¨ Reload privilege tables now? [Y/n] y ... Success! All done! If you've completed all of the above steps, your MySQL installation should now be secure. Thanks for using MySQL! Cleaning up... 5.6ç‰ˆæœ¬å’Œ8.0ç‰ˆæœ¬çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œ8.0ç‰ˆä¼¼ä¹æœ‰ä¸ªå¯†ç å®‰å…¨æ£€æµ‹æ’ä»¶ã€‚ä¸‹é¢æ˜¯8.0ç‰ˆæœ¬çš„ï¼š$ mysql_secure_installation Securing the MySQL server deployment. Connecting to MySQL using a blank password. Securing the MySQL server deployment. Connecting to MySQL using a blank password. VALIDATE PASSWORD PLUGIN can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD plugin? # æ˜¯å¦é‡‡ç”¨mysqlå¯†ç å®‰å…¨æ£€æµ‹æ’ä»¶ï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©äº†æ˜¯ï¼Œå¯†ç æ£€æŸ¥æ’ä»¶è¦æ±‚å¯†ç å¤æ‚ç¨‹åº¦é«˜ï¼Œå¤§å°å†™å­—æ¯+æ•°å­—+å­—ç¬¦ç­‰ï¼‰ Press y|Y for Yes, any other key for No: y There are three levels of password validation policy: LOW Length >= 8 MEDIUM Length >= 8, numeric, mixed case, and special characters STRONG Length >= 8, numeric, mixed case, special characters and dictionary file # æ ¹æ®ä¸Šé¢æç¤ºé€‰æ‹©å¯†ç å¼ºåº¦ Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2 # é¦–æ¬¡ä½¿ç”¨è‡ªå¸¦é…ç½®è„šæœ¬ï¼Œè®¾ç½®rootå¯†ç  Please set the password for root here. New password: Re-enter new password: Estimated strength of the password: 100 Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. # æ˜¯å¦åˆ é™¤åŒ¿åç”¨æˆ· Remove anonymous users? (Press y|Y for Yes, any other key for No) : y Success. Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. # æ˜¯å¦ç¦æ­¢è¿œç¨‹ç™»å½• Disallow root login remotely? (Press y|Y for Yes, any other key for No) : y Success. By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. # æ˜¯å¦åˆ é™¤æµ‹è¯•æ•°æ®åº“ï¼Œå¹¶ç™»å½• Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y - Dropping test database... Success. - Removing privileges on test database... Success. Reloading the privilege tables will ensure that all changes made so far will take effect immediately. # æ˜¯å¦é‡æ–°è½½å…¥æƒé™è¡¨ Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y Success. All done! åœæ­¢MySQLbrew services stop mysql]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Homebrew</tag>
        <tag>æ•°æ®åº“</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºMaterialä¸»é¢˜æºç çš„ä¸€äº›å°ä¿®æ”¹ï¼ˆä¿®å¤Bugï¼Ÿï¼‰]]></title>
    <url>%2Fposts%2F832fa05b.html</url>
    <content type="text"><![CDATA[ä¸€ã€æ’ä»¶hexo-prism-pluginå®ç°ä»£ç é«˜äº®å¯¼è‡´çš„è¡Œå·ä¸æ˜¾ç¤ºé—®é¢˜ä»å®˜æ–¹æ–‡æ¡£æˆ‘ä»¬å¯ä»¥çœ‹åˆ°mdä¸»é¢˜æ”¯æŒçš„ä»£ç é«˜äº®æ–¹å¼ï¼šç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯1.4.0ç¨³å®šç‰ˆï¼ˆæ—¶é—´20180722ï¼‰ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ hexo-prism-plugin æ’ä»¶ï¼Œå…·ä½“ç”¨æ³•å®˜æ–¹æ–‡æ¡£è®²çš„å¾ˆè¯¦ç»†æˆ‘å°±ä¸å¤šè¯´äº†ã€‚æ•²é»‘æ¿ï¼Œé‡ç‚¹é‡ç‚¹ï¼ï¼ï¼æˆ‘åœ¨è¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹1.4.0ç‰ˆçš„mdä¸»é¢˜å¯¹ hexo-prism-plugin æ’ä»¶ä¼¼ä¹ä¸å¤ªå…¼å®¹ã€‚è¿™æ˜¯æˆ‘çš„ prism æ’ä»¶é…ç½®ï¼šprism_plugin: mode: 'preprocess' # realtime/preprocess theme: 'solarizedlight' line_number: true # default false å†ç»™ä½ ä»¬çœ‹ä¸€ä¸‹æˆªå›¾ï¼šæ˜¯ä¸æ˜¯æ„Ÿè§‰æœ‰ä»€ä¹ˆä¸å¯¹åŠ²ï¼Ÿï¼Ÿç›¸ä¿¡çœ‹åˆ°è¿™é‡Œå¤§å®¶åº”è¯¥éƒ½çŸ¥é“ä»€ä¹ˆå›äº‹äº†ï¼Œline_numberæˆ‘è®¾ç½®ä¸ºtrueè¡¨ç¤ºæˆ‘å¼€äº†è¡Œå·æ˜¾ç¤ºï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬çš„è¡Œå·å‘¢ï¼Ÿè¿˜æœ‰é‚£ä¸ªè¯¡å¼‚çš„ç«–çº¿æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿäºæ˜¯æˆ‘ç”¨chromeçš„å¼€å‘è€…æ¨¡å¼è°ƒè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°äº†ä¸€ä¸ªå¾ˆçœ¼ç†Ÿçš„CSSå±æ€§â€”â€”paddingã€‚å¦‚å›¾ï¼šè¿™é‡Œç»™æ²¡å­¦è¿‡ç¼–ç¨‹çš„åŒå­¦ç§‘æ™®ä¸€ä¸‹paddingæ˜¯ä»€ä¹ˆæ„æ€ï¼šå…ˆæ”¾ä¸ªW3Schoolçš„é“¾æ¥å‹å‹æƒŠ= =ï¼šCSS padding å±æ€§paddingå®šä¹‰å’Œç”¨æ³•ï¼špadding ç®€å†™å±æ€§åœ¨ä¸€ä¸ªå£°æ˜ä¸­è®¾ç½®æ‰€æœ‰å†…è¾¹è·å±æ€§ã€‚ä¾‹ï¼špadding:10px; ç±»ä¼¼äºè¿™ç§çš„æ„æ€å°±æ˜¯ä¸Šä¸‹å·¦å³å››ä¸ªå†…è¾¹è·éƒ½æ˜¯ 10pxã€‚é‚£ä¹ˆå†…è¾¹è·åˆæ˜¯ä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿçœ‹å›¾ï¼šæ‰€ä»¥å†…è¾¹è·çš„æ„æ€å°±æ˜¯ç»„ä»¶çš„å†…å®¹åˆ°è¾¹æ¡†çš„è·ç¦»ã€‚å†…è¾¹è·çš„æ”¹å˜ä¸ä¼šå½±å“æ•´ä¸ªç»„ä»¶çš„å¤§å°ï¼Œä½†æ˜¯ä¼šå½±å“ç»„ä»¶å†…å®¹çš„æ˜¾ç¤ºå¤§å°åºŸè¯å°±ä¸å¤šè¯´äº†â€¦..æˆ‘çš„ç›´è§‰å‘Šè¯‰æˆ‘å°±æ˜¯å®ƒçš„é”…ï¼Œæˆ‘ä»¬ç°åœ¨æ¥æŠŠå®ƒå»æ‰è¯•è¯•ï¼Unbelievable! è¡Œå·å‡ºç°äº†ï¼ä½†æ˜¯åœ¨Chromeçš„å¼€å‘è€…æ¨¡å¼æ”¹åªæ˜¯ä¸´æ—¶çš„ï¼Œåˆ·æ–°å°±å›åˆ°åŸæ¥çš„æ ·å­äº†ï¼Œæˆ‘ä»¬è¦å»ä¸»é¢˜çš„æºä»£ç ä¿®æ”¹ã€‚ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ç»ˆäºæ‰¾åˆ°äº†ç›¸å…³ä»£ç æ‰€åœ¨çš„æ–‡ä»¶hexoæ ¹ç›®å½•/themes/material/source/css/style.min.cssæ³¨æ„ï¼šæ˜¯style.min.cssè¿™ä¸ªå‹ç¼©è¿‡çš„cssæ–‡ä»¶ï¼Œè€Œä¸æ˜¯style.cssï¼ï¼æ‰“å¼€style.min.cssï¼ŒæŸ¥æ‰¾padding:1pcæˆ–è€…#post-content preéƒ½OKï¼Œç„¶åæŠŠpadding:1pc;æ³¨é‡Šæ‰å³å¯ã€‚å¦‚å›¾ï¼šäºŒã€æ–‡ç« ç»“å°¾æ·»åŠ ç‰ˆæƒå£°æ˜å‚è€ƒï¼šhttp://tianma.space/post/1810369046/index.htmlç°åœ¨æ˜¯ç‰ˆæƒæ—¶ä»£ï¼Œå¾ˆå¤šåšä¸»éƒ½ä¼šåœ¨æ–‡ç« ç»“å°¾å‡ºå†™ä¸Šè¯¸å¦‚â€œè½¬è½½è¯·ä¿ç•™å£°æ˜ä¿¡æ¯â€ä¹‹ç±»çš„ã€‚ä¸‹é¢æˆ‘æ¥è¯´ä¸‹å¦‚ä½•åœ¨ Hexo ä¸­æ·»åŠ ç‰ˆæƒå£°æ˜ã€‚è¿™é‡Œæˆ‘æ‹¿ Material ä¸»é¢˜ä½œä¸ºä¾‹å­ï¼Œå…¶ä»–ä¸»é¢˜å¯å‚è€ƒåè‡ªè¡Œä¿®æ”¹ã€‚è‡ªå®šä¹‰å­—æ®µï¼šè€ƒè™‘åˆ°æœ‰äº›åšæ–‡å¯èƒ½æ˜¯ä¸éœ€è¦ç‰ˆæƒå£°æ˜çš„ï¼Œæ¯”å¦‚è½¬è½½ã€ç¿»è¯‘ä¹‹ç±»çš„ï¼Œæ‰€ä»¥è‡ªå®šä¹‰ post_license ä½œä¸ºå¼€å…³ï¼šä¸»é¢˜é…ç½®æ–‡ä»¶ _config.yml ä¸­æ·»åŠ å­—æ®µï¼Œä½œä¸ºæ€»å¼€å…³ï¼š post_license: enable: true # or false æ–‡ç« çš„ Front-matter ä¸­æ·»åŠ å­—æ®µï¼Œä½œä¸ºç‹¬ç«‹å¼€å…³ï¼š post_license: true # or false åˆ›å»º material/layout/_partial/post_license.ejs: &lt;div> &lt;br/> &lt;ul id="post-license" class="post-license"> &lt;li class="post-license-author"> &lt;strong>æœ¬æ–‡ä½œè€…ï¼š&lt;/strong> &lt;a href="&lt;%= config.url %>">&lt;%= theme.author %>&lt;/a> &lt;/li> &lt;li class="post-license-link"> &lt;strong>æœ¬æ–‡é“¾æ¥ï¼š&lt;/strong> &lt;a href="&lt;%= page.permalink %>">&lt;%= page.title %>&lt;/a> &lt;/li> &lt;li class="post-license-statement"> &lt;strong>ç‰ˆæƒå£°æ˜ï¼š &lt;/strong> æœ¬æ–‡ç”± &lt;%= config.author %> åŸåˆ›ï¼Œé‡‡ç”¨ &lt;a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="license" target="_blank">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«ï¼ˆCC BY-NC-SAï¼‰4.0 å›½é™…è®¸å¯åè®®&lt;/a> &lt;/br>è½¬è½½è¯·ä¿ç•™ä»¥ä¸Šå£°æ˜ä¿¡æ¯ï¼ &lt;/li> &lt;/ul> &lt;/div> åœ¨ material/layout/_partial/post-content.ejs å¼•å…¥ post_license.ejs: &lt;% if(theme.post_license.enable &amp;&amp; page.post_license !== false){%> &lt;%- partial('_partial/post_license') %> &lt;% } %> åœ¨ material/source/css/style.min.css ä¸­æ·»åŠ  ç‰ˆæƒå£°æ˜ æ ·å¼ï¼š #post-license { margin: 2em 0 0; padding: 0.5em 1em; border-left: 3px solid #ff4081; background-color: #f9f9f9; list-style: none; } ä¸‰ã€Disquså»¶è¿ŸåŠ è½½å‚è€ƒï¼šhttps://blog.itswincer.com/posts/e5d13eb/å…ˆè®²ä¸‹è€ƒè™‘å»¶è¿ŸåŠ è½½çš„åˆè¡·ï¼šå¥½å§ï¼Œå…¶å®æ˜¯å› ä¸ºåœ¨å¤§å±€åŸŸç½‘å†…æ²¡æ³•åšåˆ°æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½çœ‹è¯„è®ºï¼Œå¦‚æœåŠ è½½ä¸å‡ºè¯„è®ºå°±ä¼šæœ‰ä¸€æ®µæ—¶é—´åœ¨ä¸‹æ–¹æ˜¾ç¤ºç™½å—ï¼Œå¼ºè¿«ç—‡çš„æˆ‘æ€ä¹ˆèƒ½å¿å—ï¼Ÿï¼Ÿï¼ï¼äºæ˜¯æˆ‘å°±æƒ³æŠŠè¯„è®ºåŠŸèƒ½è®¾è®¡æˆç½‘ç»œå¥½çš„è¯å°±è‡ªåŠ¨æ˜¾ç¤ºè¯„è®ºï¼Œå¦åˆ™éœ€è¦æ‰‹åŠ¨ç‚¹å‡»ã€‚æ­£å¥½çœ‹åˆ°ç½‘ä¸Šæœ‰ï¼Œäºæ˜¯å°±å€Ÿé‰´äº†ã€‚ç„¶åè¯´ä¸‹åŸç†ï¼šåŸç†å˜›ï¼Œå…ˆç”¨ ajax å¼‚æ­¥å‘é€ä¸€ä¸ª get è¯·æ±‚è‡³ Disqus æœåŠ¡å™¨ï¼Œæ¥æ”¶æˆåŠŸåˆ™å±è”½æŒ‰é’®ï¼ŒåŠ è½½è¯„è®ºï¼›è¶…æ—¶åˆ™è‡ªåŠ¨æ–­å¼€ï¼Œå¹¶æ˜¾ç¤ºåŠ è½½æŒ‰é’®ï¼šä¿®æ”¹æ–‡ä»¶ä½ç½®ï¼š&lt;Materialä¸»é¢˜ç›®å½•&gt;/layout/_widget/comment/disqus_click/main.ejs&lt;div class="btn_click_load"> &lt;button class="disqus_click_btn">&lt;%= __('post.comments_load_button') %>&lt;/button> &lt;/div> &lt;!-- &lt;script type="text/ls-javascript" id="disqus-lazy-load-script"> $('.btn_click_load').click(function() { //click to load comments (function() { // DON'T EDIT BELOW THIS LINE var d = document; var s = d.createElement('script'); s.src = '//&lt;%= theme.comment.shortname %>.disqus.com/embed.js'; s.setAttribute('data-timestamp', + new Date()); (d.head || d.body).appendChild(s); })(); $('.btn_click_load').css('display','none'); }); &lt;/script> --> &lt;% /* å»¶è¿ŸåŠ è½½ disqusï¼Œtimeout å¯ä»¥è‡ªå·±è®¾ç½®æ—¶é•¿ */ %> &lt;script type="text/javascript" id="disqus-lazy-load-script"> $.ajax({ url: 'https://disqus.com/next/config.json', timeout: 1000, type: 'GET', success: function(){ var d = document; var s = d.createElement('script'); s.src = '//&lt;%= theme.comment.shortname %>.disqus.com/embed.js'; s.setAttribute('data-timestamp', + new Date()); (d.head || d.body).appendChild(s); $('.disqus_click_btn').css('display', 'none'); }, error: function() { $('.disqus_click_btn').css('display', 'block'); } }); &lt;/script> &lt;% /* ç”±äºæˆ‘è¶…æ—¶æ—¶é•¿è®¾ç½®å¾—æ¯”è¾ƒçŸ­ï¼Œæ‰€ä»¥å¯èƒ½ç¿»å¢™äº†è¿˜æ˜¯æ²¡æœ‰è‡ªåŠ¨åŠ è½½è¯„è®ºï¼Œè¿™æ—¶å°±éœ€è¦æ‰‹åŠ¨ç‚¹å‡»åŠ è½½äº† */ %> &lt;script type="text/javascript" id="disqus-click-load"> $('.btn_click_load').click(() => { //click to load comments (() => { // DON'T EDIT BELOW THIS LINE var d = document; var s = d.createElement('script'); s.src = '//&lt;%= theme.comment.shortname %>.disqus.com/embed.js'; s.setAttribute('data-timestamp', + new Date()); (d.head || d.body).appendChild(s); })(); $('.disqus_click_btn').css('display','none'); }); &lt;/script> æˆ‘æ˜¯æŠŠåŸæ¥çš„æ³¨é‡Šæ‰å†åŠ åé¢çš„ï¼Œé“¾æ¥ä¸­è¯´è¶…æ—¶æ—¶é—´è®¾ä¸º300æ¯”è¾ƒçŸ­ï¼Œçš„ç¡®çŸ­ï¼Œæˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè®¾ç½®ä¸º1000å°±ä¸å½±å“é˜…è¯»äº†ã€‚æ³¨æ„ï¼šæ”¹å®Œåè®°å¾—ç¡®è®¤ä¸»é¢˜é…ç½®æ–‡ä»¶æ˜¯å¦å¯ç”¨äº†disqus_click]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>hexoä¸»é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…¨ç«™å¼€å¯httpsæ€»ç»“ï¼ˆè‰°è‹¦å†ç¨‹ï¼Ÿï¼‰]]></title>
    <url>%2Fposts%2F41e1ea07.html</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨æ­å»ºå®ŒHexoä¹‹åï¼Œæˆ‘å°±å¼€å§‹æ€è€ƒè¦ä¸è¦é…ç½®httpså‘¢ï¼Ÿæœ€åæ·±æ€ç†Ÿè™‘ï¼Œè¿˜æ˜¯å†³å®šä¸Šhttpså§ï¼æ¯•ç«Ÿç°åœ¨httpså·²ç»å¼€å§‹æ™®åŠï¼ŒåƒChromeã€Firfoxè¿™äº›æµè§ˆå™¨å¦‚æœä¸æ˜¯httpsåè®®çš„ä¼šæç¤ºå¦‚ä¸‹å›¾ï¼Œè­¦å‘Šâ€œä¸å®‰å…¨â€ä»€ä¹ˆçš„ã€‚å¼ºè¿«ç—‡æ‚£è€…è¡¨ç¤ºçœ‹ç€æœ€ä¸èˆ’æœäº†ï¼ˆé€ƒï½äºæ˜¯æˆ‘å°±å¼€å§‹äº†é…ç½®httpsä¹‹è·¯â€¦â€¦SSLè¯ä¹¦é€‰å–åˆé€‚çš„sslè¯ä¹¦https = http + sslï¼Œæ‰€ä»¥è¦èµ°httpsåè®®é¦–å…ˆè¦ç”³è¯·sslè¯ä¹¦ã€‚ä½†æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å»ºç«™ï¼Œå¯¹sslè¯ä¹¦ä¸€ç‚¹éƒ½ä¸æ‡‚å•Šï¼ï¼å“ªä¸ªsslè¯ä¹¦æ›´å¥½æˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œå»æœç´¢ä¸€ç¿»å‘ç°å„ç§è¯´æ³•ï¼Œæœ€åè¿˜æ˜¯å»è¯·æ•™äº†å„ä½å‰è¾ˆã€‚ç»è¿‡å„ä½å‰è¾ˆçš„å»ºè®®ï¼Œæˆ‘äº†è§£åˆ°äº†Let&#39;s Encryptï¼Œè¯¦ç»†ä»‹ç»æˆ‘å°±ä¸è¯´äº†ï¼Œè¿™æ˜¯å®ƒåœ¨ç»´åŸºç™¾ç§‘çš„èµ„æ–™ï¼Œç„¶åè¿™æ˜¯å®˜ç½‘é™¤æ­¤ä¹‹å¤–è¿˜æœ‰Digicertã€SSL For Freeã€CA Certã€‚Digicertå¾ˆè´µï¼Œä½†æ˜¯æ®æŸä½å‰è¾ˆè¯´ä¼¼ä¹å¤§ä¼ä¸šå–œæ¬¢ç”¨å®ƒçš„æŒºå¤šï¼Œè€Œä¸”äººå®¶è¿˜æ”¯æŒç­¾å‘ .onion åŸŸåçš„è¯ä¹¦ï¼ˆEVï¼‰ã€‚çœ‹è‡ªå·±éœ€æ±‚å§ï¼Œæˆ‘æœ€åè¿˜æ˜¯ç”¨äº†Let&#39;s Encryptã€‚è€çˆ¶äº²è¯´è¿™æ˜¯å…è´¹çš„ï¼Œä½†éªŒè¯è¿‡ç¨‹è¦åœ¨æœåŠ¡å™¨ä¸Šåšï¼Œæœ‰ç‚¹å¤æ‚ã€‚æˆ‘è§‰å¾—å¤æ‚ç‚¹æ²¡æ‰€è°“ï¼Œå¥½ç”¨å°±è¡Œã€‚æŸç¾¤é‡Œçš„å‰è¾ˆè¯´ä¹Ÿå¯ä»¥ä¸éªŒè¯ï¼Œè‡ªç­¾åå°±å¥½ï¼ˆå…¶å®æˆ‘è¿˜æ²¡æ‡‚å“ˆå“ˆå“ˆï¼Œå°´å°¬.jpgï¼‰ï¼›å‰è¾ˆä»¬è¿˜è¯´äº†ä¸€ç§DNSæ–¹å¼éªŒè¯ï¼Œä¸éœ€è¦æ¶è®¾é¢å¤–æœåŠ¡ï¼›åœ¨æˆ‘é—®äº†â€œLetâ€™s encryptç”¨standaloneè¿˜æ˜¯webrootæ¨¡å¼æ›´å¥½â€ä¹‹å(å…¶å®è¿™ä¸ªæˆ‘ä¹Ÿä¸æ‡‚)ï¼Œç»ˆäºå†³å®šç”¨DNSæ¨¡å¼ï¼ŒDNS æ¨¡å¼æ›´æ–¹ä¾¿ï¼Œè¿˜å¯ä»¥ç­¾é€šé…ç¬¦è¯ä¹¦ã€‚å¼€å§‹è·å–SSLè¯ä¹¦å‚è€ƒï¼šä½¿ç”¨acme.shè„šæœ¬çš„DNS APIæ–¹å¼ç”³è¯·åŠæ›´æ–°letâ€™s encryptè¯ä¹¦ç¾¤é‡Œå¤šä½å‰è¾ˆä»‹ç»äº†ä¸€ä¸ªåœ¨ Linux ä¸Šç”³è¯·letâ€™s encryptè¯ä¹¦çš„è„šæœ¬â€”â€”acme.shacme.shè„šæœ¬LinuxæœåŠ¡å™¨ä¸‹ä½¿ç”¨acme.shè„šæœ¬æ˜¯ç”³è¯·letâ€™s encryptè¯ä¹¦æœ€ä¾¿æ·çš„æ–¹å¼ï¼Œæ¯”å®˜æ–¹æ¨èçš„certbotè„šæœ¬å·¥å…·è¦æ–¹ä¾¿å¼ºå¤§çš„å¤šã€‚å¥½å¤„æ˜¯å¯¹ç¯å¢ƒè¦æ±‚è¾ƒä½ï¼Œè·¯ç”±å™¨ä¸Š busybox ash éƒ½èƒ½è·‘ï¼Œåªéœ€è¦ä½¿ç”¨åˆ° curl ç­‰å°‘æ•°å‡ ä¸ªå¤–éƒ¨ç¨‹åºå®‰è£…æ–‡æ¡£ï¼š https://github.com/Neilpang/acme.sh/wiki/è¯´æ˜å‰ææ¡ä»¶æ‹¥æœ‰ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚ mydomain.com (åœ¨å›½å†…ä¸»æœºçš„ç”¨çš„è¯ï¼Œè¿˜éœ€è¦é€šè¿‡ICPå¤‡æ¡ˆ)ç¡®å®šäºŒçº§åŸŸåï¼Œå¹¶ä¸”åœ¨åŸŸåæœåŠ¡å™¨åˆ›å»ºä¸€æ¡Aè®°å½•ï¼Œæ‰§è¡Œäº‘ä¸»æœºçš„å…¬ç½‘IPåœ°å€ã€‚www.mydomain.comæŒ‡å‘xxx.xxx.xxx.xxxçš„IPåœ°å€è¦ç­‰åˆ°æ–°åˆ›å»ºçš„åŸŸåè§£æèƒ½åœ¨å…¬ç½‘ä¸Šè¢«è§£æåˆ°ã€‚æ®è¯´å›½å†…çš„åŸŸåæä¾›å•†å¯¹letsencryptçš„æ”¯æŒéå¸¸å·®ï¼Œä½†æ˜¯æ®è¯´ç°é˜¶æ®µç”¨dnspodè§£æçš„åŸŸåè¿˜æ²¡ç¢°åˆ°é—®é¢˜ã€‚æˆ‘ç”¨çš„æ˜¯å›½å¤–çš„Cloudflareè§£ææˆ‘çš„åŸŸåï¼Œä½†æ˜¯ç»å¸¸è¢«å¢™ï¼ˆæƒ³éª‚äººâ€¦ï¼‰ï¼Œç§»åŠ¨è¡¨ç¤ºå¤§å¤šæ•°éƒ½æ²¡æœ‰ä½“éªŒ= =ï¼Œè”é€šæƒ…å†µå¥½ä¸€ç‚¹ã€‚å®‰è£…acme.shè„šæœ¬æ‰§è¡Œä¸€ä¸‹å‘½ä»¤åé‡æ–°sshç™»å½•æœåŠ¡å™¨å³å¯ï¼šcurl https://get.acme.sh | sh è¯¥å‘½ä»¤ä¼šæŠŠ acme.sh å®‰è£…åˆ°ä½ çš„ home ç›®å½•ä¸‹: ~/.acme.sh/ï¼Œä¸€èˆ¬ä¼šè‡ªåŠ¨åˆ›å»ºç¯å¢ƒå˜é‡ï¼ŒåæœŸç›´æ¥å‘½ä»¤è¡Œè¾“å…¥acme.shå³å¯ã€‚ä½¿ç”¨DNS APIç”³è¯·è¯ä¹¦(æ¨èé…ç½®ä½¿ç”¨APIçš„æ–¹å¼ï¼Œå¦åˆ™æ¯éš”ä¸‰ä¸ªæœˆï¼Œä»ç„¶éœ€è¦é‡æ–°éªŒè¯DNS TXTè®°å½•)åˆ›å»ºDNS APIçš„KeyåŠSecretå‚è€ƒï¼šhttps://github.com/Neilpang/acme.sh/tree/master/dnsapihttps://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.mdacme.sh ç›®å‰æ”¯æŒ cloudflare, dnspod, cloudxns, godaddy ä»¥åŠ ovh ç­‰æ•°åç§è§£æå•†çš„è‡ªåŠ¨é›†æˆ.ã€ä¾‹å­ä¸€ã€‘åŸŸåç”±Cloudflareæä¾›è§£æçš„ç½‘ç«™ï¼Œä½¿ç”¨CloudFlareåŸŸåAPIè‡ªåŠ¨é¢å‘è¯ä¹¦ä»¥ Cloudflare ä¸ºä¾‹, ä½ éœ€è¦å…ˆç™»å½•åˆ° Cloudflare è´¦å·æ‰èƒ½è·å¾—APIå¯†é’¥, éƒ½æ˜¯å…è´¹çš„ã€‚ç„¶ååœ¨Linuxä¸‹ä½¿ç”¨acme.shå‘½ä»¤ç”³è¯·è¯ä¹¦:å‘½ä»¤ä½¿ç”¨å‚è€ƒï¼šLinux ä¸‹ä½¿ç”¨ acme.sh é…ç½® Letâ€™s Encrypt å…è´¹ SSL è¯ä¹¦ + é€šé…ç¬¦è¯ä¹¦å…ˆå¯¼å…¥å¯†é’¥å’Œé‚®ç®±ï¼š export CF_Key="sdfsdfsdfljlbjkljlkjsdfoiwje" export CF_Email="xxxx@sss.com" æˆ‘ä»¬ç°åœ¨å‘è¡Œä¸€ä¸ªè¯ä¹¦ï¼š acme.sh --issue --dns dns_cf -d example.com -d www.example.com --accountemail query@goodsrv.com --accountemailæ˜¯æŒ‡å®šå¸æˆ·ç”µå­é‚®ä»¶ï¼Œä»…å¯¹--installå’Œ--update-accountå‘½ä»¤æœ‰æ•ˆï¼ˆå¾…éªŒè¯ï¼Œå› ä¸ºæˆ‘æ‰§è¡Œå‘½ä»¤æ—¶å¹¶æ²¡æœ‰å¸¦ä¸Šè¯¥å‚æ•°ï¼‰ã€‚è¾“å…¥å‘½ä»¤åå›è½¦ï¼Œéœ€è¦ç­‰ä¸¤åˆ†é’Ÿï¼Œç»ˆç«¯ä¼šæœ‰å€’è®¡æ—¶ã€‚å€’è®¡æ—¶ç»“æŸåï¼Œæ‰§è¡Œå‘½ä»¤ï¼š acme.sh --renew -d example.com -d www.example.com å®‰è£…è¯ä¹¦# åˆ›å»ºå®‰è£…ç›®å½• mkdir /etc/ssl/example.com/ -p # reloadcmdå‚æ•°é‡Œé¢å¡«å†™çš„æ˜¯åœ¨æ›´æ–°è¯ä¹¦åéœ€è¦é‡æ–°å¯åŠ¨çš„æœåŠ¡ï¼Œä¾‹å¦‚é‡å¯nginxæˆ–è€…apacheæˆ–è€…å…¶å®ƒè„šæœ¬ã€‚ acme.sh --installcert -d example.com \ --key-file /etc/ssl/example.com/example.com.key \ --fullchain-file /etc/ssl/example.com/fullchain.cer \ --reloadcmd "systemctl reload nginx" æ³¨æ„ï¼š/etc/ssl/example.com/çš„æ‰€æœ‰è€…ä»¥åŠç”¨æˆ·ç»„å¿…é¡»ä¸ºå½“å‰ç”¨æˆ·ï¼Œå¦åˆ™åé¢installcertçš„æ—¶å€™ä¼šæç¤ºæ²¡æœ‰æƒé™ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåé¢å¯æ›´æ”¹å›åŸæ¥çš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ï¼š#æ›´æ”¹æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ sudo chown $USER:$USER -R /etc/ssl/example.com/ #æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶å¤¹çš„æƒé™ã€æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ ls -l /etc/ssl/ ls -l /etc/ssl/example.com/ (ä¸€ä¸ªå°æé†’, éƒ¨åˆ†æœåŠ¡å™¨ç³»ç»Ÿç”¨çš„æ˜¯ service nginx force-reload, ä¸æ˜¯ service nginx reload, æ®æµ‹è¯•, reload å¹¶ä¸ä¼šé‡æ–°åŠ è½½è¯ä¹¦, æ‰€ä»¥ç”¨çš„ force-reload)Nginx çš„é…ç½® ssl_certificate ä½¿ç”¨ /etc/nginx/ssl/fullchain.cer ï¼Œè€Œé /etc/nginx/ssl/&lt;domain&gt;.cer ï¼Œå¦åˆ™ SSL Labsçš„æµ‹è¯•ä¼šæŠ¥ Chain issues Incomplete é”™è¯¯ã€‚--installcertå‘½ä»¤å¯ä»¥æºå¸¦å¾ˆå¤šå‚æ•°, æ¥æŒ‡å®šç›®æ ‡æ–‡ä»¶. å¹¶ä¸”å¯ä»¥æŒ‡å®š reloadcmd, å½“è¯ä¹¦æ›´æ–°ä»¥å, reloadcmd ä¼šè¢«è‡ªåŠ¨è°ƒç”¨,è®©æœåŠ¡å™¨ç”Ÿæ•ˆ.å€¼å¾—æ³¨æ„çš„æ˜¯, è¿™é‡ŒæŒ‡å®šçš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«è‡ªåŠ¨è®°å½•ä¸‹æ¥, å¹¶åœ¨å°†æ¥è¯ä¹¦è‡ªåŠ¨æ›´æ–°ä»¥å, è¢«å†æ¬¡è‡ªåŠ¨è°ƒç”¨.mkdirçš„-på‚æ•°è§£é‡Šï¼š-p, â€“parents å¯ä»¥æ˜¯ä¸€ä¸ªè·¯å¾„åç§°ã€‚æ­¤æ—¶è‹¥è·¯å¾„ä¸­çš„æŸäº›ç›®å½•å°šä¸å­˜åœ¨,åŠ ä¸Šæ­¤é€‰é¡¹å,ç³»ç»Ÿå°†è‡ªåŠ¨å»ºç«‹å¥½é‚£äº›å°šä¸å­˜åœ¨çš„ç›®å½•,å³ä¸€æ¬¡å¯ä»¥å»ºç«‹å¤šä¸ªç›®å½•;mkdirå‘½ä»¤å‚è€ƒï¼šhttps://www.linuxdaxue.com/linux-command-intro-mkdir.htmlæ›´æ–°è¯ä¹¦ç›®å‰è¯ä¹¦åœ¨ 60 å¤©ä»¥åä¼šè‡ªåŠ¨æ›´æ–°, ä½ æ— éœ€ä»»ä½•æ“ä½œ. ä»Šåæœ‰å¯èƒ½ä¼šç¼©çŸ­è¿™ä¸ªæ—¶é—´, ä¸è¿‡éƒ½æ˜¯è‡ªåŠ¨çš„, ä½ ä¸ç”¨å…³å¿ƒ.æ›´æ–° acme.shç›®å‰ç”±äº acme åè®®å’Œ letsencrypt CA éƒ½åœ¨é¢‘ç¹çš„æ›´æ–°, å› æ­¤ acme.sh ä¹Ÿç»å¸¸æ›´æ–°ä»¥ä¿æŒåŒæ­¥.å‡çº§ acme.sh åˆ°æœ€æ–°ç‰ˆ :acme.sh --upgrade å¦‚æœä½ ä¸æƒ³æ‰‹åŠ¨å‡çº§, å¯ä»¥å¼€å¯è‡ªåŠ¨å‡çº§:acme.sh --upgrade --auto-upgrade ä¹‹å, acme.sh å°±ä¼šè‡ªåŠ¨ä¿æŒæ›´æ–°äº†ä½ ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è‡ªåŠ¨æ›´æ–°:acme.sh --upgrade --auto-upgrade 0 åº”ç”¨å®ä¾‹é…ç½®Nginxä½¿ç”¨è¯ä¹¦å¼€é€šhttpsç«™ç‚¹ç”ŸæˆPerfect Forward Securityï¼ˆPFSï¼‰é”®å€¼Perfect Forward Securityï¼ˆPFS)æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œä¸­æ–‡ç¿»è¯‘æˆå®Œç¾å‰å‘ä¿å¯†ï¼Œåæ­£æ˜¯è¿™å‡ å¹´æ‰æå€¡çš„åŠ å¼ºå®‰å…¨æ€§çš„æŠ€æœ¯ã€‚å¦‚æœæœ¬åœ°è¿˜æ²¡æœ‰ç”Ÿæˆè¿™ä¸ªé”®å€¼ï¼Œéœ€è¦å…ˆæ‰§è¡Œç”Ÿæˆçš„å‘½ä»¤ã€‚/etc/ssl/example.com/ openssl dhparam -out dhparam.pem 2048 ç”Ÿæˆçš„è¿‡ç¨‹è¿˜æŒºèŠ±æ—¶é—´çš„ï¼Œæ®æˆ‘æŸ¥åˆ°çš„èµ„æ–™ï¼Œæ®è¯´å‚æ•°ä¸º2048çš„è¦4åˆ†é’Ÿå·¦å³ï¼Œè¿˜å—æœåŠ¡å™¨æ€§èƒ½å½±å“ï¼Œæ­¤æ—¶ä¸å¦¨åšç‚¹å…¶ä»–ä¸œè¥¿ã€‚ï¼ˆæ—¶é—´ä¸€åˆ†ä¸€ç§’çš„è¿‡å»â€¦ï¼‰å¥½äº†ï¼ŒPFSé”®å€¼ç”Ÿæˆäº†ï¼Œæˆ‘ä»¬ç”¨lså‘½ä»¤æ¥ç¡®è®¤ä¸€ä¸‹ç›®å½•ä¸‹æ˜¯å¦ç”Ÿæˆäº†dhparam.pemæ–‡ä»¶ï¼Œç¡®è®¤å®Œæ¯•å°±å¯ä»¥æ‰§è¡Œä¸‹ä¸€æ­¥äº†ã€‚ç‰¹åˆ«è¯´æ˜ï¼šä¸€å®šè¦ç¡®è®¤æ–‡ä»¶æ˜¯å¦å·²ç»ç”Ÿæˆï¼ï¼ï¼åœ¨è¿™ä¸€æ­¥æˆ‘åŸæœ¬æ˜¯æ‰§è¡Œopenssl dhparam 2048 -out dhparam.pemï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæ‰§è¡Œäº†å¤šæ¬¡éƒ½æ— æ³•ç”Ÿæˆdhparam.pemæ–‡ä»¶ï¼Œåæ¥æ¢äº†ä¸ªç›®å½•æ‰§è¡Œäº†å¤šæ¬¡openssl dhparam -out dhparam.pem 2048æ‰æˆåŠŸï¼Œè¿™æ˜¯åé¢é…ç½®å®ŒNginxåæ— æ³•é‡æ–°å¯åŠ¨NginxæœåŠ¡äº†ï¼Œæˆ‘è¾“å‡ºæ—¥å¿—æ‰å‘ç°çš„ï¼Œå…·ä½“åé¢ä¼šè¯´ã€‚nginxé…ç½®ä½¿ç”¨è¯ä¹¦ã€‚ç¼–è¾‘ä½ çš„Nginxé…ç½®æ–‡ä»¶ï¼Œå¦‚ï¼š/etc/nginx/sites-available/&lt;your-nginx-config&gt;â˜†â˜†ä¿®æ”¹é…ç½®æ–‡ä»¶å‰å»ºè®®å…ˆå¤‡ä»½â˜†â˜†å¯ä»¥é€šè¿‡Mozilla SSL Configuration Generatorè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„å‚è€ƒé…ç½®ä¿®æ”¹httpå¯¹åº”çš„serveræ¨¡å—ï¼š server { listen 80; listen [::]:80; server_name example.com; #return 301 https://example.com$request_uri; if ( $scheme = http ){ return 301 https://$server_name$request_uri; } root /var/www/html/example.com; index index.html index.htm; } return 301 https://$server_name$request_uri;æ˜¯å¼ºåˆ¶httpè·³è½¬httpsåœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ httpsçš„serveræ¨¡å—ï¼š server { listen 443 ssl; server_name example.com; #charset utf-8; location / { root /var/www/html/example.com; #index index.html index.htm; } #root /var/www/html/example.com; index index.html index.htm; access_log /var/log/nginx/example.com_access.log; error_log /var/log/nginx/example.com_error.log; ssl_certificate /etc/ssl/example.com/fullchain.cer; ssl_certificate_key /etc/ssl/example.com/example.com.key; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_session_tickets off; ssl_dhparam /etc/ssl/example.com/dhparam.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK'; ssl_prefer_server_ciphers on; } æ€»çš„æ ·ä¾‹å†…å®¹å¦‚ä¸‹ï¼š server { listen 80; listen [::]:80; server_name example.com; #return 301 https://example.com$request_uri; if ( $scheme = http ){ return 301 https://$server_name$request_uri; } root /var/www/html/example.com; index index.html index.htm; } server { listen 443 ssl; server_name example.com; #charset utf-8; location / { root /var/www/html/example.com; #index index.html index.htm; } #root /var/www/html/example.com; index index.html index.htm; access_log /var/log/nginx/example.com_access.log; error_log /var/log/nginx/example.com_error.log; ssl_certificate /etc/ssl/example.com/fullchain.cer; ssl_certificate_key /etc/ssl/example.com/example.com.key; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_session_tickets off; ssl_dhparam /etc/ssl/example.com/dhparam.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers 'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK'; ssl_prefer_server_ciphers on; } é…ç½®æ–‡ä»¶æ²¡æœ‰é—®é¢˜çš„è¯æ‰§è¡Œsystemctl reload nginxï¼Œç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€http://example.com, å¦‚æœæ­£å¸¸è·³è½¬åˆ°https://example.comï¼Œå°±ç®—æˆåŠŸäº†ã€‚ å¦‚æœæ˜¯chromeæµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ç‚¹å‡»ç»¿è‰²å°é”çš„å›¾æ ‡ï¼Œå¯ä»¥æŸ¥çœ‹è¯ä¹¦çš„è¯¦æƒ…ï¼Œå¦‚å›¾ã€‚æ­¤æ­¥éª¤é‡åˆ°çš„éš¾é¢˜è¿™é‡Œè¦æ³¨æ„çš„æ˜¯å¦‚æœä½ æ˜¯Nginx+Cloudflareï¼Œé‚£ä¹ˆCloudflareçš„â€Cryptoâ€”SSLâ€è¦è®¾ç½®æˆFull(strict)ï¼Œå¦åˆ™ä¼šå¯¼è‡´example.comå°†ä½ é‡å®šå‘æ¬¡æ•°è¿‡å¤šçš„æƒ…å†µï¼Œé»˜è®¤æ˜¯Flexibleã€‚CFè®¾ç½®å¦‚å›¾ï¼šè¿™é‡Œè¿˜æœ‰ä¸ªå‘å°±æ˜¯å‰é¢è¯´çš„æ— æ³•ç”Ÿæˆdhparam.pemæ–‡ä»¶å¯¼è‡´æ— æ³•é‡è½½Nginxã€‚ä¸€å¼€å§‹æˆ‘è¿˜æ²¡å‘ç°ï¼Œä¸€ç›´åœ¨ä»¥ä¸ºNginxé…ç½®æ–‡ä»¶å“ªé‡Œé”™äº†ï¼Œåæ¥sudo journalctl -xeè¾“å‡ºæ—¥å¿—æ‰å‘ç°Nginxæ‰¾ä¸åˆ°dhparam.pemæ–‡ä»¶ï¼šç”¨lså‘½ä»¤å¯ä»¥å‘ç°ç›®å½•ä¸‹å¹¶ä¸å­˜åœ¨dhparam.pemæ–‡ä»¶ï¼šäºæ˜¯æˆ‘åˆæ‰§è¡Œäº†å‡ æ¬¡openssl dhparam 2048 -out dhparam.pemï¼Œç»“æœè¿˜æ˜¯ä¸€æ ·ï¼Œè€Œä¸”è¿‡ç¨‹ç«Ÿç„¶åªéœ€è¦1åˆ†é’Ÿä¸åˆ°ã€‚å¦‚å›¾ï¼šå¯Ÿè§‰åˆ°ä¸å¯¹åŠ²ä¹‹åæˆ‘é©¬ä¸Šå»æ‰¾äº†è·Ÿdhparamçš„èµ„æ–™ï¼Œåæ¥åœ¨ä¸€ä¸ªåšå®¢ä¸Šå‘ç°ä»–çš„å‘½ä»¤é¡ºåºè·Ÿæˆ‘ä¸ä¸€æ ·ï¼Œè¿™ä¸ªæ–‡ä»¶å­˜æ”¾ç›®å½•ä¹Ÿè·Ÿæˆ‘ä¸ä¸€æ ·ï¼Œäºæ˜¯æˆ‘å°±æŠŠå‘½ä»¤æ”¹æˆopenssl dhparam -out dhparam.pem 2048å’Œæ”¹ç›®å½•åˆ°example.com(æ­¤æ—¶è¯¥ç›®å½•æƒé™è¿˜æ˜¯$USERçš„)å†è¯•äº†å‡ æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯ä¸è¡Œçš„ï¼Œæ‰§è¡Œå¤šå‡ æ¬¡åçªç„¶å°±æˆåŠŸäº†ã€‚å¦‚å›¾ï¼šå¯ä»¥å‘ç°æ­¤æ¬¡æ‰§è¡Œå‘½ä»¤æ—¶é—´ååˆ†çš„é•¿ï¼Œæˆ‘ç­‰äº†å¤§æ¦‚5åˆ†é’Ÿæ‰æ‰§è¡Œå®Œæ¯•ã€‚ç„¶åæˆ‘ä»¬å†ç”¨lsæ¥çœ‹çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¯ä»¥å‘ç°æ–‡ä»¶å·²ç»ç”Ÿæˆï¼šæµ‹è¯•è¯ä¹¦å¦‚æœæ˜¯ç½‘ç«™çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ç½‘ç«™å·¥å…·æµ‹è¯•è‡ªå·±ç½‘ç«™çš„HTTPSé…ç½®çš„å®‰å…¨æ€§SSL Labå°±æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼šhttps://ssllabs.com/ssltest/analyze.html?d=example.comè¿™æ˜¯æˆ‘çš„æµ‹è¯•ç»“æœï¼Œéƒ½æ˜¯Aå“¦ï¼ï¼ä¹Ÿå¯ä»¥åœ¨Linuxä¸‹ä½¿ç”¨opensslå‘½ä»¤æŸ¥çœ‹è¯ä¹¦çš„è¿‡æœŸæ—¶é—´ openssl x509 -noout -dates -in /etc/ssl/example.com/example.com.key]]></content>
      <categories>
        <category>è¿ç»´æ—¥å¿—</category>
      </categories>
      <tags>
        <tag>è¿ç»´</tag>
        <tag>æœåŠ¡å™¨</tag>
        <tag>Linux</tag>
        <tag>SSL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¬¬ä¸€æ¬¡æ­å»ºHexoåšå®¢è¿‡ç¨‹ in MacOS]]></title>
    <url>%2Fposts%2F1572acec.html</url>
    <content type="text"><![CDATA[ç¬¬ä¸€æ¬¡åœ¨è‡ªå·±æœåŠ¡å™¨æ­å»ºåšå®¢ï¼Œæ€»ä¼šæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹å¤±è¯¯ï¼Œç¢°åˆ°ä¸€ç‚¹å‘ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹æ­å»ºhexoçš„å…·ä½“æ­¥éª¤ã€‚å‚è€ƒï¼šHexoä¹‹æ—…(äºŒ)ï¼šHexoåšå®¢æ­å»º(åœ¨ Mac OS å¹³å°)å¦‚ä½•åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºhexoåšå®¢Hexoæ¶æ„é¦–å…ˆæˆ‘ä»¬è¦ç†è§£hexoæ˜¯å¦‚ä½•ç”Ÿæˆé™æ€åšå®¢ä»¥åŠå¦‚ä½•å®ç°é€šè¿‡æœåŠ¡å™¨è®¿é—®é™æ€åšå®¢çš„é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæ•´ä¸ªæµç¨‹å°±æ˜¯åœ¨æœ¬åœ°é€šè¿‡ hexo g æ¸²æŸ“åšå®¢çš„é™æ€æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ hexo d æŠŠé™æ€æ–‡ä»¶ pushåˆ°æœåŠ¡å™¨ä¸Šæˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„gitä»“åº“,æœåŠ¡å™¨å†é€šè¿‡ git-hooks åŒæ­¥ç½‘ç«™æ ¹ç›®å½•ï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—®äº†é…ç½®æœ¬åœ°ç¯å¢ƒå®‰è£…ä¾èµ–Hexo ä¾èµ–äº Node.js å’Œ Gitï¼Œéœ€è¦å…ˆå®‰è£…ã€‚å®‰è£…GitGitå®‰è£…ï¼ˆå»–é›ªå³°æ•™ç¨‹ï¼‰å®‰è£…Node.jsNodeçš„è¯å»ºè®®ç”¨nvmç®¡ç†ï¼Œå¦åˆ™å¾ˆå®¹æ˜“å‡ºç° command not found: hexo çš„æƒ…å†µï¼Œå‡ºç°è¿™ç§æƒ…å†µä¸»è¦æ˜¯nodeçš„ç‰ˆæœ¬é—®é¢˜ å¯ä»¥é€šè¿‡nvmæ¥æ§åˆ¶ä¸€ä¸‹nodeçš„ç‰ˆæœ¬æ¥è§£å†³å‚è€ƒï¼šHexoå®‰è£…åhexoæŒ‡ä»¤æ— æ³•è¢«æ‰¾åˆ°çš„è§£å†³æ–¹æ³•ä½¿ç”¨Homebrewå®‰è£nvmbrew install nvm //è¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦å®‰è£…gccæˆ–è€…å…¶å®ƒéœ€è¦ä¾èµ–çš„å·¥å…· æŒ‰ç…§æç¤ºä¸€æ¬¡å®‰è£…å¥½å³å¯ mkdir ~/.nvm echo "export NVM_DIR=~/.nvm" >> .bash_profile echo ". $(brew --prefix nvm)/nvm.sh" >> .bash_profile //è¿™ä¸ªæ­¥éª¤ä¸­macä¸‹çš„brewéœ€è¦é€šè¿‡--prefixè¿™ç§å½¢å¼å®Œæˆï¼Œå¦‚æœæ˜¯zshçš„è¯å¯ä»¥è¾“å‡ºåˆ°.zshrcæ–‡ä»¶ é‡å¯ç»ˆç«¯åç”¨ nvm help æ¥éªŒè¯nvmæ˜¯å¦æ­£ç¡®å®‰è£…ä½¿ç”¨nvmå®‰è£Node.jså®‰è£å®Œäº†nvmï¼Œæ¥è‘—å®‰è£ä¸»è§’ Node.jsã€‚å…ˆç”¨ nvm ls-remote æŒ‡ä»¤çœ‹ä¸€ä¸‹æœ‰å“ªäº›ç‰ˆæœ¬å¯ä»¥å®‰è£ï¼š nvm ls-remote . . . v9.10.0 v9.10.1 v9.11.0 v9.11.1 v9.11.2 v10.0.0 v10.1.0 v10.2.0 v10.2.1 v10.3.0 v10.4.0 . . . ç„¶åç›´æ¥ç”¨ä¸€ä¸‹å‘½ä»¤å®‰è£…æœ€æ–°ç¨³å®šç‰ˆnodenvm install stable ä½¿ç”¨nvmæ— ç—›åˆ‡æ¢Node.jsç‰ˆæœ¬æ£€æŸ¥å½“å‰ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬ä½¿ç”¨å‘½ä»¤ nvm lsã€‚å¦‚æœè¾“å‡ºç»“æœå¦‚ä¸‹è¡¨ç¤ºæ­£ç¡®ï¼š$ nvm ls v0.12.10 -> v10.6.0 system default -> v10.6.0 node -> stable (-> v10.6.0) (default) stable -> 10.6 (-> v10.6.0) (default) iojs -> N/A (default) lts/* -> lts/carbon (-> N/A) lts/argon -> v4.9.1 (-> N/A) lts/boron -> v6.14.3 (-> N/A) lts/carbon -> v8.11.3 (-> N/A) ç¬¬ä¸€ä¸ª -&gt; è¡¨ç¤ºå½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œdefault -&gt; è¡¨ç¤ºé»˜è®¤ç‰ˆæœ¬ï¼Œå¿…é¡»ä¿è¯è¿™ä¸¤ä¸ªï¼Œä¸ç„¶åé¢å®‰è£…hexoä¼šæç¤º -bash: hexo: command not found ï¼Œä¸èƒ½åœ¨å‘½ä»¤è¡Œä½¿ç”¨ã€‚è®¾ç½®çš„æ–¹æ³•æ˜¯ï¼Œå…ˆé€šè¿‡ nvm ls çœ‹çœ‹æœ¬åœ°å®‰è£…äº†ä»€ä¹ˆç‰ˆæœ¬ï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰ï¼Œåˆ™åº”è¯¥ä½¿ç”¨ä¸Šä¸€æ­¥çš„æ–¹æ³•å…ˆå®‰è£…ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªå‘½ä»¤æŒ‡å®šç‰ˆæœ¬ï¼šnvm use v10.6.0 å†é€šè¿‡è¿™ä¸ªå‘½ä»¤æŒ‡å®šé»˜è®¤ç‰ˆæœ¬ï¼šnvm alias default v10.6.0 éƒ¨ç½²Hexoå®‰è£…Hexoæ‰€æœ‰å¿…å¤‡çš„ä¾èµ–éƒ½å®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ npm å®‰è£… Hexoï¼šnpm install -g hexo-cli -g æˆ– â€“global è¡¨ç¤ºå…¨å±€å®‰è£…æ¨¡å—ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œä¼šå®‰è£…åœ¨å½“å‰ç›®å½•çš„node_moduleså­ç›®å½•ä¸‹ã€‚å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚hexo init &lt;folder> cd &lt;folder> npm install npm install è¡¨ç¤ºå®‰è£…å½“å‰ç›®å½•package.jsonæ–‡ä»¶ä¸­é…ç½®çš„dependenciesæ¨¡å—ã€‚æ›´æ–° Hexoå®˜æ–¹å‘å¸ƒäº†æ–°ç‰ˆæœ¬åï¼Œå¯ä»¥åœ¨Hexoå»ºç«‹çš„åšå®¢ç›®å½•å†…è¿è¡Œï¼šnpm update ç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥æ£€æŸ¥package.jsonæ–‡ä»¶ä¸­é…ç½®çš„dependenciesçš„ç‰ˆæœ¬å·ï¼šnpm ls --depth=0 å®‰è£… Hexo æ’ä»¶npm install &lt;module> --save ä¸‹é¢æ˜¯ä¸€äº›å¯é€‰æ’ä»¶çš„å®‰è£…npm i hexo-all-minifier --save npm install hexo-admin --save npm install hexo-generator-archive --save npm install hexo-generator-tag --save npm install hexo-generator-feed --save npm install hexo-wordcount --save npm install hexo-helper-qrcode --save npm install hexo-generator-search --save npm install hexo-generator-searchdb --save npm i -S hexo-prism-plugin npm install hexo-abbrlink --save npm install hexo-generator-sitemap --save é…ç½®æœåŠ¡å™¨ç¯å¢ƒéƒ¨ç½² Nginxå®‰è£… Nginx &amp;&amp; å¯åŠ¨ Nginxæˆ‘æœåŠ¡å™¨çš„Nginxæ˜¯ç”¨Dockeréƒ¨ç½²çš„ï¼Œæ—©å·²ç»éƒ¨ç½²å¥½ã€‚è¿™æ­¥æš‚æ—¶è·³è¿‡ï¼Œæ—¥åè¡¥å……â€¦ï¼ˆåˆå·æ‡’äº†ï¼ˆé€ƒï½é…ç½®è™šæ‹Ÿä¸»æœº &amp;&amp; åˆ›å»ºæ–°çš„ç½‘ç«™ç›®å½• &amp;&amp; åˆ›å»ºè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶åŒä¸Šï¼ˆé€ƒï½éƒ¨ç½² Hexo åˆ°æœåŠ¡å™¨Hexo å¯ä»¥ä½¿ç”¨ git æ–¹å¼éƒ¨ç½²ã€‚(ç½‘ç«™çš„ç›®å½•åœ¨ä¸‹é¢ç»Ÿä¸€ç”¨ &lt;your-website&gt; ä»£æ›¿ï¼Œå¦‚ä½ çš„ç›®å½•åœ¨ /var/www/html ï¼Œé‚£å°±ç”¨ /var/www/html æ›¿æ¢ &lt;your-website&gt; )åˆ›å»ºç©ºç™½ git ä»“åº“ï¼Œå¹¶ä¸”è®¾ç½® git hookcd ~ mkdir blog_hexo.git &amp;&amp; cd blog_hexo.git git init --bare æ–°å»º post-receive è„šæœ¬cd hooks touch post-receive ç¼–è¾‘ ~/blog_hexo.git/hooks/post-receive è„šæœ¬#!/bin/bash GIT_REPO=/home/xxx/blog_hexo.git TMP_GIT_CLONE=/tmp/HexoBlog PUBLIC_WWW=&lt;your-website> rm -rf ${TMP_GIT_CLONE} git clone $GIT_REPO $TMP_GIT_CLONE rm -rf ${PUBLIC_WWW}/* cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW} èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™chmod 755 post-receive //æˆ– chmod +x post-receive æ³¨æ„ï¼šè¿™é‡Œè¦å…ˆç¡®ä¿ &lt;your-website> ç›®å½•ä¸‹æ²¡æœ‰ä»»ä½•æ–‡ä»¶ã€‚å¤‡ä»½å¥½æ–‡ä»¶åæ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼šsudo rm -rf &lt;your-website>/* æ‰§è¡Œ ls -l &lt;your-website&gt; å‘½ä»¤æ£€æŸ¥è¯¥ç›®å½•åŠå…¶å­ç›®å½•ï¼ˆæ–‡ä»¶ï¼‰æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„æ˜¯å¦ä¸ºä½ å½“å‰ä½¿ç”¨çš„ç”¨æˆ·ã€‚è‹¥æ˜¾ç¤ºï¼šdrwxr-xr-x 2 root root 4096 Jun 4 07:00 &lt;your-website> åˆ™è¯´æ˜ä½ çš„ç½‘ç«™ç›®å½•çš„æ‰€æœ‰è€…ä»¥åŠç”¨æˆ·ç»„éƒ½æ˜¯rootï¼Œé‚£ä¹ˆå½“ä½ ç”¨git-hooksæŠŠtmpç›®å½•çš„é™æ€åšå®¢æ‹·è´åˆ° &lt;your-website&gt; æ—¶ï¼Œä¼šç”±äºæ²¡æœ‰æƒé™è€Œå¯¼è‡´æ‹·è´å¤±è´¥ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠçš„æ‰€æœ‰è€…å’Œç”¨æˆ·ç»„éƒ½æ”¹ä¸ºä½ å½“å‰ä½¿ç”¨çš„ç”¨æˆ·ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼šsudo chown $USER:$USER -R &lt;your-website> é…ç½®æœ¬æœºåœ¨åšå®¢ç›®å½•ä¸‹è¿è¡Œä¸‹é¢å‘½ä»¤ï¼Œå®‰è£… git éƒ¨ç½²æ’ä»¶ã€‚npm install hexo-deployer-git --save ä¿®æ”¹åšå®¢çš„é…ç½®æ–‡ä»¶ _config.ymlï¼Œä¿®æ”¹deployé€‰é¡¹ï¼šdeploy: type: git message: update repo: xxx@127.0.0.1:/home/xxx/blog_hexo.git branch: master ç„¶åè¿è¡Œ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d å³å¯éƒ¨ç½²æœ¬åœ°æ¸²æŸ“ç½‘é¡µåˆ°æœåŠ¡å™¨ä¸Šï¼Œä¹‹ååªéœ€è¦è®¿é—®é¢ä½ çš„åŸŸåå°±å¯ä»¥è®¿é—®ä½ çš„hexoåšå®¢å•¦ï¼å¦‚æˆ‘çš„åšå®¢æ˜¯ reb.mallotec.comæ³¨ï¼šè¯·æŠŠ127.0.0.1æ›¿æ¢æˆè‡ªå·±æœåŠ¡å™¨çš„ipé™„ï¼šHexo ä¸ªæ€§åŒ–â€“&gt;NexTä¸»é¢˜å‚è€ƒï¼šHexoä¹‹æ—…(ä¸‰)ï¼šHexoåšå®¢ä¸ªæ€§åŒ–åŠNexTä¸»é¢˜é…ç½®æ–‡æ¡£NexT ä¸»é¢˜æä¾›äº†è¯¦ç»†çš„ ä½¿ç”¨æ–‡æ¡£ ã€‚ä¸‹è½½ä¸»é¢˜ä¸»é¢˜çš„å®‰è£…å¾ˆç®€å•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼šcd your-hexo-folder mkdir themes/next curl -s https://api.github.com/repos/iissnan/hexo-theme-next/releases/latest | grep tarball_url | cut -d '"' -f 4 | wget -i - -O- | tar -zx -C themes/next --strip-components=1 æˆ–cd your-hexo-site git clone https://github.com/iissnan/hexo-theme-next themes/next å¯ç”¨ NexT ä¸»é¢˜å…‹éš†/ä¸‹è½½ å®Œæˆåï¼Œæ‰“å¼€ ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°themeå­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸ºnextã€‚è¿™é‡Œæ³¨æ„åŒºåˆ†ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼šç«™ç‚¹é…ç½®æ–‡ä»¶ï¼šæ˜¯ä½ çš„ hexo åšå®¢ç›®å½•ä¸‹é¢çš„ _config.yml æ–‡ä»¶ã€‚ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼šæ˜¯ themes/next ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ã€‚éªŒè¯ä¸»é¢˜æ˜¯å¦å¯ç”¨ï¼ˆè¿™æ­¥æˆ‘æ²¡æ‰§è¡Œè¿‡= =ï¼‰è¿è¡Œhexo s --debugï¼Œå¹¶è®¿é—®http://localhost:4000ï¼Œç¡®ä¿ç«™ç‚¹æ­£ç¡®è¿è¡Œã€‚é‡æ–°æ¸²æŸ“åšå®¢å¯ç”¨ä¸»é¢˜åæœ€å¥½é‡æ–°æ¸²æŸ“ä¸€éåšå®¢ï¼Œå‘½ä»¤ï¼šhexo clean &amp;&amp; hexo g &amp;&amp; hexo d]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>ä¸ªäººç»éªŒ</tag>
      </tags>
  </entry>
</search>
