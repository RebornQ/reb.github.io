<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>推荐几个能自动转换粘贴内容为Markdown的工具</title>
      <link href="/posts/48ffa897.html"/>
      <url>/posts/48ffa897.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>今天在转载几篇文章的时候，看到别人的博文写的不错，想要转载到自己博客里。<br>但是由于我们是自己搭建的博客，发表的文章都是以源码方式编辑的，没法一键转载。</p><a id="more"></a><p>于是我就想到复制粘贴的时候能不能自动转换粘贴内容为Markdown呢？<br>（其实还是<a href="http://wdbaoge.com/2015/12/09/%E9%9A%8F%E7%AC%94-2015-12-09-hexo-%E5%8D%9A%E5%AE%A2%E8%BD%AC%E8%BD%BD/" rel="external nofollow noopener noreferrer" target="_blank">hexo 博客神速转载</a>这篇文章给我的启发）</p><p>一开始我是在试用为知的一个插件预览<a href="https://github.com/akof1314/Wiz.Editor.md" rel="external nofollow noopener noreferrer" target="_blank">Wiz.Editor.md</a></p><blockquote><p>预览地址：<a href="http://akof1314.github.io/Wiz.Editor.md/" rel="external nofollow noopener noreferrer" target="_blank">http://akof1314.github.io/Wiz.Editor.md/</a></p></blockquote><p>后来发现用着用着感觉有点问题，觉得很不爽，弃用。<br>紧接着我脑子一热就想自己写一个。。。（好吧，最近项目比较多，这个得搁置一段时间了）<br>于是去github上找了一下，不负所望，这类工具还是有的！</p><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>这几个工具基本都有在线预览，使用的时候直接预览就好了，如果自己需要整合源码进自己项目的话，就去下源码吧！</p><h2 id="2MD"><a href="#2MD" class="headerlink" title="2MD"></a>2MD</h2><blockquote><p><strong>推荐指数：<font color="red">☆☆☆☆☆</font></strong><br>源码：<a href="https://github.com/phodal/2md" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/phodal/2md</a><br>原文：<a href="http://www.sohu.com/a/134631771_385076" rel="external nofollow noopener noreferrer" target="_blank">http://www.sohu.com/a/134631771_385076</a><br>预览地址：<a href="https://phodal.github.io/2md" rel="external nofollow noopener noreferrer" target="_blank">https://phodal.github.io/2md</a></p></blockquote><p><script type="text/javascript" src="../js/my.js"></script></p><iframe width="100%" id="iframe_2MD" name="iframe_2MD" onload="SetCwinHeight(this.id)" scrolling="auto" height="650" frameborder="0" src="https://reb.mallotec.com/tools/2md/"><br></iframe><h2 id="clipboard2markdown"><a href="#clipboard2markdown" class="headerlink" title="clipboard2markdown"></a>clipboard2markdown</h2><blockquote><p><strong>推荐指数：<font color="red">☆☆☆☆</font>（因为操作没有2MD和界面好，所以就低一星）</strong><br>源码：<a href="https://github.com/euangoddard/clipboard2markdown" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/euangoddard/clipboard2markdown</a><br>预览地址：<a href="http://euangoddard.github.io/clipboard2markdown/" rel="external nofollow noopener noreferrer" target="_blank">http://euangoddard.github.io/clipboard2markdown/</a></p></blockquote><iframe width="100%" id="iframe_C2M" name="iframe_C2M" scrolling="auto" height="630" frameborder="0" src="http://euangoddard.github.io/clipboard2markdown/"></iframe><h2 id="paste-as-markdown"><a href="#paste-as-markdown" class="headerlink" title="paste-as-markdown"></a>paste-as-markdown</h2><blockquote><p><strong>推荐指数：Umm…没有预览我懒得下了，没有指数哈哈哈！</strong><br>源码：<a href="https://github.com/letiantian/paste-as-markdown" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/letiantian/paste-as-markdown</a><br>原文：<a href="https://my.oschina.net/letiantian/blog/754905" rel="external nofollow noopener noreferrer" target="_blank">https://my.oschina.net/letiantian/blog/754905</a></p></blockquote>]]></content>
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Disqus API科学评论大法</title>
      <link href="/posts/d32fb564.html"/>
      <url>/posts/d32fb564.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>Disqus 不用说，大家都知道他的主域名<code>disqus.com</code>在国内被屏蔽了，导致在国内不能评论也不能看评论，体验十分不好。看了一下 Disqus 官方发现有个 API 反代加速访问的用法，于是去找了相关资料，原本想自己造轮子，后来发现已经有现成的，我就先拿来用着吧。</p><a id="more"></a><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>我们可以来看看disqus反向代理的原理图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-api-diagram.png" alt="disqus-api-diagra"></p><p>整体流程是这样的，在前端页面上测试disqus加载是否成功，如果成功则显示disqus的评论框，反之加载独立的评论框，并将请求发送给自己在国外的vps，利用vps做反向代理，接收来自客户端的请求到disqus服务器并再转发给客户端。</p><p>一句话概括就是：客户端发送请求给服务器，服务器通过Disqus Api提交评论。</p><h1 id="工具介绍"><a href="#工具介绍" class="headerlink" title="工具介绍"></a>工具介绍</h1><p><strong>目前现成的disqus反代主要有以下两种：</strong></p><ul><li><p><a href="https://github.com/ciqulover/disqus-proxy" rel="external nofollow noopener noreferrer" target="_blank">disqus-proxy</a> <font color="gray">–NodeJS实现</font><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-proxy.png" alt="disqus-proxy"></p></li><li><p><a href="https://github.com/fooleap/disqus-php-api" rel="external nofollow noopener noreferrer" target="_blank">disqus-php-api</a> <font color="gray">–PHP实现</font><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-php-api.gif" alt="disqus-php-api"></p></li></ul><p>上述两种方案均支持根据网络情况判断加载简易/原版评论框，看完UI后我很果断的选择了<code>disqus-php-api</code>……</p><p>以下为替换为<code>disqus-php-api</code>的具体步骤，供大家参考，也给自己留下一个记录。</p><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><ul><li>一台国外的VPS服务器<h2 id="后端配置"><a href="#后端配置" class="headerlink" title="后端配置"></a>后端配置</h2></li></ul><h3 id="获取-disqus-php-api"><a href="#获取-disqus-php-api" class="headerlink" title="获取 disqus-php-api"></a>获取 <code>disqus-php-api</code></h3><pre><code class="bash">git clone https://github.com/fooleap/disqus-php-api.git</code></pre><h3 id="移动并重命名"><a href="#移动并重命名" class="headerlink" title="移动并重命名"></a>移动并重命名</h3><pre><code class="bash">mv -r disqus-php-api /path/to/disqus-php-api</code></pre><blockquote><p><strong>注意：</strong><br>此处建议新建一个 Nginx 站点，如：api.xxx.com这类，专门放 API 的地方，注意DNS解析添加A记录和写好 Nginx 配置，尤其是要配置SSL证书。</p></blockquote><h3 id="修改-config-php"><a href="#修改-config-php" class="headerlink" title="修改 config.php"></a>修改 <code>config.php</code></h3><p>根据 <code>disqus-php-api/api/config.php</code> 中的注释修改相应配置：</p><pre><code class="php">define(&#39;DISQUS_PUBKEY&#39;, &#39;E8Uh5l5fHZ6gD8U3KycjAIAk46f68Zw7C6eW8WSjZvCLXebZ7p0r1yrYDrLilk2F&#39;);define(&#39;PUBLIC_KEY&#39;, &#39;your-public-key&#39;);define(&#39;SECRET_KEY&#39;, &#39;your-secret-key&#39;);define(&#39;DISQUS_USERNAME&#39;, &#39;your-disqus-username&#39;);define(&#39;DISQUS_EMAIL&#39;, &#39;your-email@gmail.com&#39;);define(&#39;DISQUS_PASSWORD&#39;, &#39;your-disqus-password&#39;);define(&#39;DISQUS_WEBSITE&#39;, &#39;https:/\/your-website.com&#39;);  // 实际使用时要去掉链接的 \ ，这里是为了避免md直接吧双斜杠解析成注释了define(&#39;DISQUS_SHORTNAME&#39;, &#39;your-disqus-shortname&#39;);define(&#39;DISQUS_APPROVED&#39;, true);</code></pre><blockquote><p><strong>这里要注意的是，<code>DISQUS_WEBSITE</code>选项中，域名<font color="orange">不能</font>这样写：‘<a style="underline:none">https://reb.mallotec.com/</a>‘，域名后不能以’/‘结尾，否则会出现一直创建<code>Thread</code>的情况</strong></p></blockquote><h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><h3 id="disqus-php-api集成至hexo"><a href="#disqus-php-api集成至hexo" class="headerlink" title="disqus-php-api集成至hexo"></a>disqus-php-api集成至hexo</h3><p><strong>修改 hexo 的主题配置文件</strong><br>在<code>主题配置</code>文件<code>_config.yml</code>中添加 disqusapi 相关参数</p><pre><code class="js">disqusapi:  forum: &#39;your-short-name&#39;  site: &#39;https://your-site&#39;  api: &#39;https://your-site/.../disqus-php-api/api&#39;  mode: 1  badge: &#39;博主&#39;  timeout: 3000</code></pre><blockquote><p>参数参考文档：<a href="https://github.com/fooleap/disqus-php-api/blob/master/readme.md" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/fooleap/disqus-php-api/blob/master/readme.md</a></p><ul><li>forum：Disqus form的shortname</li><li>site：网站域名</li><li>api：PHP代码部署的网址：<a href="https://yoursite.com/disqus/api" rel="external nofollow noopener noreferrer" target="_blank">https://yoursite.com/disqus/api</a></li><li>mode：<ul><li>1 检测能否访问 Disqus，若能则加载 Disqus 原生评论框，超时则加载简易评论框</li><li>2 仅加载简易评论框</li><li>3 同时加载两种评论框，先显示简易评论框，Disqus 加载完成则切换至 Disqus 评论框</li></ul></li><li>badge：管理员徽章文本</li><li>timeout：当mode为1时的超时时间</li></ul></blockquote><h3 id="添加-disqusapi-模块"><a href="#添加-disqusapi-模块" class="headerlink" title="添加 disqusapi 模块"></a>添加 disqusapi 模块</h3><p>Material主题的 disqusapi 模块添加可以参考官方文档的<a href="https://material.viosey.com/docs/#/dev_comment" rel="external nofollow noopener noreferrer" target="_blank">评论系统适配指南</a>。<br>直接拷贝一份官方提供的 disqus 评论模块到<code>&lt;主题根目录&gt;/layout/_widget/comment/disqusapi/</code>下。下面是<code>common.ejs</code>、<code>enter.ejs</code>、<code>main.ejs</code>的具体代码：</p><ul><li><p>common.ejs</p><pre><code class="html">  &lt;!-- 使用 DISQUS js 代码 --&gt;</code></pre><p>common.ejs为空</p></li><li><p>enter.ejs</p><pre><code class="html">  &lt;!-- 使用 DISQUS --&gt;  &lt;% if(page.comments) {%&gt;  &lt;link rel=&quot;stylesheet&quot; href=&quot;/disqus-php-api-dist/iDisqus.min.css&quot; /&gt;  &lt;script src=&quot;/disqus-php-api-dist/iDisqus.min.js&quot;&gt;&lt;/script&gt;  &lt;div id=&quot;comment&quot;&gt;      &lt;%- partial(&#39;_widget/comment/&#39; + theme.comment.use + &#39;/main&#39;) %&gt;  &lt;/div&gt;  &lt;style&gt;      #comment{          background-color: #eee;          padding: 2pc;      }  &lt;/style&gt;  &lt;% } %&gt;</code></pre><blockquote><ul><li><code>page.comments</code>是为了控制每一篇文章是否需要开启评论功能，需要在每一篇文章的<code>Front-matter</code>中设置<code>comments={Boolean}</code></li><li>如果服务器很远，连接比较慢，建议把<code>iDisqus.min.css</code>和<code>iDisqus.min.js</code>放到<code>主题目录</code>的<code>source</code>里会更方便，渲染调试的时候直接从本地加载，不然调试的时候从网络加载半年网页都没加载完。当然，放到了CDN那更好，此处主要是为了方便<code>hexo s</code>调试。</li></ul></blockquote></li><li><p>main.ejs</p></li></ul><pre><code class="html">&lt;script&gt;        var emojiList = [{            code:&#39;smile&#39;,            title:&#39;笑脸&#39;,            unicode:&#39;1f604&#39;        },{            code:&#39;mask&#39;,            title:&#39;生病&#39;,            unicode:&#39;1f637&#39;        },{            code:&#39;joy&#39;,            title:&#39;破涕为笑&#39;,            unicode:&#39;1f602&#39;        },{            code:&#39;stuck_out_tongue_closed_eyes&#39;,            title:&#39;吐舌&#39;,            unicode:&#39;1f61d&#39;        },{            code:&#39;flushed&#39;,            title:&#39;脸红&#39;,            unicode:&#39;1f633&#39;        },{            code:&#39;scream&#39;,            title:&#39;恐惧&#39;,            unicode:&#39;1f631&#39;        },{            code:&#39;pensive&#39;,            title:&#39;失望&#39;,            unicode:&#39;1f614&#39;        },{            code:&#39;unamused&#39;,            title:&#39;无语&#39;,            unicode:&#39;1f612&#39;        },{            code:&#39;grin&#39;,            title:&#39;露齿笑&#39;,            unicode:&#39;1f601&#39;        },{            code:&#39;heart_eyes&#39;,            title:&#39;色&#39;,            unicode:&#39;1f60d&#39;        },{            code:&#39;sweat&#39;,            title:&#39;汗&#39;,            unicode:&#39;1f613&#39;        },{            code:&#39;smirk&#39;,            title:&#39;得意&#39;,            unicode:&#39;1f60f&#39;        }];         var disq = new iDisqus(&#39;comment&#39;, {            forum: &#39;&lt;%= theme.disqusapi.forum %&gt;&#39;,            site: &#39;&lt;%= theme.disqusapi.site %&gt;&#39;,            api: &#39;&lt;%= theme.disqusapi.api %&gt;&#39;,            mode: &#39;&lt;%= theme.disqusapi.mode %&gt;&#39;,            badge: &#39;&lt;%= theme.disqusapi.badge %&gt;&#39;,            timeout: &#39;&lt;%= theme.disqusapi.timeout %&gt;&#39;,            init: true,            emoji_list: emojiList        });        disq.count();&lt;/script&gt;</code></pre><p>最后编辑<code>主题配置文件</code>中的<code>comment</code>模块开启<code>disqusapi</code>：</p><pre><code class="js">comment:    use: disqusapi</code></pre><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="1-没有权限"><a href="#1-没有权限" class="headerlink" title="1.没有权限"></a>1.没有权限</h2><blockquote><p>参考：</p><ul><li><a href="https://blog.fooleap.org/disqus-php-api.html#comment-3954303091" rel="external nofollow noopener noreferrer" target="_blank">https://blog.fooleap.org/disqus-php-api.html#comment-3954303091</a></li><li><a href="https://blog.csdn.net/Axela30W/article/details/78981749" rel="external nofollow noopener noreferrer" target="_blank">Linux查看、修改文件读写权限</a></li></ul></blockquote><p>问题如图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-php-api-no-permission.png" alt="disqus-php-api-no-permission"></p><p>据作者 fooleap 所说，显示没有权限的话，就是没有权限在当前目录创建文件夹。<br>于是我修改了 api 所在目录的权限就好了：</p><pre><code class="bash">sudo chown -R $USER:$USER path/to/disqus-php-apisudo chmod -R 777 path/to/disqus-php-api</code></pre><h2 id="2-由于disqus没有本页面的项管thread，故需先创建thread"><a href="#2-由于disqus没有本页面的项管thread，故需先创建thread" class="headerlink" title="2.由于disqus没有本页面的项管thread，故需先创建thread"></a>2.由于disqus没有本页面的项管thread，故需先创建thread</h2><blockquote><p>参考：<a href="https://blog.fooleap.org/disqus-php-api.html#comment-3829428059" rel="external nofollow noopener noreferrer" target="_blank">https://blog.fooleap.org/disqus-php-api.html#comment-3829428059</a></p></blockquote><p>据作者 fooleap 所说，加载评论框的页面，若在 Disqus 没有相关的 thread，是必须先手动创建的，不设置成自动是避免生成无用的 thread。若想自动创建可以在<code>配置参数</code>里添加<code>autoCreate: true</code>。</p><ul><li>还有一种解决方法<strong>（推荐）</strong>：<br>如果出现创建<code>thread</code>的问题，那么可以通过 <code>mode</code>选择<code>1</code>，再翻墙访问你的文章页面，这时候加载原生Disqus评论系统，<code>thread</code>就创建成功了。</li><li><strong>特别要注意的是：</strong>如果你的文章标题中带有中文，会无法创建thread，所以不要使用中文命名文章。</li></ul><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><blockquote><ul><li><a href="https://www.jianshu.com/p/9cc4cc8628c9" rel="external nofollow noopener noreferrer" target="_blank">解决Hexo博客中 Disqus 在国内不能访问的方案</a></li><li><a href="https://www.jianshu.com/p/2671b28b79e5" rel="external nofollow noopener noreferrer" target="_blank">Hexo折腾记之科学使用Disqus与Next的集成</a></li><li><a href="https://mou.science/2017/05/22/disqus-php-api/" rel="external nofollow noopener noreferrer" target="_blank">disqus-php-api 科学评论</a></li><li><a href="https://blog.fooleap.org/use-disqus-correctly.html#note-3" rel="external nofollow noopener noreferrer" target="_blank">科学使用 Disqus</a></li><li><a href="https://blog.kuroy.me/using-disqus-reverse-proxy-hexo-fexo-theme/" rel="external nofollow noopener noreferrer" target="_blank">为Hexo主题fexo添加disqus反代</a></li><li><a href="http://smk17.cn/posts/104/" rel="external nofollow noopener noreferrer" target="_blank">〖原创〗基于disqus-php-api在Hexo博客中使用Disqus</a></li></ul></blockquote>]]></content>
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> Disqus </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>测试专页</title>
      <link href="/posts/b84ba97.html"/>
      <url>/posts/b84ba97.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script><div id="security">  <div class="input-container">  <input type="password" class="form-control" id="pass" placeholder="测试的英文？（全小写）" />    <label for="pass">测试的英文？（全小写）</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      
    </entry>
    
    <entry>
      <title>Hexo添加Disqus评论</title>
      <link href="/posts/2cb4e595.html"/>
      <url>/posts/2cb4e595.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>国内的评论系统畅言都需要ICP备案，像我这种打死不备案的人来说，国内的评论系统就用不了了。最终决定博客使用的是国外的 <strong>Disqus</strong> 评论系统，但他的主域名<code>disqus.com</code>在国内被屏蔽了，只能科学上网后使用。</p><p>果然有空还是自己造轮子爽一点，逃～<br><a id="more"></a></p><h1 id="配置-Disqus"><a href="#配置-Disqus" class="headerlink" title="配置 Disqus"></a>配置 Disqus</h1><p>Disqus官网：<a href="https://disqus.com" rel="external nofollow noopener noreferrer" target="_blank">https://disqus.com</a><br>打开链接后， 可以直接用Facebook，Twitter以及 Google 登录，也可以用邮箱注册后登录。</p><h2 id="选择创建目的"><a href="#选择创建目的" class="headerlink" title="选择创建目的"></a>选择创建目的</h2><p>登录后，点击首页的GET STARTED 按钮，然后点击图示按钮：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-step1-intent.png" alt="disqus-step1-intent"></p><h2 id="创建一个新站点"><a href="#创建一个新站点" class="headerlink" title="创建一个新站点"></a>创建一个新站点</h2><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-step2-newsite.png" alt="disqus-step2-newsite"></p><ul><li>Website Name 填的是<code>shortname</code>，到时候要填到<code>主题配置文件</code>中</li><li>Category 选择种类，我选的是 <code>Tech</code></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Select-Plan"><a href="#Select-Plan" class="headerlink" title="Select Plan"></a>Select Plan</h3><p>接下来你会看到以下页面：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-step3-choose-plan.png" alt="disqus-step3-choose-plan"><br>这一步不需要选计划，跳过<code>Select Plan</code>，直接到<code>Install Disqus</code>。</p><h3 id="Install-Disqus"><a href="#Install-Disqus" class="headerlink" title="Install Disqus"></a>Install Disqus</h3><h4 id="Select-Platform"><a href="#Select-Platform" class="headerlink" title="Select Platform"></a>Select Platform</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-step4-choose-platform.png" alt="disqus-step4-choose-platform"><br>Hexo 不属于以上任何形式，因此选择<code>Universal Code</code>(通用代码)。</p><h4 id="Install-Instructions"><a href="#Install-Instructions" class="headerlink" title="Install Instructions"></a>Install Instructions</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-step5-universalcode-install.png" alt="disqus-step5-universalcode-instal"><br>然后拉到最下面选择<code>Configure</code></p><h3 id="Configure-Disqus"><a href="#Configure-Disqus" class="headerlink" title="Configure Disqus"></a>Configure Disqus</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-step6-configure.png" alt="disqus-step6-configure"></p><ul><li>Website Name 一般就刚刚第一步填的<code>short name</code>（我刚刚填了 justtestme，到这步的时候一般会自动填充）</li><li>Website URL 填写你的博客地址</li></ul><p>填完信息后点击<code>Complete Setup</code>完成配置。</p><h1 id="配置-Hexo"><a href="#配置-Hexo" class="headerlink" title="配置 Hexo"></a>配置 Hexo</h1><p>在<code>主题配置文件</code>中找到<code>comment</code>项：<br>（以 Material 主题为例）</p><pre><code class="bash"># Comment Systems# Available value of &quot;use&quot;:#     disqus | disqus_click | changyan | 163gentiecomment:    use: disqus_click    shortname: justtestme # duoshuo or disqus shortname</code></pre><ul><li><strong>use</strong>：选择<code>disqus</code>或<code>disqus_click</code>，两者差别请参阅<a href="https://material.viosey.com/docs/" rel="external nofollow noopener noreferrer" target="_blank">Material主题文档</a></li><li><strong>shortname</strong>：填写你刚刚在 Disqus 设置的 Website Name，英文冒号后空格。（严格意义上是填站点配置面板中的 Shortname ）</li></ul><h1 id="部署应用"><a href="#部署应用" class="headerlink" title="部署应用"></a>部署应用</h1><p>使用如下命令提交到服务器：</p><pre><code class="bash">hexo cleanhexo ghexo d</code></pre><p>科学上网后，任意打开一篇你的博文就能评论了。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>在<a href="https://justtestme.disqus.com/admin/settings/general/" rel="external nofollow noopener noreferrer" target="_blank">https://justtestme.disqus.com/admin/settings/general/</a>页面管理 Your Sites（ justtestme 换成自己的 shortname ）。</p><p>此处的 Shortname 和 Websit Name 是可以不同的。如下图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/disqus-configure-differentname-short-website.png" alt="disqus-configure-differentname-short-website"></p><blockquote><p><strong>注意：</strong><code>主题配置文件</code>中<code>comment</code>项填的是此处的 <font color="red"><strong>Shortname</strong></font> 而不是 Website Name！！</p></blockquote><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul><li><a href="https://www.jianshu.com/p/d68de067ea74" rel="external nofollow noopener noreferrer" target="_blank">Hexo搭建博客系列：（六）Hexo添加Disqus评论</a></li></ul>]]></content>
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> Disqus </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Mac使用brew安装的MySQL版本切换</title>
      <link href="/posts/a96dbfbe.html"/>
      <url>/posts/a96dbfbe.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><blockquote><p>参考：<a href="https://www.jianshu.com/p/f1a5a680b464" rel="external nofollow noopener noreferrer" target="_blank">https://www.jianshu.com/p/f1a5a680b464</a></p></blockquote><font color="red"><strong>☆☆20180801更新：通过测试发现直接使用<code>brew services start mysql@5.6</code>即可切换至5.6版本使用，不需要<code>brew unlink</code>，是否可用请自行测试，测试前请备份好数据！！☆☆</strong></font><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>今天因为要写JavaEE大作业运行了一遍队友发过来的项目，却无法正常运行。经过一番追踪，发现是MySQL版本不对的问题，项目使用的MySQL版本是5.6（从使用的JDBC驱动就可以看出来）。本来想着更新JDBC驱动就可以解决，却发现Hibernate也要更新，还不清楚Hibernate支不支持8.0的MySQL，想了一下还是决定装多一个版本的MySQL吧。</p><a id="more"></a><h2 id="切换重点"><a href="#切换重点" class="headerlink" title="切换重点"></a>切换重点</h2><ol><li><code>/usr/local/var/mysql/</code>通过切换每个版本来使用数据库设置和数据</li><li>使用<code>brew unlink</code>和<code>brew link</code>切换活动版本的MySQL</li></ol><h2 id="教程摘要"><a href="#教程摘要" class="headerlink" title="教程摘要"></a>教程摘要</h2><p>下面我们来看一下大概流程：</p><ul><li>停止运行MySQL</li><li>在设置和数据目录（usr/local/var/mysql）之间切换</li><li>brew unlink并brew link与切换活动的MySQL</li><li>启动MySQL</li></ul><h2 id="详细步骤"><a href="#详细步骤" class="headerlink" title="详细步骤"></a>详细步骤</h2><p>本例以已安装MySQL 8.0再安装5.6 为例</p><h4 id="1-备份-usr-local-var-mysql"><a href="#1-备份-usr-local-var-mysql" class="headerlink" title="1. 备份/usr/local/var/mysql/"></a>1. 备份<code>/usr/local/var/mysql/</code></h4><p>由于存储了设置和DB数据，因此应该备份好，然后撤离。</p><pre><code class="bash"> mv /usr/local/var/mysql /usr/local/var/mysql_80</code></pre><h4 id="2-删除MySQL-8-0的符号链接"><a href="#2-删除MySQL-8-0的符号链接" class="headerlink" title="2. 删除MySQL 8.0的符号链接"></a>2. 删除MySQL 8.0的符号链接</h4><pre><code class="bash">brew unlink mysql</code></pre><blockquote><p><strong>解释：</strong><br>这个符号链接 指的是诸如</p><pre><code class="bash">/usr/local/bin/mysql -&gt; ../Cellar/mysql/5.7.10/bin/mysql</code></pre><p>和</p><pre><code class="bash">/usr/local/lib/libmysqlclient.20.dylib -&gt; ../Cellar/mysql/5.7.10/lib/libmysqlclient.20.dylib</code></pre><p>之类的东西。</p></blockquote><p><strong>注意：</strong><br>如果此符号链接存在，安装另一个版本将可能导致以下错误：</p><pre><code class="bash">$ brew install mysql56==&gt; Reinstalling homebrew/versions/mysql56==&gt; Downloading https://homebrew.bintray.com/bottles-versions/mysql56-5.6.27.el_capitan.bottle.tar.gzAlready downloaded: /Library/Caches/Homebrew/mysql56-5.6.27.el_capitan.bottle.tar.gz==&gt; Pouring mysql56-5.6.27.el_capitan.bottle.tar.gzError: The `brew link` step did not complete successfullyThe formula built, but is not symlinked into /usr/localCould not symlink bin/innochecksumTarget /usr/local/bin/innochecksumis a symlink belonging to mysql. You can unlink it:  brew unlink mysqlTo force the link and overwrite all conflicting files:  brew link --overwrite mysql56To list all files that would be deleted:  brew link --overwrite --dry-run mysql56</code></pre><p>或：</p><pre><code class="bash">$ brew install mysql56Updating Homebrew...==&gt; Auto-updated Homebrew!Updated 1 tap (homebrew/cask).No changes to formulae.==&gt; Downloading https://homebrew.bintray.com/bottles/mysql@5.6-5.6.40.sierra.bottle.tar.gz######################################################################## 100.0%==&gt; Pouring mysql@5.6-5.6.40.sierra.bottle.tar.gz==&gt; /usr/local/Cellar/mysql@5.6/5.6.40/bin/mysql_install_db --verbose --user=xxx --basedir=/usr/local/Cellar/mysql@5.6/5.6.40 --datadir=/usr/local/var/mysql --tmpdir=/tmp==&gt; CaveatsA &quot;/etc/my.cnf&quot; from another install may interfere with a Homebrew-builtserver starting up correctly.MySQL is configured to only allow connections from localhost by defaultTo connect:    mysql -urootThis formula is keg-only, which means it was not symlinked into /usr/local,because this is an alternate version of another formula.If you need to have this software first in your PATH run:  echo &#39;export PATH=&quot;/usr/local/opt/mysql@5.6/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrcFor compilers to find this software you may need to set:    LDFLAGS:  -L/usr/local/opt/mysql@5.6/lib    CPPFLAGS: -I/usr/local/opt/mysql@5.6/includeTo have launchd start mysql@5.6 now and restart at login:  brew services start mysql@5.6Or, if you don&#39;t want/need a background service you can just run:  /usr/local/opt/mysql@5.6/bin/mysql.server start==&gt; Summary🍺  /usr/local/Cellar/mysql@5.6/5.6.40: 340 files, 154.0MB</code></pre><h4 id="3-安装MySQL-5-6"><a href="#3-安装MySQL-5-6" class="headerlink" title="3. 安装MySQL 5.6"></a>3. 安装MySQL 5.6</h4><p>很简单，执行以下命令即可：</p><pre><code class="bash">brew install mysql56</code></pre><p>安装后记得导入环境变量：</p><pre><code class="bash">echo &#39;export PATH=&quot;/usr/local/opt/mysql@5.6/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc</code></pre><h5 id="附录：Mac通过brew安装MySQL后详细配置过程"><a href="#附录：Mac通过brew安装MySQL后详细配置过程" class="headerlink" title="附录：Mac通过brew安装MySQL后详细配置过程"></a>附录：Mac通过brew安装MySQL后详细配置过程</h5><h4 id="4-分配MySQL-5-6链接"><a href="#4-分配MySQL-5-6链接" class="headerlink" title="4. 分配MySQL 5.6链接"></a>4. 分配MySQL 5.6链接</h4><p>安装MySQL 5.6之后，执行以下命令：</p><pre><code class="bash">brew unlink mysql &amp;&amp; brew link mysql@5.6 --force</code></pre><p><strong>注意：</strong>尽管可以通过执行链接来重新分配链接，但最好首先清除链接，因为发出大量日志很难发现错误。<code>--force</code>参数看具体情况使用，若<code>brew link mysql@5.6</code>不提示要强制链接的话就不需要该参数了。</p><h4 id="5-启动MySQL-5-6并检查版本"><a href="#5-启动MySQL-5-6并检查版本" class="headerlink" title="5. 启动MySQL 5.6并检查版本"></a>5. 启动MySQL 5.6并检查版本</h4><p>用brew启动</p><pre><code class="bash">brew services start mysql@5.6</code></pre><p>或</p><pre><code class="bash">mysql.server start</code></pre><p>检查版本：</p><pre><code class="bash">$ mysql -u root -pEnter password:Welcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 1Server version: 5.6.40 HomebrewCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.mysql&gt;</code></pre><p>从日志可以确认MySQL 5.6启动。<br>如果版本中显示5.7，我们要检查日志等，因为有可能无法替换符号链接。</p><h4 id="6-停止MySQL-5-6服务并保存数据"><a href="#6-停止MySQL-5-6服务并保存数据" class="headerlink" title="6. 停止MySQL 5.6服务并保存数据"></a>6. 停止MySQL 5.6服务并保存数据</h4><pre><code class="bash">$ mysql.server stopShutting down MySQL. SUCCESS!$ mv /usr/local/var/mysql /usr/local/var/mysql_56</code></pre><h4 id="7-恢复最初安装的MySQL-5-7启动"><a href="#7-恢复最初安装的MySQL-5-7启动" class="headerlink" title="7. 恢复最初安装的MySQL 5.7启动"></a>7. 恢复最初安装的MySQL 5.7启动</h4><pre><code class="bash">$ mv /usr/local/var/mysql_80 /usr/local/var/mysql$ brew unlink mysql56 &amp;&amp; brew link mysqlUnlinking /usr/local/Cellar/mysql56/5.6.40... 99 symlinks removedLinking /usr/local/Cellar/mysql/8.0.11... 79 symlinks created$ mysql.server startStarting MySQL. SUCCESS!$ mysql -u rootWelcome to the MySQL monitor.  Commands end with ; or \g.Your MySQL connection id is 2Server version: 8.0.11 HomebrewCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.mysql&gt;</code></pre><p>从日志可以确认MySQL 8.0启动。</p><h3 id="疑难解答"><a href="#疑难解答" class="headerlink" title="疑难解答"></a>疑难解答</h3><ol><li><p><strong><code>/usr/local/var/mysql/</code>为什么有必要切换</strong><br>如果至少启动一次8.0，如果使用相同的数据运行5.6，将出现以下错误：</p><pre><code class="bash"> Starting MySQL. ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid).</code></pre><p>由于mysqld等没有动，似乎是权威，但解决不了。<br>（由于目录结构根据版本不同而不同，可能会影响权限以外的内容）</p></li><li><p><strong>MySQL 5.6和MySQL 5.7（<code>/usr/local/var/mysql/</code>）的初始数据目录结构</strong></p><pre><code class="bash"># MySQL 5.6$ ls -l /usr/local/var/mysql-rw-rw----   1 xxx  admin        56  7 26 20:54 auto.cnf-rw-r-----   1 xxx  admin         0  7 26 20:50 binlog.index-rw-r-----   1 xxx  admin     10369  7 27 18:30 xxx.local.err-rw-rw----   1 xxx  admin         5  7 27 18:30 xxx.local.pid-rw-rw----   1 xxx  admin  50331648  7 27 18:30 ib_logfile0-rw-rw----   1 xxx  admin  50331648  7 26 20:46 ib_logfile1-rw-rw----   1 xxx  admin  12582912  7 27 18:30 ibdata1drwx------  81 xxx  admin      2754  7 26 20:46 mysqldrwx------  55 xxx  admin      1870  7 26 20:46 performance_schema</code></pre><pre><code class="bash"># MySQL 8.0$ ls -l /usr/local/var/mysql_80-rw-r-----    1 xxx  admin        56  7 26 19:44 auto.cnf-rw-r-----    1 xxx  admin       178  7 26 19:50 binlog.000001-rw-r-----    1 xxx  admin     11628  7 26 20:42 binlog.000002-rw-r-----    1 xxx  admin        32  7 26 19:51 binlog.index-rw-------    1 xxx  admin      1680  7 26 19:44 ca-key.pem-rw-r--r--    1 xxx  admin      1112  7 26 19:44 ca.pem-rw-r-----    1 xxx  admin      2783  7 26 20:42 xxx.local.err-rw-r-----    1 xxx  admin         6  7 26 19:51 xxx.local.pid-rw-r--r--    1 xxx  admin      1112  7 26 19:44 client-cert.pem-rw-------    1 xxx  admin      1676  7 26 19:44 client-key.pem-rw-r-----    1 xxx  admin      3346  7 26 20:42 ib_buffer_pool-rw-r-----    1 xxx  admin  50331648  7 26 20:42 ib_logfile0-rw-r-----    1 xxx  admin  50331648  7 26 19:44 ib_logfile1-rw-r-----    1 xxx  admin  12582912  7 26 20:42 ibdata1drwxr-x---    8 xxx  admin       272  7 26 19:44 mysql-rw-r-----    1 xxx  admin  25165824  7 26 20:19 mysql.ibddrwxr-x---  104 xxx  admin      3536  7 26 19:44 performance_schema-rw-------    1 xxx  admin      1680  7 26 19:44 private_key.pem-rw-r--r--    1 xxx  admin       452  7 26 19:44 public_key.pem-rw-r--r--    1 xxx  admin      1112  7 26 19:44 server-cert.pem-rw-------    1 xxx  admin      1676  7 26 19:44 server-key.pemdrwxr-x---    3 xxx  admin       102  7 26 19:44 sys-rw-r-----    1 xxx  admin  10485760  7 26 20:42 undo_001-rw-r-----    1 xxx  admin  10485760  7 26 20:42 undo_002</code></pre></li></ol>]]></content>
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> Homebrew </tag>
            
            <tag> 数据库 </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Mac通过brew安装的MySQL各种无法运行问题总结</title>
      <link href="/posts/6965849b.html"/>
      <url>/posts/6965849b.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><h2 id="一、解决-ERROR-The-server-quit-without-updating-PID-file-usr-local-var-mysql-xxx-local-pid"><a href="#一、解决-ERROR-The-server-quit-without-updating-PID-file-usr-local-var-mysql-xxx-local-pid" class="headerlink" title="一、解决 ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid)."></a>一、解决 ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid).</h2><blockquote><p>参考：<a href="https://stackoverflow.com/a/36156848" rel="external nofollow noopener noreferrer" target="_blank">https://stackoverflow.com/a/36156848</a><br><a id="more"></a></p></blockquote><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>之前用的好好的，经过一次更新（5.6-&gt;8.0）后某一天突然炸了。<br>通过<code>brew services start mysql</code>启动 MySQL 后，使用 Navicat 连接提示：</p><pre><code class="bash">2003 - Can&#39;t connect to MySQL server on &#39;127.0.0.1&#39; (61 &quot;Connection refused&quot;)</code></pre><p>经过一番查询，据说是 MySQL 服务没启动的问题（其实我觉得这说法有点不对），然后我就尝试启动MySQL服务，命令<code>mysql.server start</code>。<br>接着我收到以下错误：</p><pre><code class="bash">ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid).</code></pre><p><code>xxx</code>为我的机器名字。</p><p>然后执行<code>mysql_secure_installation</code>又提示：</p><pre><code class="bash">Securing the MySQL server deployment.Enter password for user root:Error: Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)</code></pre><p>后来经过各种尝试如：</p><pre><code class="bash">rm /usr/local/var/mysql/*.errrm /usr/local/var/mysql/xxx.local.errfind / -name mysql.socksudo chmod -R 755 /usr/local/var/mysql/sudo chown -R _mysql:mysql /usr/local/var/mysqlls -laF /usr/local/var/mysql/sudo rm -f /tmp/mysql.sock.lockls -laF /tmp</code></pre><p>还有通过<code>ps aux | grep mysql</code>找出 MySQL 的 PID，再用<code>kill -9 [PID]</code>杀掉进程都没用。</p><h3 id="最终解决方法：重装大法"><a href="#最终解决方法：重装大法" class="headerlink" title="最终解决方法：重装大法"></a>最终解决方法：重装大法</h3><p>最后尝试完全重新安装 MySQL 终于解决了。<br><strong>警告：</strong>这将删除所有数据库，因此请确保先保存转储。</p><pre><code class="bash">brew remove mysqlbrew cleanup --forcelaunchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plistrm ~/Library/LaunchAgents/homebrew.mxcl.mysql.plistsudo rm -rf /usr/local/var/mysqlbrew install mysqlmysqld --initialize --explicit_defaults_for_timestampmysql.server start # no sudo!</code></pre><p>重装了MySQL后建议重新执行一次配置脚本：<code>mysql_secure_installation</code></p><blockquote><p>注意：<br>安装后必须执行</p><pre><code class="bash">mysqld --initialize --explicit_defaults_for_timestamp</code></pre><p>否则仍无法解决以下问题：</p><pre><code class="bash">Error: Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)</code></pre></blockquote><h3 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h3><p>卸载过程如下（保留以便日后需要）：</p><pre><code class="bash">$ brew remove mysqlUninstalling /usr/local/Cellar/mysql/8.0.11... (254 files, 232.9MB)mysql 5.7.21, 5.7.22 2 are still installed.Remove all versions with `brew uninstall --force mysql`.$ brew uninstall --force mysqlUninstalling mysql... (640 files, 467.8MB)$ brew cleanup --forceRemoving: /usr/local/Cellar/dash/0.5.10... (6 files, 196.2KB)Removing: /usr/local/Cellar/dash/0.5.9.1... (5 files, 199KB)Removing: /usr/local/Cellar/freetds/1.00.89... (2,094 files, 11.9MB)Removing: /usr/local/Cellar/freetds/1.00.91... (2,094 files, 11.9MB)Removing: /usr/local/Cellar/freetype/2.9... (60 files, 2.7MB)Removing: /usr/local/Cellar/gdbm/1.14.1_1... (20 files, 555.8KB)Removing: /usr/local/Cellar/icu4c/61.1... (249 files, 67.2MB)Removing: /usr/local/Cellar/libidn2/2.0.4... (46 files, 580.8KB)Removing: /usr/local/Cellar/libpq/10.3... (2,425 files, 26.8MB)Removing: /usr/local/Cellar/libunistring/0.9.9... (54 files, 4.4MB)Removing: /usr/local/Cellar/nginx/1.13.12... (23 files, 1.4MB)Removing: /usr/local/Cellar/nginx/1.15.0... (23 files, 1.4MB)Removing: /usr/local/Cellar/node/10.0.0... (5,301 files, 51.7MB)Removing: /usr/local/Cellar/node/10.1.0... (7,283 files, 55.4MB)Removing: /usr/local/Cellar/node/10.2.1... (5,301 files, 51.9MB)Removing: /usr/local/Cellar/node/9.11.1... (5,125 files, 49.7MB)Removing: /usr/local/Cellar/openssl/1.0.2n... (1,792 files, 12.3MB)Removing: /usr/local/Cellar/openssl/1.0.2o_1... (1,791 files, 12.3MB)Removing: /usr/local/Cellar/php/7.2.5... (515 files, 78.9MB)Removing: /usr/local/Cellar/php/7.2.6... (515 files, 78.9MB)Removing: /usr/local/Cellar/php@5.6/5.6.35_1... (498 files, 63.8MB)Removing: /usr/local/Cellar/php@5.6/5.6.36... (498 files, 63.8MB)Removing: /usr/local/Cellar/php@7.0/7.0.29_1... (502 files, 65.5MB)Removing: /usr/local/Cellar/php@7.0/7.0.30... (502 files, 65.5MB)Removing: /usr/local/Cellar/python/3.6.5... (4,794 files, 99.9MB)Removing: /usr/local/Cellar/readline/7.0.3_1... (46 files, 1.5MB)Removing: /usr/local/Cellar/sqlite/3.23.1... (11 files, 3MB)Removing: /usr/local/Cellar/webp/0.6.1... (38 files, 2MB)Removing: /usr/local/Cellar/wget/1.19.4_1... (50 files, 3.7MB)Removing: /usr/local/Cellar/xz/5.2.3... (92 files, 1.4MB)Removing: /usr/local/Cellar/zsh/5.4.2_3... (1,390 files, 11.8MB)Removing: /Users/seal/Library/Caches/Homebrew/dash-0.5.10.sierra.bottle.tar.gz... (83.6KB)Removing: /Users/seal/Library/Caches/Homebrew/dash-0.5.9.1.sierra.bottle.tar.gz... (83.2KB)Removing: /Users/seal/Library/Caches/Homebrew/freetds-1.00.89.sierra.bottle.tar.gz... (2.3MB)Removing: /Users/seal/Library/Caches/Homebrew/freetds-1.00.91.sierra.bottle.tar.gz... (2.3MB)Removing: /Users/seal/Library/Caches/Homebrew/freetype-2.9.sierra.bottle.1.tar.gz... (896.8KB)Removing: /Users/seal/Library/Caches/Homebrew/gdbm-1.14.1_1.sierra.bottle.tar.gz... (182.5KB)Removing: /Users/seal/Library/Caches/Homebrew/icu4c-61.1.sierra.bottle.tar.gz... (25.4MB)Removing: /Users/seal/Library/Caches/Homebrew/libidn2-2.0.4.sierra.bottle.tar.gz... (190.4KB)Removing: /Users/seal/Library/Caches/Homebrew/libpq-10.3.sierra.bottle.tar.gz... (6MB)Removing: /Users/seal/Library/Caches/Homebrew/libunistring-0.9.9.sierra.bottle.tar.gz... (1.4MB)Removing: /Users/seal/Library/Caches/Homebrew/mysql-5.7.21.sierra.bottle.tar.gz... (72.2MB)Removing: /Users/seal/Library/Caches/Homebrew/mysql-5.7.22.sierra.bottle.tar.gz... (72.2MB)Removing: /Users/seal/Library/Caches/Homebrew/nginx-1.13.12.sierra.bottle.tar.gz... (570.5KB)Removing: /Users/seal/Library/Caches/Homebrew/nginx-1.15.0.sierra.bottle.tar.gz... (572.6KB)Removing: /Users/seal/Library/Caches/Homebrew/node-10.0.0.sierra.bottle.tar.gz... (13.7MB)Removing: /Users/seal/Library/Caches/Homebrew/node-10.1.0.sierra.bottle.tar.gz... (13.7MB)Removing: /Users/seal/Library/Caches/Homebrew/node-10.2.1.sierra.bottle.tar.gz... (13.8MB)Removing: /Users/seal/Library/Caches/Homebrew/node-9.11.1.sierra.bottle.tar.gz... (13.3MB)Removing: /Users/seal/Library/Caches/Homebrew/openssl-1.0.2n.sierra.bottle.tar.gz... (3.7MB)Removing: /Users/seal/Library/Caches/Homebrew/openssl-1.0.2o_1.sierra.bottle.tar.gz... (3.7MB)Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.4_1.sierra.bottle.tar.gz... (21.6MB)Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.5.sierra.bottle.tar.gz... (21.6MB)Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.6.sierra.bottle.tar.gz... (21.6MB)Removing: /Users/seal/Library/Caches/Homebrew/php@5.6-5.6.35_1.sierra.bottle.tar.gz... (19.4MB)Removing: /Users/seal/Library/Caches/Homebrew/php@5.6-5.6.36.sierra.bottle.tar.gz... (19.4MB)Removing: /Users/seal/Library/Caches/Homebrew/php@7.0-7.0.29_1.sierra.bottle.tar.gz... (20MB)Removing: /Users/seal/Library/Caches/Homebrew/php@7.0-7.0.30.sierra.bottle.tar.gz... (20MB)Removing: /Users/seal/Library/Caches/Homebrew/php@7.1-7.1.16_1.sierra.bottle.tar.gz... (20.5MB)Removing: /Users/seal/Library/Caches/Homebrew/python-3.6.5.sierra.bottle.1.tar.gz... (21.9MB)Removing: /Users/seal/Library/Caches/Homebrew/readline-7.0.3_1.sierra.bottle.tar.gz... (497.3KB)Removing: /Users/seal/Library/Caches/Homebrew/sqlite-3.23.1.sierra.bottle.tar.gz... (1.4MB)Removing: /Users/seal/Library/Caches/Homebrew/tomcat-9.0.6.tar.gz.incomplete... (572KB)Removing: /Users/seal/Library/Caches/Homebrew/webp-0.6.1.sierra.bottle.1.tar.gz... (809.1KB)Removing: /Users/seal/Library/Caches/Homebrew/wget-1.19.4_1.sierra.bottle.tar.gz... (1.3MB)Removing: /Users/seal/Library/Caches/Homebrew/xz-5.2.3.sierra.bottle.tar.gz... (462.1KB)Removing: /Users/seal/Library/Caches/Homebrew/zsh-5.4.2_3.sierra.bottle.tar.gz... (3.3MB)Removing: /Users/seal/Library/Logs/Homebrew/apr... (68B)Removing: /Users/seal/Library/Logs/Homebrew/apr-util... (68B)Removing: /Users/seal/Library/Logs/Homebrew/argon2... (68B)Removing: /Users/seal/Library/Logs/Homebrew/aspell... (68B)Removing: /Users/seal/Library/Logs/Homebrew/autoconf... (68B)Removing: /Users/seal/Library/Logs/Homebrew/brew-php-switcher... (119B)Removing: /Users/seal/Library/Logs/Homebrew/dash... (68B)Removing: /Users/seal/Library/Logs/Homebrew/freetds... (68B)Removing: /Users/seal/Library/Logs/Homebrew/freetype... (68B)Removing: /Users/seal/Library/Logs/Homebrew/gdbm... (68B)Removing: /Users/seal/Library/Logs/Homebrew/gettext... (68B)Removing: /Users/seal/Library/Logs/Homebrew/glib... (68B)Removing: /Users/seal/Library/Logs/Homebrew/gmp... (68B)Removing: /Users/seal/Library/Logs/Homebrew/icu4c... (68B)Removing: /Users/seal/Library/Logs/Homebrew/jpeg... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libffi... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libidn2... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libpng... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libpq... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libsodium... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libtool... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libunistring... (68B)Removing: /Users/seal/Library/Logs/Homebrew/libzip... (68B)Removing: /Users/seal/Library/Logs/Homebrew/mcrypt... (68B)Removing: /Users/seal/Library/Logs/Homebrew/mhash... (68B)Removing: /Users/seal/Library/Logs/Homebrew/mysql... (1.3KB)Removing: /Users/seal/Library/Logs/Homebrew/nginx... (68B)Removing: /Users/seal/Library/Logs/Homebrew/node... (68B)Removing: /Users/seal/Library/Logs/Homebrew/openssl... (68B)Removing: /Users/seal/Library/Logs/Homebrew/pcre... (68B)Removing: /Users/seal/Library/Logs/Homebrew/php... (12 files, 2.3KB)Removing: /Users/seal/Library/Logs/Homebrew/php@5.6... (12 files, 2.4KB)Removing: /Users/seal/Library/Logs/Homebrew/php@7.0... (12 files, 2.9KB)Removing: /Users/seal/Library/Logs/Homebrew/php@7.1... (12 files, 2.4KB)Removing: /Users/seal/Library/Logs/Homebrew/python... (3 files, 127.8KB)Removing: /Users/seal/Library/Logs/Homebrew/readline... (68B)Removing: /Users/seal/Library/Logs/Homebrew/sqlite... (68B)Removing: /Users/seal/Library/Logs/Homebrew/tomcat... (68B)Removing: /Users/seal/Library/Logs/Homebrew/tomcat@8... (110B)Removing: /Users/seal/Library/Logs/Homebrew/unixodbc... (68B)Removing: /Users/seal/Library/Logs/Homebrew/webp... (68B)Removing: /Users/seal/Library/Logs/Homebrew/wget... (68B)Removing: /Users/seal/Library/Logs/Homebrew/xz... (68B)Removing: /Users/seal/Library/Logs/Homebrew/zsh... (68B)Removing: /Users/seal/Library/Logs/Homebrew/zsh-completions... (117B)==&gt; This operation has freed approximately 1.3GB of disk space.</code></pre>]]></content>
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> Homebrew </tag>
            
            <tag> 数据库 </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Mac上使用brew安装MySQL</title>
      <link href="/posts/e87d9191.html"/>
      <url>/posts/e87d9191.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><blockquote><p>参考：<a href="https://segmentfault.com/q/1010000000475470" rel="external nofollow noopener noreferrer" target="_blank">https://segmentfault.com/q/1010000000475470</a></p></blockquote><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code class="bash">brew install mysql</code></pre><h2 id="开启MySQL"><a href="#开启MySQL" class="headerlink" title="开启MySQL"></a>开启MySQL</h2><p>通过brew</p><pre><code class="bash">brew services start mysql</code></pre><p>或</p><pre><code class="bash">mysql.server start</code></pre><h2 id="使用MySQL的配置脚本（MySQL-提供的配置向导）"><a href="#使用MySQL的配置脚本（MySQL-提供的配置向导）" class="headerlink" title="使用MySQL的配置脚本（MySQL 提供的配置向导）"></a>使用MySQL的配置脚本（MySQL 提供的配置向导）</h2><pre><code class="bash">mysql_secure_installation# 完整路径/usr/local/opt/mysql/bin/mysql_secure_installation</code></pre><p>启动这个脚本后，即可根据如下命令提示进行初始化设置：</p><pre><code class="bash">$ mysql_secure_installationNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!In order to log into MySQL to secure it, we&#39;ll need the currentpassword for the root user.  If you&#39;ve just installed MySQL, andyou haven&#39;t set the root password yet, the password will be blank,so you should just press enter here.# 输入当前root密码，一般为空Enter current password for root (enter for none):OK, successfully used password, moving on...Setting the root password ensures that nobody can log into the MySQLroot user without the proper authorisation.# 首次使用自带配置脚本，设置root密码Set root password? [Y/n] y New password:Re-enter new password:Password updated successfully!Reloading privilege tables.. ... Success!By default, a MySQL installation has an anonymous user, allowing anyoneto log into MySQL without having to have a user account created forthem.  This is intended only for testing, and to make the installationgo a bit smoother.  You should remove them before moving into aproduction environment.#  是否删除匿名用户Remove anonymous users? [Y/n] y ... Success!Normally, root should only be allowed to connect from &#39;localhost&#39;.  Thisensures that someone cannot guess at the root password from the network.#  是否禁止远程登录Disallow root login remotely? [Y/n] y ... Success!By default, MySQL comes with a database named &#39;test&#39; that anyone canaccess.  This is also intended only for testing, and should be removedbefore moving into a production environment.#  是否删除测试数据库，并登录Remove test database and access to it? [Y/n] y - Dropping test database... ... Success! - Removing privileges on test database... ... Success!Reloading the privilege tables will ensure that all changes made so farwill take effect immediately.# 是否重新载入权限表Reload privilege tables now? [Y/n] y ... Success!All done!  If you&#39;ve completed all of the above steps, your MySQLinstallation should now be secure.Thanks for using MySQL!Cleaning up...</code></pre><p>5.6版本和8.0版本的有点不一样，8.0版似乎有个密码安全检测插件。<br>下面是8.0版本的：</p><pre><code class="bash">$ mysql_secure_installationSecuring the MySQL server deployment.Connecting to MySQL using a blank password.Securing the MySQL server deployment.Connecting to MySQL using a blank password.VALIDATE PASSWORD PLUGIN can be used to test passwordsand improve security. It checks the strength of passwordand allows the users to set only those passwords which aresecure enough. Would you like to setup VALIDATE PASSWORD plugin?# 是否采用mysql密码安全检测插件（这里我选择了是，密码检查插件要求密码复杂程度高，大小写字母+数字+字符等）Press y|Y for Yes, any other key for No: yThere are three levels of password validation policy:LOW    Length &gt;= 8MEDIUM Length &gt;= 8, numeric, mixed case, and special charactersSTRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  file# 根据上面提示选择密码强度Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2# 首次使用自带配置脚本，设置root密码Please set the password for root here. New password:Re-enter new password:Estimated strength of the password: 100Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : yBy default, a MySQL installation has an anonymous user,allowing anyone to log into MySQL without having to havea user account created for them. This is intended only fortesting, and to make the installation go a bit smoother.You should remove them before moving into a productionenvironment.#  是否删除匿名用户Remove anonymous users? (Press y|Y for Yes, any other key for No) : ySuccess. Normally, root should only be allowed to connect from&#39;localhost&#39;. This ensures that someone cannot guess atthe root password from the network.#  是否禁止远程登录Disallow root login remotely? (Press y|Y for Yes, any other key for No) : ySuccess.By default, MySQL comes with a database named &#39;test&#39; thatanyone can access. This is also intended only for testing,and should be removed before moving into a productionenvironment.#  是否删除测试数据库，并登录Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y - Dropping test database...Success. - Removing privileges on test database...Success.Reloading the privilege tables will ensure that all changesmade so far will take effect immediately.# 是否重新载入权限表Reload privilege tables now? (Press y|Y for Yes, any other key for No) : ySuccess.All done!</code></pre><h2 id="停止MySQL"><a href="#停止MySQL" class="headerlink" title="停止MySQL"></a>停止MySQL</h2><pre><code class="bash">brew services stop mysql</code></pre>]]></content>
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
            <tag> Homebrew </tag>
            
            <tag> 数据库 </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>BCompare破解方法（全平台）</title>
      <link href="/posts/bfc4a775.html"/>
      <url>/posts/bfc4a775.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script><div id="security">  <div class="input-container">  <input type="password" class="form-control" id="pass" placeholder="Who am I?" />    <label for="pass">Who am I?</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      
      <categories>
          
          <category> 逆向 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 逆向 </tag>
            
            <tag> 破解 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于Material主题源码的一些小修改（修复Bug？）</title>
      <link href="/posts/832fa05b.html"/>
      <url>/posts/832fa05b.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><h3 id="一、插件hexo-prism-plugin实现代码高亮导致的行号不显示问题"><a href="#一、插件hexo-prism-plugin实现代码高亮导致的行号不显示问题" class="headerlink" title="一、插件hexo-prism-plugin实现代码高亮导致的行号不显示问题"></a>一、插件<code>hexo-prism-plugin</code>实现代码高亮导致的行号不显示问题</h3><p>从<a href="https://material.viosey.com/docs/#/expert" rel="external nofollow noopener noreferrer" target="_blank">官方文档</a>我们可以看到md主题支持的代码高亮方式：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/document-md+code.png" alt="document-md+code"></p><p>由于我使用的是<a href="https://github.com/viosey/hexo-theme-material/releases/tag/1.4.0" rel="external nofollow noopener noreferrer" target="_blank">1.4.0稳定版</a>（时间20180722），所以只能使用 <code>hexo-prism-plugin</code> 插件，具体用法<a href="https://github.com/ele828/hexo-prism-plugin" rel="external nofollow noopener noreferrer" target="_blank">官方文档</a>讲的很详细我就不多说了。</p><h4 id="敲黑板，重点重点！！！"><a href="#敲黑板，重点重点！！！" class="headerlink" title="敲黑板，重点重点！！！"></a>敲黑板，重点重点！！！</h4><p>我在这里主要说一下1.4.0版的md主题对 <code>hexo-prism-plugin</code> 插件似乎不太兼容。</p><a id="more"></a><p>这是我的 prism 插件配置：</p><pre><code class="json">prism_plugin:  mode: &#39;preprocess&#39;    # realtime/preprocess  theme: &#39;solarizedlight&#39;  line_number: true    # default false</code></pre><p>再给你们看一下截图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/bug-MD+prism.png" alt="bug-MD+pris"></p><p>是不是感觉有什么不对劲？？</p><p>相信看到这里大家应该都知道什么回事了，<code>line_number</code>我设置为<code>true</code>表示我开了行号显示，那么问题来了，我们的行号呢？还有那个诡异的竖线是什么鬼？</p><p>于是我用chrome的开发者模式调试了一下，发现了一个很眼熟的CSS属性——<code>padding</code>。如图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/md-css-contentpre-padding.png" alt="md-css-contentpre-padding"></p><blockquote><p>这里给没学过编程的同学科普一下<code>padding</code>是什么意思：</p><p>先放个W3School的链接压压惊= =：<a href="http://www.w3school.com.cn/cssref/pr_padding.asp" rel="external nofollow noopener noreferrer" target="_blank">CSS padding 属性</a></p><p><strong>padding定义和用法：</strong><br>padding 简写属性在一个声明中设置所有内边距属性。<br>例：</p><pre><code class="css">padding:10px;</code></pre><p>类似于这种的意思就是上下左右四个内边距都是 10px。</p></blockquote><blockquote><p>那么内边距又是什么东西呢？<br>看图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/explain-padding.jpg" alt="explain-padding"><br>所以<strong>内边距</strong>的意思就是<font color="#6EA1DF">组件的内容</font>到<font color="#D1AF40">边框</font>的<font color="#81A670">距离</font>。内边距的改变不会影响整个组件的大小，但是会影响组件内容的显示大小</p></blockquote><p>废话就不多说了…..<br>我的直觉告诉我就是它的锅，我们现在来把它去掉试试！<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/md-css-contentpre-nopadding.png" alt="md-css-contentpre-nopadding"></p><p>Unbelievable! <font color="red"><strong>行号出现了！</strong></font>但是在Chrome的开发者模式改只是临时的，刷新就回到原来的样子了，我们要去主题的源代码修改。</p><p>经过一番查找终于找到了相关代码所在的文件<code>hexo根目录/themes/material/source/css/style.min.css</code><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/md-css-stylemin.png" alt="md-css-stylemin"></p><blockquote><p><strong>注意：</strong>是<code>style.min.css</code>这个压缩过的css文件，而不是<code>style.css</code>！！</p></blockquote><p>打开<code>style.min.css</code>，查找<code>padding:1pc</code>或者<code>#post-content pre</code>都OK，然后把<code>padding:1pc;</code>注释掉即可。如图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/md-css-stylemin-padding-commented.png" alt="md-css-stylemin-padding-commented"></p><hr><h3 id="二、文章结尾添加版权声明"><a href="#二、文章结尾添加版权声明" class="headerlink" title="二、文章结尾添加版权声明"></a>二、文章结尾添加版权声明</h3><blockquote><p>参考：<a href="http://tianma.space/post/1810369046/index.html" rel="external nofollow noopener noreferrer" target="_blank">http://tianma.space/post/1810369046/index.html</a></p></blockquote><p>现在是版权时代，很多博主都会在文章结尾出写上诸如“转载请保留声明信息”之类的。下面我来说下如何在 Hexo 中添加版权声明。这里我拿 Material 主题作为例子，其他主题可参考后自行修改。</p><ol><li><p>自定义字段：考虑到有些博文可能是不需要版权声明的，比如转载、翻译之类的，所以自定义 post_license 作为开关：</p><ul><li><p>主题配置文件 _config.yml 中添加字段，作为总开关：</p><pre><code class="bash">  post_license:  enable: true # or false</code></pre></li><li><p>文章的 Front-matter 中添加字段，作为独立开关：</p><pre><code class="bash">  post_license: true # or false</code></pre></li></ul></li><li><p>创建 material/layout/_partial/post_license.ejs:</p><pre><code class="html"> &lt;div&gt;    &lt;br/&gt;    &lt;ul id=&quot;post-license&quot; class=&quot;post-license&quot;&gt;        &lt;li class=&quot;post-license-author&quot;&gt;            &lt;strong&gt;本文作者：&lt;/strong&gt;            &lt;a href=&quot;&lt;%= config.url %&gt;&quot;&gt;&lt;%= theme.author %&gt;&lt;/a&gt;        &lt;/li&gt;        &lt;li class=&quot;post-license-link&quot;&gt;            &lt;strong&gt;本文链接：&lt;/strong&gt;            &lt;a href=&quot;&lt;%= page.permalink %&gt;&quot;&gt;&lt;%= page.title %&gt;&lt;/a&gt;        &lt;/li&gt;        &lt;li class=&quot;post-license-statement&quot;&gt;            &lt;strong&gt;版权声明： &lt;/strong&gt;            本文由 &lt;%= config.author %&gt; 原创，采用 &lt;a href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&quot; rel=&quot;license&quot; target=&quot;_blank&quot;&gt;署名-非商业性使用-相同方式共享（CC BY-NC-SA）4.0 国际许可协议&lt;/a&gt; &lt;/br&gt;转载请保留以上声明信息！        &lt;/li&gt;    &lt;/ul&gt; &lt;/div&gt;</code></pre></li><li><p>在 material/layout/_partial/post-content.ejs 引入 post_license.ejs:</p><pre><code class="js"> &lt;% if(theme.post_license.enable &amp;&amp; page.post_license !== false){%&gt;    &lt;%- partial(&#39;_partial/post_license&#39;) %&gt; &lt;% } %&gt;</code></pre></li><li><p>在 material/source/css/style.min.css 中添加 版权声明 样式：</p><pre><code class="css"> #post-license {    margin: 2em 0 0;    padding: 0.5em 1em;    border-left: 3px solid #ff4081;    background-color: #f9f9f9;    list-style: none; }</code></pre></li></ol><h3 id="三、Disqus延迟加载"><a href="#三、Disqus延迟加载" class="headerlink" title="三、Disqus延迟加载"></a>三、Disqus延迟加载</h3><font color="red">☆☆ 2018-08-11 更新：Material主题1.5.6版本开始<code>disqus_click</code>自带延迟加载 ☆☆</font><blockquote><p>参考：<a href="https://blog.itswincer.com/posts/e5d13eb/" rel="external nofollow noopener noreferrer" target="_blank">https://blog.itswincer.com/posts/e5d13eb/</a></p></blockquote><p><strong>先讲下考虑延迟加载的初衷：</strong><br>好吧，其实是因为在大局域网内没法做到所有用户都能看评论，如果加载不出评论就会有一段时间在下方显示白块，强迫症的我怎么能忍受？？！！于是我就想把评论功能设计成网络好的话就自动显示评论，否则需要手动点击。正好看到网上有，于是就借鉴了。</p><p><strong>然后说下原理：</strong><br>原理嘛，先用 ajax 异步发送一个 get 请求至 Disqus 服务器，接收成功则屏蔽按钮，加载评论；超时则自动断开，并显示加载按钮：</p><p>修改文件位置：<code>&lt;Material主题目录&gt;/layout/_widget/comment/disqus_click/main.ejs</code></p><pre><code class="html">&lt;div class=&quot;btn_click_load&quot;&gt;     &lt;button class=&quot;disqus_click_btn&quot;&gt;&lt;%= __(&#39;post.comments_load_button&#39;) %&gt;&lt;/button&gt;&lt;/div&gt;&lt;!-- &lt;script type=&quot;text/ls-javascript&quot; id=&quot;disqus-lazy-load-script&quot;&gt;    $(&#39;.btn_click_load&#39;).click(function() {  //click to load comments        (function() { // DON&#39;T EDIT BELOW THIS LINE            var d = document;            var s = d.createElement(&#39;script&#39;);            s.src = &#39;//&lt;%= theme.comment.shortname %&gt;.disqus.com/embed.js&#39;;            s.setAttribute(&#39;data-timestamp&#39;, + new Date());            (d.head || d.body).appendChild(s);        })();        $(&#39;.btn_click_load&#39;).css(&#39;display&#39;,&#39;none&#39;);    });&lt;/script&gt; --&gt;&lt;%/*延迟加载 disqus，timeout 可以自己设置时长*/%&gt;&lt;script type=&quot;text/javascript&quot; id=&quot;disqus-lazy-load-script&quot;&gt;    $.ajax({    url: &#39;https://disqus.com/next/config.json&#39;,    timeout: 1000,    type: &#39;GET&#39;,    success: function(){        var d = document;        var s = d.createElement(&#39;script&#39;);        s.src = &#39;//&lt;%= theme.comment.shortname %&gt;.disqus.com/embed.js&#39;;        s.setAttribute(&#39;data-timestamp&#39;, + new Date());        (d.head || d.body).appendChild(s);        $(&#39;.disqus_click_btn&#39;).css(&#39;display&#39;, &#39;none&#39;);    },    error: function() {        $(&#39;.disqus_click_btn&#39;).css(&#39;display&#39;, &#39;block&#39;);    }    });&lt;/script&gt;&lt;%/*由于我超时时长设置得比较短，所以可能翻墙了还是没有自动加载评论，这时就需要手动点击加载了*/%&gt;&lt;script type=&quot;text/javascript&quot; id=&quot;disqus-click-load&quot;&gt;    $(&#39;.btn_click_load&#39;).click(() =&gt; {  //click to load comments        (() =&gt; { // DON&#39;T EDIT BELOW THIS LINE            var d = document;            var s = d.createElement(&#39;script&#39;);            s.src = &#39;//&lt;%= theme.comment.shortname %&gt;.disqus.com/embed.js&#39;;            s.setAttribute(&#39;data-timestamp&#39;, + new Date());            (d.head || d.body).appendChild(s);        })();        $(&#39;.disqus_click_btn&#39;).css(&#39;display&#39;,&#39;none&#39;);    });&lt;/script&gt;</code></pre><p>我是把原来的注释掉再加后面的，链接中说超时时间设为<code>300</code>比较短，的确短，我测试了一下，设置为<code>1000</code>就不影响阅读了。</p><blockquote><p><strong>注意：</strong>改完后记得确认<code>主题配置文件</code>是否启用了<code>disqus_click</code></p></blockquote>]]></content>
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> hexo主题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>全站开启https总结（艰苦历程？）</title>
      <link href="/posts/41e1ea07.html"/>
      <url>/posts/41e1ea07.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在搭建完Hexo之后，我就开始思考要不要配置https呢？最后深思熟虑，还是决定上https吧！毕竟现在https已经开始普及，像Chrome、Firfox这些浏览器如果不是https协议的会提示如下图，警告“不安全”什么的。强迫症患者表示看着最不舒服了（逃～<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/http%20browser%20show.jpg" alt="http browser sho"></p><p>于是我就开始了配置https之路……<br><a id="more"></a></p><h1 id="SSL证书"><a href="#SSL证书" class="headerlink" title="SSL证书"></a>SSL证书</h1><h2 id="选取合适的ssl证书"><a href="#选取合适的ssl证书" class="headerlink" title="选取合适的ssl证书"></a>选取合适的ssl证书</h2><p>https = http + ssl，所以要走https协议首先要申请ssl证书。<br>但是我第一次建站，对ssl证书一点都不懂啊！！哪个ssl证书更好我也不知道，去搜索一翻发现各种说法，最后还是去请教了各位前辈。<br>经过各位前辈的建议，我了解到了<code>Let&#39;s Encrypt</code>，详细介绍我就不说了，这是<a href="https://zh.wikipedia.org/zh-hans/Let%27s_Encrypt" rel="external nofollow noopener noreferrer" target="_blank">它在维基百科的资料</a>，然后这是<a href="https://letsencrypt.org" rel="external nofollow noopener noreferrer" target="_blank">官网</a></p><p>除此之外还有<a href="https://www.digicert.com" rel="external nofollow noopener noreferrer" target="_blank">Digicert</a>、<a href="https://www.sslforfree.com" rel="external nofollow noopener noreferrer" target="_blank">SSL For Free</a>、<a href="http://www.cacert.org" rel="external nofollow noopener noreferrer" target="_blank">CA Cert</a>。Digicert很贵，但是据某位前辈说似乎大企业喜欢用它的挺多，而且人家还支持签发 .onion 域名的证书（EV）。</p><p>看自己需求吧，我最后还是用了<code>Let&#39;s Encrypt</code>。<br>老父亲说这是免费的，但验证过程要在服务器上做，有点复杂。我觉得复杂点没所谓，好用就行。<br>某群里的前辈说也可以不验证，自签名就好（其实我还没懂哈哈哈，尴尬.jpg）；前辈们还说了一种DNS方式验证，不需要架设额外服务；在我问了“Let’s encrypt用standalone还是webroot模式更好”之后(其实这个我也不懂)，<font color="red"><strong>终于决定用DNS模式</strong></font>，DNS 模式更方便，还可以签通配符证书。</p><h2 id="开始获取SSL证书"><a href="#开始获取SSL证书" class="headerlink" title="开始获取SSL证书"></a>开始获取SSL证书</h2><blockquote><p>参考：<a href="http://www.racksam.com/2016/12/26/centos-nginx-setup-lets-encrypt-with-acme-sh/" rel="external nofollow noopener noreferrer" target="_blank">使用acme.sh脚本的DNS API方式申请及更新let’s encrypt证书</a></p></blockquote><p>群里多位前辈介绍了一个在 Linux 上申请let’s encrypt证书的脚本——<a href="https://github.com/Neilpang/acme.sh" rel="external nofollow noopener noreferrer" target="_blank">acme.sh</a></p><h3 id="acme-sh脚本"><a href="#acme-sh脚本" class="headerlink" title="acme.sh脚本"></a>acme.sh脚本</h3><p>Linux服务器下使用acme.sh脚本是申请let’s encrypt证书最便捷的方式，比官方推荐的<code>certbot</code>脚本工具要方便强大的多。好处是对环境要求较低，路由器上 busybox ash 都能跑，只需要使用到 curl 等少数几个外部程序</p><p>安装文档： <a href="https://github.com/Neilpang/acme.sh/wiki/说明" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/Neilpang/acme.sh/wiki/说明</a></p><h4 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h4><ol><li>拥有一个域名，例如 mydomain.com (在国内主机的用的话，还需要通过ICP备案)</li><li>确定二级域名，并且在域名服务器创建一条A记录，执行云主机的公网IP地址。<a href="http://www.mydomain.com指向xxx.xxx.xxx.xxx的IP地址" rel="external nofollow noopener noreferrer" target="_blank">www.mydomain.com指向xxx.xxx.xxx.xxx的IP地址</a></li><li>要等到新创建的域名解析能在公网上被解析到。</li><li>据说国内的域名提供商对letsencrypt的支持非常差，但是据说现阶段用dnspod解析的域名还没碰到问题。我用的是国外的Cloudflare解析我的域名，但是经常被墙（想骂人…），移动表示大多数都没有体验= =，联通情况好一点。</li></ol><h4 id="安装acme-sh脚本"><a href="#安装acme-sh脚本" class="headerlink" title="安装acme.sh脚本"></a>安装acme.sh脚本</h4><p>执行一下命令后重新ssh登录服务器即可：</p><pre><code class="bash">curl  https://get.acme.sh | sh</code></pre><p>该命令会把 acme.sh 安装到你的 home 目录下: <code>~/.acme.sh/</code>，一般会自动创建环境变量，后期直接命令行输入acme.sh即可。</p><h4 id="使用DNS-API申请证书"><a href="#使用DNS-API申请证书" class="headerlink" title="使用DNS API申请证书"></a>使用DNS API申请证书</h4><p>(推荐配置使用API的方式，否则每隔三个月，仍然需要重新验证DNS TXT记录)</p><p>创建DNS API的Key及Secret</p><blockquote><p>参考：</p><ol><li><a href="https://github.com/Neilpang/acme.sh/tree/master/dnsapi" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/Neilpang/acme.sh/tree/master/dnsapi</a></li><li><a href="https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md</a></li></ol></blockquote><p>acme.sh 目前支持 cloudflare, dnspod, cloudxns, godaddy 以及 ovh 等数十种解析商的自动集成.</p><p><strong>【例子一】域名由Cloudflare提供解析的网站，使用CloudFlare域名API自动颁发证书</strong></p><ol><li><p>以 Cloudflare 为例, 你需要先登录到 Cloudflare 账号才能获得API密钥, 都是免费的。<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/Cloudflare-Api-1.jpg" alt="Cloudflare-Api-1"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/Cloudflare-Api-2.jpg" alt="Cloudflare-Api-2"></p></li><li><p>然后在Linux下使用acme.sh命令申请证书:</p><p>命令使用参考：<a href="https://sb.sb/blog/linux-acme-sh-lets-encrypt-ssl/" rel="external nofollow noopener noreferrer" target="_blank">Linux 下使用 acme.sh 配置 Let’s Encrypt 免费 SSL 证书 + 通配符证书</a><br>先导入密钥和邮箱：</p><pre><code class="bash"> export CF_Key=&quot;sdfsdfsdfljlbjkljlkjsdfoiwje&quot; export CF_Email=&quot;xxxx@sss.com&quot;</code></pre><p>我们现在发行一个证书：</p><pre><code class="bash">  acme.sh --issue --dns dns_cf -d example.com -d www.example.com --accountemail query@goodsrv.com</code></pre><p><code>--accountemail</code>是指定帐户电子邮件，仅对<code>--install</code>和<code>--update-account</code>命令有效（待验证，因为我执行命令时并没有带上该参数）。</p><p>输入命令后回车，需要等两分钟，终端会有倒计时。</p><p>倒计时结束后，执行命令：</p><pre><code class="bash"> acme.sh --renew -d example.com -d www.example.com</code></pre></li></ol><h4 id="安装证书"><a href="#安装证书" class="headerlink" title="安装证书"></a>安装证书</h4><pre><code class="bash"># 创建安装目录mkdir /etc/ssl/example.com/ -p# reloadcmd参数里面填写的是在更新证书后需要重新启动的服务，例如重启nginx或者apache或者其它脚本。acme.sh  --installcert  -d  example.com   \        --key-file   /etc/ssl/example.com/example.com.key \        --fullchain-file /etc/ssl/example.com/fullchain.cer \        --reloadcmd  &quot;systemctl reload nginx&quot;</code></pre><blockquote><p><strong>注意：</strong></p><ol><li><code>/etc/ssl/example.com/</code>的所有者以及用户组必须为当前用户，否则后面installcert的时候会提示没有权限，可执行如下命令，后面可更改回原来的所有者和用户组：<pre><code class="bash">#更改所有者和用户组sudo chown $USER:$USER -R /etc/ssl/example.com/#查看指定文件夹的权限、所有者和用户组ls -l /etc/ssl/ls -l /etc/ssl/example.com/</code></pre></li><li>(一个小提醒, 部分服务器系统用的是 <code>service nginx force-reload</code>, 不是 <code>service nginx reload</code>, 据测试, <code>reload</code> 并不会重新加载证书, 所以用的 <code>force-reload</code>)</li><li>Nginx 的配置 <code>ssl_certificate</code> 使用 <code>/etc/nginx/ssl/fullchain.cer</code> ，而非 <code>/etc/nginx/ssl/&lt;domain&gt;.cer</code> ，否则 <a href="https://www.ssllabs.com/ssltest/" rel="external nofollow noopener noreferrer" target="_blank">SSL Labs</a>的测试会报 <code>Chain issues Incomplete</code> 错误。</li><li><code>--installcert</code>命令可以携带很多参数, 来指定目标文件. 并且可以指定 reloadcmd, 当证书更新以后, reloadcmd 会被自动调用,让服务器生效.</li><li>值得注意的是, 这里指定的所有参数都会被自动记录下来, 并在将来证书自动更新以后, 被再次自动调用.</li></ol></blockquote><blockquote><p>mkdir的-p参数解释：<br>-p, –parents 可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录;<br>mkdir命令参考：<a href="https://www.linuxdaxue.com/linux-command-intro-mkdir.html" rel="external nofollow noopener noreferrer" target="_blank">https://www.linuxdaxue.com/linux-command-intro-mkdir.html</a></p></blockquote><h4 id="更新证书"><a href="#更新证书" class="headerlink" title="更新证书"></a>更新证书</h4><p>目前证书在 60 天以后会自动更新, 你无需任何操作. 今后有可能会缩短这个时间, 不过都是自动的, 你不用关心.</p><h4 id="更新-acme-sh"><a href="#更新-acme-sh" class="headerlink" title="更新 acme.sh"></a>更新 acme.sh</h4><p>目前由于 acme 协议和 letsencrypt CA 都在频繁的更新, 因此 acme.sh 也经常更新以保持同步.</p><p>升级 acme.sh 到最新版 :</p><pre><code class="bash">acme.sh --upgrade</code></pre><p>如果你不想手动升级, 可以开启自动升级:</p><pre><code class="bash">acme.sh  --upgrade  --auto-upgrade</code></pre><p>之后, acme.sh 就会自动保持更新了<br>你也可以随时关闭自动更新:</p><pre><code class="bash">acme.sh --upgrade  --auto-upgrade  0</code></pre><h1 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h1><h2 id="配置Nginx使用证书开通https站点"><a href="#配置Nginx使用证书开通https站点" class="headerlink" title="配置Nginx使用证书开通https站点"></a>配置Nginx使用证书开通https站点</h2><ol><li><p><strong>生成Perfect Forward Security（PFS）键值</strong><br>Perfect Forward Security（PFS)是个什么东西，我也不清楚，中文翻译成<code>完美前向保密</code>，反正是这几年才提倡的加强安全性的技术。如果本地还没有生成这个键值，需要先执行生成的命令。</p><pre><code class="bash">/etc/ssl/example.com/openssl dhparam -out dhparam.pem 2048</code></pre><p>生成的过程还挺花时间的，据我查到的资料，据说参数为2048的要4分钟左右，还受服务器性能影响，此时不妨做点其他东西。<br>（时间一分一秒的过去…）<br>好了，PFS键值生成了，我们用<code>ls</code>命令来确认一下目录下是否生成了<code>dhparam.pem</code>文件，确认完毕就可以执行下一步了。</p><blockquote><p>特别说明：<br>一定要确认文件是否已经生成！！！在这一步我原本是执行<code>openssl dhparam 2048 -out dhparam.pem</code>，不知道为什么执行了多次都无法生成<code>dhparam.pem</code>文件，后来换了个目录执行了多次<code>openssl dhparam -out dhparam.pem 2048</code>才成功，这是后面配置完Nginx后无法重新启动Nginx服务了，我输出日志才发现的，具体后面会说。</p></blockquote></li><li><p><strong>nginx配置使用证书。</strong><br>编辑你的Nginx配置文件，如：<code>/etc/nginx/sites-available/&lt;your-nginx-config&gt;</code><br><font color="red">☆☆修改配置文件前建议先备份☆☆</font><br>可以通过<a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/" rel="external nofollow noopener noreferrer" target="_blank">Mozilla SSL Configuration Generator</a>自动生成对应的参考配置</p><p><strong>修改http对应的server模块：</strong></p><pre><code class="nginx"> server {     listen 80;     listen [::]:80;     server_name example.com;     #return 301 https://example.com$request_uri;     if ( $scheme = http ){       return 301 https://$server_name$request_uri;     }     root /var/www/html/example.com;     index index.html index.htm; }</code></pre><blockquote><p><code>return 301 https://$server_name$request_uri;</code>是强制http跳转https</p></blockquote><p><strong>在配置文件中添加https的server模块：</strong></p><pre><code class="nginx"> server {     listen 443 ssl;     server_name example.com;     #charset utf-8;     location / {        root /var/www/html/example.com;        #index index.html index.htm;     }     #root /var/www/html/example.com;     index index.html index.htm;     access_log  /var/log/nginx/example.com_access.log;     error_log  /var/log/nginx/example.com_error.log;     ssl_certificate /etc/ssl/example.com/fullchain.cer;     ssl_certificate_key /etc/ssl/example.com/example.com.key;     ssl_session_timeout 1d;     ssl_session_cache shared:SSL:50m;     ssl_session_tickets off;     ssl_dhparam /etc/ssl/example.com/dhparam.pem;     ssl_protocols TLSv1 TLSv1.1 TLSv1.2;     ssl_ciphers &#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK&#39;;     ssl_prefer_server_ciphers on; }</code></pre><p><strong>总的样例内容如下：</strong></p><pre><code class="nginx"> server {     listen 80;     listen [::]:80;     server_name example.com;     #return 301 https://example.com$request_uri;     if ( $scheme = http ){       return 301 https://$server_name$request_uri;     }     root /var/www/html/example.com;     index index.html index.htm; } server {     listen 443 ssl;     server_name example.com;     #charset utf-8;     location / {        root /var/www/html/example.com;        #index index.html index.htm;     }     #root /var/www/html/example.com;     index index.html index.htm;     access_log  /var/log/nginx/example.com_access.log;     error_log  /var/log/nginx/example.com_error.log;     ssl_certificate /etc/ssl/example.com/fullchain.cer;     ssl_certificate_key /etc/ssl/example.com/example.com.key;     ssl_session_timeout 1d;     ssl_session_cache shared:SSL:50m;     ssl_session_tickets off;     ssl_dhparam /etc/ssl/example.com/dhparam.pem;     ssl_protocols TLSv1 TLSv1.1 TLSv1.2;     ssl_ciphers &#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK&#39;;     ssl_prefer_server_ciphers on; }</code></pre><p>配置文件没有问题的话执行<code>systemctl reload nginx</code>，然后在浏览器打开<code>http://example.com</code>, 如果正常跳转到<code>https://example.com</code>，就算成功了。 如果是chrome浏览器，在地址栏点击绿色小锁的图标，可以查看证书的详情，如图。<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/https%20browser%20show.png" alt="https browser sho"></p></li></ol><h3 id="此步骤遇到的难题"><a href="#此步骤遇到的难题" class="headerlink" title="此步骤遇到的难题"></a>此步骤遇到的难题</h3><ol><li><p>这里要注意的是如果你是<code>Nginx+Cloudflare</code>，那么Cloudflare的”Crypto—SSL”要设置成<code>Full(strict)</code>，否则会导致<font color="orange"><strong>example.com将你重定向次数过多</strong></font>的情况，默认是<code>Flexible</code>。CF设置如图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/cloudflare%20config%20of%20starting%20https%20with%20nginx.png" alt="cloudflare config of starting https with nginx"></p></li><li><p>这里还有个坑就是前面说的无法生成<code>dhparam.pem</code>文件导致无法重载Nginx。一开始我还没发现，一直在以为Nginx配置文件哪里错了，后来<code>sudo journalctl -xe</code>输出日志才发现Nginx找不到<code>dhparam.pem</code>文件：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/nginx%20cannot%20found%20dhparam.pem-1.png" alt="nginx cannot found dhparam.pem-1"><br>用<code>ls</code>命令可以发现目录下并不存在<code>dhparam.pem</code>文件：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/nginx%20cannot%20found%20dhparam.pem-2.png" alt="nginx cannot found dhparam.pem-2"><br>于是我又执行了几次<code>openssl dhparam 2048 -out dhparam.pem</code>，结果还是一样，而且过程竟然只需要1分钟不到。如图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/nginx%20cannot%20found%20dhparam.pem-3.png" alt="nginx cannot found dhparam.pem-3"><br>察觉到不对劲之后我马上去找了跟<code>dhparam</code>的资料，后来在一个博客上发现他的命令顺序跟我不一样，这个文件存放目录也跟我不一样，于是我就把命令改成<code>openssl dhparam -out dhparam.pem 2048</code>和改目录到example.com(此时该目录权限还是$USER的)再试了几次，第一次是不行的，执行多几次后突然就成功了。如图：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/nginx%20cannot%20found%20dhparam.pem-4.png" alt="nginx cannot found dhparam.pem-4"><br>可以发现此次执行命令时间十分的长，我等了大概5分钟才执行完毕。<br>然后我们再用<code>ls</code>来看看目录下的文件，可以发现文件已经生成：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/nginx%20cannot%20found%20dhparam.pem-5.png" alt="nginx cannot found dhparam.pem-5"></p></li></ol><h2 id="测试证书"><a href="#测试证书" class="headerlink" title="测试证书"></a>测试证书</h2><p>如果是网站的话，可以使用第三方网站工具测试自己网站的HTTPS配置的安全性</p><ol><li><p>SSL Lab就是个不错的选择：<br><a href="https://ssllabs.com/ssltest/analyze.html?d=example.com" rel="external nofollow noopener noreferrer" target="_blank">https://ssllabs.com/ssltest/analyze.html?d=example.com</a><br>这是我的测试结果，都是A哦！！<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/SSL%20Lab%20Server%20Test.jpg" alt="SSL Lab Server Test"></p></li><li><p>也可以在Linux下使用openssl命令查看证书的过期时间</p><pre><code class="bash"> openssl x509 -noout -dates -in /etc/ssl/example.com/example.com.key</code></pre></li></ol>]]></content>
      
      <categories>
          
          <category> 运维日志 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 运维 </tag>
            
            <tag> 服务器 </tag>
            
            <tag> Linux </tag>
            
            <tag> SSL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>第一次搭建Hexo博客过程 in MacOS</title>
      <link href="/posts/1572acec.html"/>
      <url>/posts/1572acec.html</url>
      <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script><p>第一次在自己服务器搭建博客，总会有那么一点点失误，碰到一点坑，在这里总结一下搭建hexo的具体步骤。</p><blockquote><p>参考：</p><ul><li><a href="http://vinnyxiong.cn/blog/Hexo%E4%B9%8B%E6%97%85-%E4%BA%8C-%EF%BC%9AHexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA-%E5%9C%A8%20Mac%20OS%20%E5%B9%B3%E5%8F%B0-.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo之旅(二)：Hexo博客搭建(在 Mac OS 平台)</a></li><li><a href="https://segmentfault.com/a/1190000009363890" rel="external nofollow noopener noreferrer" target="_blank">如何在服务器上搭建hexo博客</a></li></ul></blockquote><h1 id="Hexo架构"><a href="#Hexo架构" class="headerlink" title="Hexo架构"></a>Hexo架构</h1><p>首先我们要理解hexo是如何生成静态博客以及如何实现通过服务器访问静态博客的<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/15317408001743.jpg" alt=""></p><a id="more"></a><blockquote><p>通过上图我们可以知道，整个流程就是在本地通过 <font color="orange"><strong>hexo g</strong></font> 渲染博客的静态文件，然后通过 <font color="orange"><strong>hexo d</strong></font> 把静态文件 push到服务器上我们自己创建的git仓库,服务器再通过 git-hooks 同步网站根目录，这样就可以访问了</p></blockquote><h1 id="配置本地环境"><a href="#配置本地环境" class="headerlink" title="配置本地环境"></a>配置本地环境</h1><h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><p>Hexo 依赖于 Node.js 和 Git，需要先安装。</p><h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><blockquote><p><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137396287703354d8c6c01c904c7d9ff056ae23da865a000" rel="external nofollow noopener noreferrer" target="_blank">Git安装（廖雪峰教程）</a></p></blockquote><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p>Node的话建议用nvm管理，否则很容易出现 <code>command not found: hexo</code> 的情况，出现这种情况主要是node的版本问题 可以通过nvm来控制一下node的版本来解决</p><blockquote><p>参考：<a href="http://www.gengzhibo.com/2017/04/23/Hexo%E5%AE%89%E8%A3%85%E5%90%8E%E7%9A%84%E5%B0%8F%E9%97%AE%E9%A2%98/" rel="external nofollow noopener noreferrer" target="_blank">Hexo安装后hexo指令无法被找到的解决方法</a></p></blockquote><h4 id="使用Homebrew安裝nvm"><a href="#使用Homebrew安裝nvm" class="headerlink" title="使用Homebrew安裝nvm"></a>使用Homebrew安裝nvm</h4><pre><code class="bash">brew install nvm//这个过程中可能需要安装gcc或者其它需要依赖的工具 按照提示一次安装好即可mkdir ~/.nvmecho &quot;export NVM_DIR=~/.nvm&quot; &gt;&gt; .bash_profileecho &quot;. $(brew --prefix nvm)/nvm.sh&quot; &gt;&gt; .bash_profile//这个步骤中mac下的brew需要通过--prefix这种形式完成，如果是zsh的话可以输出到.zshrc文件</code></pre><p>重启终端后用 nvm help 来验证nvm是否正确安装</p><h4 id="使用nvm安裝Node-js"><a href="#使用nvm安裝Node-js" class="headerlink" title="使用nvm安裝Node.js"></a>使用nvm安裝Node.js</h4><p>安裝完了nvm，接著安裝主角 Node.js。先用 <code>nvm ls-remote</code> 指令看一下有哪些版本可以安裝：</p><pre><code class="bash"> nvm ls-remote         .         .         .        v9.10.0        v9.10.1        v9.11.0        v9.11.1        v9.11.2        v10.0.0        v10.1.0        v10.2.0        v10.2.1        v10.3.0        v10.4.0        .        .        .</code></pre><p>然后直接用一下命令安装最新稳定版node</p><pre><code class="bash">nvm install stable</code></pre><h4 id="使用nvm无痛切换Node-js版本"><a href="#使用nvm无痛切换Node-js版本" class="headerlink" title="使用nvm无痛切换Node.js版本"></a>使用nvm无痛切换Node.js版本</h4><p>检查当前使用的 Node.js 版本使用命令 nvm ls。如果输出结果如下表示正确：</p><pre><code class="bash">$ nvm ls       v0.12.10-&gt;      v10.6.0         systemdefault -&gt; v10.6.0node -&gt; stable (-&gt; v10.6.0) (default)stable -&gt; 10.6 (-&gt; v10.6.0) (default)iojs -&gt; N/A (default)lts/* -&gt; lts/carbon (-&gt; N/A)lts/argon -&gt; v4.9.1 (-&gt; N/A)lts/boron -&gt; v6.14.3 (-&gt; N/A)lts/carbon -&gt; v8.11.3 (-&gt; N/A)</code></pre><p>第一个 -&gt; 表示当前使用的版本，default -&gt; 表示默认版本，必须保证这两个，不然后面安装hexo会提示 <code>-bash: hexo: command not found</code> ，不能在命令行使用。<br>设置的方法是，先通过 <code>nvm ls</code> 看看本地安装了什么版本，如果本地没有，则应该使用上一步的方法先安装，然后执行这个命令指定版本：</p><pre><code class="bash">nvm use v10.6.0</code></pre><p>再通过这个命令指定默认版本：</p><pre><code class="bash">nvm alias default v10.6.0</code></pre><h2 id="部署Hexo"><a href="#部署Hexo" class="headerlink" title="部署Hexo"></a>部署Hexo</h2><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>所有必备的依赖都安装完成后，即可使用 npm 安装 Hexo：</p><pre><code class="bash">npm install -g hexo-cli</code></pre><p>-g 或 –global 表示全局安装模块，如果没有这个参数，会安装在当前目录的node_modules子目录下。<br>安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。</p><pre><code class="bash">hexo init &lt;folder&gt;cd &lt;folder&gt;npm install</code></pre><p><code>npm install</code> 表示安装当前目录package.json文件中配置的dependencies模块。</p><h3 id="更新-Hexo"><a href="#更新-Hexo" class="headerlink" title="更新 Hexo"></a>更新 Hexo</h3><p>官方发布了新版本后，可以在Hexo建立的博客目录内运行：</p><pre><code class="bash">npm update</code></pre><p>用如下命令可以检查package.json文件中配置的dependencies的版本号：</p><pre><code class="bash">npm ls --depth=0</code></pre><h3 id="安装-Hexo-插件"><a href="#安装-Hexo-插件" class="headerlink" title="安装 Hexo 插件"></a>安装 Hexo 插件</h3><pre><code class="bash">npm install &lt;module&gt; --save</code></pre><p>下面是一些可选插件的安装</p><pre><code class="bash">npm i hexo-all-minifier --savenpm install hexo-admin --savenpm install hexo-generator-archive --savenpm install hexo-generator-tag --savenpm install hexo-generator-feed --savenpm install hexo-wordcount --savenpm install hexo-helper-qrcode --savenpm install hexo-generator-search --savenpm install hexo-generator-searchdb --savenpm i -S hexo-prism-pluginnpm install hexo-abbrlink --savenpm install hexo-generator-sitemap --save</code></pre><h1 id="配置服务器环境"><a href="#配置服务器环境" class="headerlink" title="配置服务器环境"></a>配置服务器环境</h1><h2 id="部署-Nginx"><a href="#部署-Nginx" class="headerlink" title="部署 Nginx"></a>部署 Nginx</h2><h3 id="安装-Nginx-amp-amp-启动-Nginx"><a href="#安装-Nginx-amp-amp-启动-Nginx" class="headerlink" title="安装 Nginx &amp;&amp; 启动 Nginx"></a>安装 Nginx &amp;&amp; 启动 Nginx</h3><p>我服务器的Nginx是用Docker部署的，早已经部署好。这步暂时跳过，日后补充…（又偷懒了（逃～</p><h3 id="配置虚拟主机-amp-amp-创建新的网站目录-amp-amp-创建虚拟主机配置文件"><a href="#配置虚拟主机-amp-amp-创建新的网站目录-amp-amp-创建虚拟主机配置文件" class="headerlink" title="配置虚拟主机 &amp;&amp; 创建新的网站目录 &amp;&amp; 创建虚拟主机配置文件"></a>配置虚拟主机 &amp;&amp; 创建新的网站目录 &amp;&amp; 创建虚拟主机配置文件</h3><p>同上（逃～</p><h2 id="部署-Hexo-到服务器"><a href="#部署-Hexo-到服务器" class="headerlink" title="部署 Hexo 到服务器"></a>部署 Hexo 到服务器</h2><p>Hexo 可以使用 git 方式部署。<br>(网站的目录在下面统一用 <code>&lt;your-website&gt;</code> 代替，如你的目录在 <code>/var/www/html</code> ，那就用 <code>/var/www/html</code> 替换 <code>&lt;your-website&gt;</code> )</p><p>创建空白 git 仓库，并且设置 git hook</p><pre><code class="bash">cd ~ mkdir blog_hexo.git &amp;&amp; cd blog_hexo.gitgit init --bare</code></pre><p>新建 post-receive 脚本</p><pre><code class="bash">cd hookstouch post-receive</code></pre><p>编辑 <font color="red">~/blog_hexo.git/hooks/post-receive</font> 脚本</p><pre><code class="bash">#!/bin/bashGIT_REPO=/home/xxx/blog_hexo.gitTMP_GIT_CLONE=/tmp/HexoBlogPUBLIC_WWW=&lt;your-website&gt;rm -rf ${TMP_GIT_CLONE}git clone $GIT_REPO $TMP_GIT_CLONErm -rf ${PUBLIC_WWW}/*cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW}</code></pre><p>赋予脚本执行权限</p><pre><code class="bash">chmod 755 post-receive //或 chmod +x post-receive</code></pre><p>注意：</p><ol><li><p>这里要先确保 <font color="red">&lt;your-website></font> 目录下没有任何文件。备份好文件后执行一下命令：</p><pre><code class="bash">sudo rm -rf &lt;your-website&gt;/*</code></pre></li><li><p>执行 <code>ls -l &lt;your-website&gt;</code> 命令检查该目录及其子目录（文件）所有者和用户组是否为你当前使用的用户。<br>若显示：</p><pre><code class="bash">drwxr-xr-x  2 root   root   4096 Jun  4 07:00 &lt;your-website&gt;</code></pre><p>则说明你的网站目录的所有者以及用户组都是root，那么当你用git-hooks把tmp目录的静态博客拷贝到 <code>&lt;your-website&gt;</code> 时，会由于没有权限而导致拷贝失败，所以我们需要把<your-website>的所有者和用户组都改为你当前使用的用户。执行以下命令即可：</your-website></p><pre><code class="bash">sudo chown $USER:$USER -R &lt;your-website&gt;</code></pre></li></ol><h2 id="配置本机"><a href="#配置本机" class="headerlink" title="配置本机"></a>配置本机</h2><p>在博客目录下运行下面命令，安装 git 部署插件。</p><pre><code class="bash">npm install hexo-deployer-git --save</code></pre><p>修改博客的配置文件 _config.yml，修改deploy选项：</p><pre><code class="bash">deploy:  type: git  message: update  repo: xxx@127.0.0.1:/home/xxx/blog_hexo.git  branch: master</code></pre><p>然后运行 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code> 即可部署本地渲染网页到服务器上，之后只需要访问额你的域名就可以访问你的hexo博客啦！如我的博客是 <a href="http://reb.mallotec.com">reb.mallotec.com</a><br><strong>注：</strong>请把127.0.0.1替换成自己服务器的ip</p><h1 id="附：Hexo-个性化–-gt-NexT主题"><a href="#附：Hexo-个性化–-gt-NexT主题" class="headerlink" title="附：Hexo 个性化–&gt;NexT主题"></a>附：Hexo 个性化–&gt;NexT主题</h1><blockquote><p>参考：<a href="http://vinnyxiong.cn/blog/Hexo%E4%B9%8B%E6%97%85-%E4%B8%89-%EF%BC%9AHexo%E5%8D%9A%E5%AE%A2%E4%B8%AA%E6%80%A7%E5%8C%96%E5%8F%8ANexT%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo之旅(三)：Hexo博客个性化及NexT主题配置</a></p></blockquote><h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p>NexT 主题提供了详细的 <a href="http://theme-next.iissnan.com/" rel="external nofollow noopener noreferrer" target="_blank">使用文档</a> 。</p><h2 id="下载主题"><a href="#下载主题" class="headerlink" title="下载主题"></a>下载主题</h2><p>主题的安装很简单，执行以下命令即可：</p><pre><code class="bash">cd your-hexo-foldermkdir themes/nextcurl -s https://api.github.com/repos/iissnan/hexo-theme-next/releases/latest | grep tarball_url | cut -d &#39;&quot;&#39; -f 4 | wget -i - -O- | tar -zx -C themes/next --strip-components=1</code></pre><p>或</p><pre><code class="bash">cd your-hexo-sitegit clone https://github.com/iissnan/hexo-theme-next themes/next</code></pre><h2 id="启用-NexT-主题"><a href="#启用-NexT-主题" class="headerlink" title="启用 NexT 主题"></a>启用 NexT 主题</h2><p>克隆/下载 完成后，打开 站点配置文件，找到<code>theme</code>字段，并将其值更改为<code>next</code>。</p><blockquote><p>这里注意区分两个配置文件：<br>站点配置文件：是你的 hexo 博客目录下面的 _config.yml 文件。<br>主题配置文件：是 themes/next 目录下的 _config.yml 文件。</p></blockquote><h2 id="验证主题是否启用（这步我没执行过-）"><a href="#验证主题是否启用（这步我没执行过-）" class="headerlink" title="验证主题是否启用（这步我没执行过= =）"></a>验证主题是否启用（这步我没执行过= =）</h2><p>运行<code>hexo s --debug</code>，并访问<code>http://localhost:4000</code>，确保站点正确运行。</p><h2 id="重新渲染博客"><a href="#重新渲染博客" class="headerlink" title="重新渲染博客"></a>重新渲染博客</h2><p>启用主题后最好重新渲染一遍博客，命令：</p><pre><code class="bash">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></pre>]]></content>
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 教程 </tag>
            
            <tag> 个人经验 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
