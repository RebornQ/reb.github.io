<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[里包恩第一款开源第三方库 plugin-language 面世！！]]></title>
    <url>%2Fposts%2F7afcff16.html</url>
    <content type="text"><![CDATA[背景项目历经9个月的演化，终于从一开始为宝可梦的那样记账研究的语言切换而写的Demo进化成第三方库。这是我的第一个开源第三方库，说起来还挺激动的（嗯…失眠了…）～使用文档这是一个用 Kotlin 写的多语言切换的 Android 插件。目前只支持英文/简中/繁中三种语言，需要添加其他的语言可以提交issue。引入依赖（可选）项目的 build.gradle 中加入：allprojects { repositories { // ... maven { url &quot;https://dl.bintray.com/rebornq/maven/&quot; } } } app.gradle 中加入：implementation &#39;com.mallotec.reb:plugin-language:{last-version}&#39; 注意：{last-version}要替换为最新版本号，最新版本链接：https://bintray.com/rebornq/maven/plugin-language/_latestVersion由于本插件还用了androidx.preference，因此需要引入Preference相关依赖// preference implementation &#39;androidx.preference:preference:1.1.0&#39; 只需四步即可食用自定义Application继承BaseApplication所有Activity继承BaseAppCompactActivity添加混淆规则 # LanguagePlugin 混淆规则 -keep class com.mallotec.reb.languageplugin.** { *; } -dontwarn com.mallotec.reb.languageplugin.** 一句代码调用切换语言： // 应用切换的语言 LocaleManageUtil.applyLanguage(this, which.toString()) 注意：这里的this必须是Activity的Context，which是所选的语言标记Demo效果图：更多请查看本项目的 Demo写在最后欢迎大家 Star、Fork 和提 Issue 提 PR 呀～项目地址：https://github.com/RebornQ/Plugin-Language-Kotlin]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>第三方开源库</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android多语言切换实现进化版--Kotlin实现]]></title>
    <url>%2Fposts%2Fe836c9c6.html</url>
    <content type="text"><![CDATA[前言前面发了一篇“Android多语言切换实现——Java实现”，但是那个方案有缺陷，于是今天想写个更完美的方案。原理原理是一样的，这里不多说，看前面那篇文章的原理部分新的尝试我又去搜了一波，看了下Activity的生命周期、Application方法的执行顺序等等…主要思路App本地保存所设置的语言（通过数据库 or SharePreferences）；每个页面及App类的生命周期中判断当时语言是否是所设置语言，如果不是，则更新Configuration信息；在Application的attachBaseContext设置当前设置的语言Locale在Application的onConfigurationChanged（改变系统语言以及横竖屏切换时会调用到）设置当前的语言Locale在Activity的attachBaseContext设置当前设置的语言Locale，所以一般这里是创建BaseActivity来方便统一改变在Service的attachBaseContext设置当前设置的语言Locale（如果有 Service 的话）在Fragment的….暂时没找到，Fragment不知道是不是跟随父Activity改变语言的经过测试的确是跟着Activity改变的实现App本地保存所设置的语言本例使用SharePreferences保存设置的语言，所以这里先创建一个SharePreferences的工具类(SharePrefUtils.kt)：import android.content.Context import android.content.SharedPreferences import java.util.HashMap class SharePrefUtils { private var pref: SharedPreferences? = null private val map = HashMap&lt;String, Any&gt;() val all: Map&lt;String, *&gt; get() = pref!!.all private fun setPref(pref: SharedPreferences) { map.clear() this.pref = pref } fun getString(key: String): String? { return pref!!.getString(key, &quot;&quot;) } fun getBoolean(key: String): Boolean { return pref!!.getBoolean(key, false) } fun getInt(key: String): Int { return pref!!.getInt(key, 0) } fun clear() { pref!!.edit().clear().apply() } fun dataPrepare(key: String, value: Any): SharePrefUtils { // map.clear(); map[key] = value return this } fun putData(): SharePrefUtils { // 获取所有键值对对象的集合 for ((key, value) in map) { // 根据键值对对象获取键和值 putObject(key, value) } return this } private fun putObject(key: String, value: Any) { when (value) { is Boolean -&gt; pref!!.edit().putBoolean(key, value).apply() is Float -&gt; pref!!.edit().putFloat(key, value).apply() is Int -&gt; pref!!.edit().putInt(key, value).apply() is Long -&gt; pref!!.edit().putLong(key, value).apply() is String -&gt; pref!!.edit().putString(key, value).apply() } } class Builder { private var context: Context? = null private var pref: SharedPreferences? = null fun setContext(context: Context): Builder { this.context = context return this } fun setPref(prefName: String): Builder { if (pref == null &amp;&amp; context != null) { pref = context!!.getSharedPreferences(prefName, Context.MODE_PRIVATE) } return this } fun create(): SharePrefUtils { val sharePrefUtils = SharePrefUtils() if (pref != null) { sharePrefUtils.setPref(pref!!) } return sharePrefUtils } } } 这里使用建造者模式写这个工具类，使用方法：先创建实例 private var sharePrefUtils: SharePrefUtils? = null sharePrefUtils = SharePrefUtils .Builder() .setContext(context) // 传上下文Context .setPref(&quot;SharePrefName&quot;) // SharePref的名称 .create() 根据Key获取Value var value = sharePrefUtils!!.getInt(&quot;Key&quot;) 把数据存到SharePref中 sharePrefUtils!! .dataPrepare(&quot;Key&quot;, value) .putData() 创建管理语言的工具类(LocaleManagementUtil.kt)首先，获取用户设置过的语言 // 静态属性，修复识别系统语言为英语的问题 private var systemCurrentLocal = Locale.ENGLISH // 默认英语 fun getSelectLanguage(): Int { return sharePrefUtils!!.getInt(Constant.TAG_LANGUAGE) } /** * 获取选择的语言设置 * * @param context * @return Locale对象 */ fun getSetLanguageLocale(context: Context): Locale { return when (getSelectLanguage()) { 0 -&gt; getSystemLocale(context) // 获取系统设置的语言 1 -&gt; Locale.CHINA 2 -&gt; Locale.ENGLISH else -&gt; Locale.ENGLISH } } /** * 获取系统的locale * * @return Locale对象 */ fun getSystemLocale(context: Context): Locale { return systemCurrentLocal } /** * 获取系统的locale并保存到静态变量systemCurrentLocal中 */ fun saveSystemCurrentLanguage(context: Context) { val locale: Locale = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) { LocaleList.getDefault().get(0) } else { Locale.getDefault() } systemCurrentLocal = locale } 改变语言 fun setLocal(context: Context): Context { return updateResources(context, getSetLanguageLocale(context)) } private fun updateResources(context: Context, locale: Locale): Context { var context = context Locale.setDefault(locale) val res = context.resources val config = Configuration(res.configuration) if (Build.VERSION.SDK_INT &gt;= 19) { config.setLocale(locale) context = context.createConfigurationContext(config) } else { config.locale = locale res.updateConfiguration(config, res.displayMetrics) } return context } 调用方法设置语言Application override fun attachBaseContext(base: Context) { LocaleManageUtil.saveSystemCurrentLanguage(base) super.attachBaseContext(base) } override fun onCreate() { super.onCreate() instance = this LocaleManageUtil.setSharePref(this) } companion object { lateinit var instance: App private set } BaseActivity override fun attachBaseContext(newBase: Context) { super.attachBaseContext(LocaleManageUtil.setLocal(newBase)) } Service override fun attachBaseContext(newBase: Context) { super.attachBaseContext(LocaleManageUtil.setLocal(newBase)) } 设置语言并重启Activity到启动页LocaleManageUtil.kt fun saveLanguage(select: Int) { sharePrefUtils!! .dataPrepare(Constant.TAG_LANGUAGE, select) .putData() } fun saveSelectLanguage(context: Context, select: Int) { saveLanguage(select) } /** * 跳转主页 * * @param context */ fun toRestartLauncherActivity(context: Context) { val intent = Intent(context, MainActivity::class.java) intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK context.startActivity(intent) } SettingActivity.kt private fun selectLanguage(select: Int) { LocaleManageUtil.saveSelectLanguage(this, select) LocaleManageUtil.toRestartLauncherActivity(this) } 这里稍微解释一下：在Application和Activity中，attachBaseContext都是在onCreate方法之前执行的，所以我们先在Application中的attachBaseContext获取当前系统的语言并存下来（必须在所有获取语言的方法执行前存下当前系统语言，否则在后面获取可能会出现获取到的不是系统语言而是设置的语言的情况）。到这里理论上语言就可以成功改变啦～遇到的坑context为applicationContext时切换语言后设置的string没有改变的问题我们都会在代码中调用context.getResource().getString()这句代码看起来没什么问题，但是你这个context要是用的是applicationContext那么问题就来了。你会发现当你切换语言后用这样方式设置的string没有改变，所以我们需要改动我们的代码。解决方法就是，在切换语言后把application的updateConfiguration也要更新了，方法如下：LocaleManageUtil.kt /** * 设置语言类型 */ fun setApplicationLanguage(context: Context) { val resources = context.applicationContext.resources val dm = resources.displayMetrics val config = resources.configuration val locale = getSetLanguageLocale(context) config.locale = locale if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) { val localeList = LocaleList(locale) LocaleList.setDefault(localeList) config.locales = localeList context.applicationContext.createConfigurationContext(config) Locale.setDefault(locale) } resources.updateConfiguration(config, dm) } fun saveSelectLanguage(context: Context, select: Int) { saveLanguage(select) setApplicationLanguage(context) } App.kt override fun onCreate() { super.onCreate() instance = this LocaleManageUtil.setSharePref(this) LocaleManageUtil.setApplicationLanguage(this) } 解决横竖屏切换后语言变成系统语言的问题LocaleManageUtil.kt fun onConfigurationChanged(context: Context) { saveSystemCurrentLanguage(context) setLocal(context) setApplicationLanguage(context) } App.kt override fun onConfigurationChanged(newConfig: Configuration?) { super.onConfigurationChanged(newConfig) LocaleManageUtil.onConfigurationChanged(this) } 源码地址具体的源码在github上，大家可以自行查看参考文章Android App 多语言切换Android面试系列之应用内多语言切换android程序内多语言切换不需要重新启动的解决方案这第三篇好像讲的有点复杂，但是看完代码觉得效果应该不错，不过还没尝试安卓App内多语言切换（Kotlin实现），不需要强杀重启app不只是切换多语言Android（二）这个讲的不错，原理跟第三篇一样，直接在View实现，源码在这里。BTW：他前一篇换肤的文章——不只是切换多语言Android（一）也写的不错，有兴趣的朋友可以去看看Android国际化(多语言)实现，支持8.0最终我参考的最多的是这个方案 XDAndroid Context完全解析，你所不知道的Context的各种细节郭神的文章，主要是为了看Application方法的执行顺序，看看什么方法是在onCreate()之前执行的——attachBaseContext()Android Developer官方文档——处理配置变更onConfigurationChanged方法介绍及问题解决可解决横竖屏切换后语言变成系统语言的问题]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android多语言切换实现--Java实现]]></title>
    <url>%2Fposts%2F8a9e22db.html</url>
    <content type="text"><![CDATA[前言最近在想宝可梦的那样记账要加什么功能好呢？突然想到，不如实现多语言手动切换（国际化），方便那些为了开Google Assistant而把语言设置成英文的朋友可以在该App使用中文界面。需求可以随着系统切换语言而切换语言（即跟随系统），不支持的语言显示默认（默认为英文）用户可以自由选择自己想用的语言，且不会随着系统切换语言或者应用重启而还原虽然看着简单，但是实现起来还是遇到了点问题原理参照 Android Developer官网 上的描述，Configuration 包含了设备的所有的配置信息，这些配置信息会影响应用获取的资源。例如string资源，就是在不同的res/value-xx下放置不同语言的strings.xml实现字符的本地化，然后根据Configuration的locale属性来判断该取哪种语言的string资源，而这个value-xx目录的选择是根据locale这项的值来决定的。如zh中文，就会选择value-zh目录，如果没有匹配到（即res中没有value-zh目录）就使用默认的value目录中的字符资源。那么我们只需要想办法改变并重新加载Configuration即可！！！注：value-en、value-zh-rCN、values-zh-rTW分别表示英文、简体中文、繁体中文三种语言初次尝试1. 添加多语言文件在不同的value文件夹下（例如value、value-en、value-zh-rCN、values-zh-rTW文件夹）添加不同语言的string.xml文件，我们的项目添加了英文、简体中文、繁体中文三种语言。翻译之类的就自行翻译啦～繁体可以找个简繁转换网站。2. 更新 Configuration 中的 locale 属性来实现app语言的切换主要代码如下：Resources resources = getContext().getResources(); DisplayMetrics dm = resources.getDisplayMetrics(); Configuration config = resources.getConfiguration(); // 应用用户选择语言，如： // config.locale = Locale.ENGLISH; resources.updateConfiguration(config, dm); 我们用了Locale中的预设值Locale.ENGLISH、Locale.TRADITIONAL_CHINESE和Locale.SIMPLIFIED_CHINESE，如果你需要设置的语言没有预设值，你可以自己新建一个Locale对象，具体自行 Google 吧。注：跟随系统设置是Locale.getDefault()3. 重启 HomeActivity我们的 App 有个启动页WelcomeActivity，类似微信那个小人启动页，如果从欢迎页重启，并不是一个好的体验，应该和微信的语言设置一样，直接回到HomeActivity,而不是从 WelcomeActivity重新打开。实现其实也很简单，代码如下：Intent intent = new Intent(this, HomeActivity.class); intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK); getActivity().startActivity(intent); // 杀掉进程，如果是跨进程则杀掉当前进程 // android.os.Process.killProcess(android.os.Process.myPid()); // System.exit(0); 4. 持久化存储语言设置按照上述三个步骤，你应该已经可以看到了改变语言的效果了，但是当你杀掉应用，重新打开，发现设置又失效了。这是因为应用重启后会读取设备默认的Configuration信息，其中和语言相关的locale属性也会变成默认值，也就是你在系统设置中选择的语言。当你的应用需要由用户单独设置语言，而不是仅仅跟随系统语言，你就需要持久化存储用户的设置信息了。你可以选择数据库、或SharedPreferences来存储设置信息，存一个Type的int值即可。5. 根据本地缓存的type获取对应的locale其中7.0以上的系统需要另做处理（在后面会讲处理兼容性问题），具体代码如下：Locale locale; // 应用用户选择语言 switch (type) { case 0: locale = I18NUtils.getSystemLocale(); // getSystemLocale()是一个自定义方法，用于获取系统语言 break; case 1: ...;break; ... default: locale = enLocale; // enLocale 是一个静态 Locale 变量，用于默认为未提供的语言显示英文语言 break; } 6. 在AppApplication中初始化时设置本地语言用于每次启动APP后切换到本地缓存的语言public class App extends Application { @Override public void onCreate() { super.onCreate(); ... Resources resources = App.getContext().getResources(); DisplayMetrics dm = resources.getDisplayMetrics(); Configuration config = resources.getConfiguration(); // 设置本地化语言 config.locale = getSetLocaleInSP(); resources.updateConfiguration(config, dm); } // 得到设置的语言信息 private static Locale getSetLocaleInSP() { // 读取储存的语言设置信息（结合第五步） ... } 7. 在BaseActivity的OnCreate()方法中设置语言用于处理每次切换系统语言后app语言会跟随系统变化的问题。在这一步之前会遇到一个问题：当从应用中切出去，改变了系统语言的设置，当再切应用的时候，我发现语言也会变成系统语言（而我并没在应用内设置跟随系统）。引用自@写代码的猴子的文章：简单来说，上一步中，我们在 App 启动时，读取了用户的设置信息，并应用到 Configuration的locale属性上，然后通过resources.updateConfiguration(config, dm)改变了应用的配置信息（Configuration）并生效，保证我们的应用读取的string资源都是用户设置语言对应的资源。在我们改变系统的语言之后，再回到我们的应用中，此时的Configuration的locale属性就会发生变化了，不再是我们刚才自己的在应用启动时设置的了，而是变成了系统的设置了。那么解决办法也很简单，我们都知道 activity 有生命周期，在切回我们的应用时，在显示的 activity 的生命周期中做一些处理就好了（有点粗暴～）在实际开发中，我们会建立很多个 activity，而每一个 activity 都要更改语言的。这个时候我们如果一个个做处理是不是很麻烦？这个时候我们利用面向对象语言的继承特性即可，创建一个BaseActivity，在BaseActivity 中处理后其他 Activity 都去继承BaseActivity就好了。@写代码的猴子的文章中说评论中提到，在改变了系统设置之后，回到应用会重走activity的onCreate（如果按照Activity的生命周期看其实应该是onResume才对），那就在OnCreate中处理一下：@Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); if (!LanguageUtil.isSetValue()) { LanguageUtil.resetAppLanguage(); } ... } public class LanguageUtil { ... /** * 是否是设置值 * * @return 是否是设置值 */ public static boolean isSetValue() { Locale currentLocale = App.getContext().getResources().getConfiguration().locale; return currentLocale.equals(getSetLocaleInSP()); } } 解决7.0以上系统存在的兼容问题——跟随系统语言失效Android 7.0 语言设置爬坑这篇文章讲的很详细，具体还可以参考官方文档和官方API/)如果不做兼容，可能会出现以下情况：在 App 中，语言默认选择的是「跟随系统」（系统语言列表中「简体中文」是第一个），然后选择「英语」，之后再切换回「跟随系统」，发现语言并没切回「简体中文」，而还是「英语」。由于 Android7.0 以上Configuration将通过LocaleList来管理语言，并且系统切换语言后，系统默认语言可能并不在LocaleList顶部。经过调试发现：如果在 App 中手动选择（切换）过语言则在LocaleList中系统语言是第二个，否则是第一个。所以，获取当前系统locale，代码如下：Locale systemLocale; //由于API仅支持7.0，需要判断，否则程序会crash(解决7.0以上系统不能跟随系统语言问题) if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) { LocaleList localeList = LocaleList.getDefault(); // 获取之前选择过语言后缓存在 SharePreferences 的语言（即当前选择的语言） int spType = getLanguageType(AppApplication.getAppContext()); // 如果app已选择不跟随系统语言，则取第二个数据为系统默认语言 if(spType != 0 &amp;&amp; localeList.size() &gt; 1) { locale = localeList.get(1); } else { locale = localeList.get(0); } } else { locale = Locale.getDefault(); } 缺点但是这个做出来的效果是每次启动都会重启一次Activity，强迫症的我表示根本受不了😂，而且横竖屏切换后会有语言变成系统语言的问题参考文章Android多语言切换完美解决方案（兼容7.0以上版本）源码地址：https://github.com/Fitem/I18NDemoAndroid App 多语言切换Android面试系列之应用内多语言切换]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一次对layout_weight和match_parent的深入探究]]></title>
    <url>%2Fposts%2F73a11b2e.html</url>
    <content type="text"><![CDATA[背景昨晚，我又被奕广大佬日常拖去讨论问题（可以，这宿舍很好学🌚）。这次讨论的问题是关于 Android 中 layout_weight（权重） 的用法，然后在这过程中，我们遇到了一个坑——关于权重的计算问题。这问题可能比较基础，但是咧，我之前一直都不会用 layout_weight 的，所以是属于 layout_weight 使用的新手，大佬请绕道勿喷😂layout_weight 的分析权重分配的是哪些空间？首先要明白权重分配的是哪些空间？权重是按照比例分配屏幕的剩余空间，对这句话不理解的可以看下图：假如我们希望剩余的空间平分给空间1 和空间2 ，我们分别在2个控件的设置android:layout_weight=&quot;1&quot;计算原理然后我们来说下 layout_weight 的计算原理：控件的尺寸 = 设置的控件尺寸 + 剩余空间中控件的百分比 详细的计算方式则为：控件的宽(高)度 = 控件 的 width(height) + 控件的 weight * [父布局（LinearLayout）的宽(高)度-所有控件所占宽(高)的和] / weightSum 其中，控件的 weight / weightSum 就是权重比；父布局（LinearLayout）的宽(高)度-所有控件所占宽(高)的和为剩余可分配空间补充：android:layout_weight的真实含义是:一旦 View 设置了该属性(假设有效的情况下)，那么该 View的宽度等于原有宽度(android:layout_width)加上剩余空间的占比！如果 width 设置了 match_parent ，那么，加上的是负的长度（相当于减去一部分长度）如果 width 设置了 wrap_content，那么，剩余空间是“父容器总长度”减去“组件的内容占的长度”，然后再按比重值分。遇到的问题我们遇到的是以下代码：&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:orientation=&quot;vertical&quot; android:id=&quot;@+id/activity_main&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;Button android:layout_weight=&quot;1&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;0dp&quot; android:text=&quot;button1&quot; /&gt; &lt;Button android:layout_weight=&quot;1&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:text=&quot;button2&quot; /&gt; &lt;/LinearLayout&gt; 然后我跟奕广就蒙圈了，为啥两个都是match_parent或0dp的时候控件可以各占一半，而一个是 0dp 和 一个是 match_parent 却不能，反倒被button2给覆盖了？后来知道计算方法之后算了一下，又蒙了，算不对，我们是这样算的：根据公式：控件的宽(高)度 = 控件 的 width(height) + 控件的 weight * [父布局（LinearLayout）的宽(高)度-所有控件的宽(高)的和] / weightSum 得计算过程：设父布局为1列(宽)x2行(高)，则对半分之后每个控件的布局为1列(宽)x1行(高)，所以每个控件的实际高度应该为1行，得：Button2的实际显示高度 = 1行 + 1weight * (2-1-1)行 / (1+1)weight = 1行 &lt; 2行 (错) 很明显，我们的正确答案应该是算到Button2实际显示的 2 行才是正确的，但是现在算到了 1 行，所以显然是算错了。研究了很久才发现我们对 match_parent 的理解错了😂。☆☆接下来是重点！！！☆☆从计算过程中可以看出，我们认为，match_parent的实际值是 1 行。实则不然，match_parent是铺满父布局的宽(高)，那么父布局为1列(宽)*2行(高)的话，match_parent的值应为 2 行！！我们再算一遍：设父布局为1列(宽)x2行(高)，则对半分之后每个控件的布局为1列(宽)x1行(高)，但由于Button2的高度设置了match_parent，所以Button2设置的高度应该为2行，得：Button2的实际显示高度 = 2行 + 1weight * (父布局2-2-0)行 / (1+1)weight = 2-0行 = 2行 由于Button1的高度设置了 0dp，所以Button1设置的高度应该为0行，得：Button1的实际显示高度 = 0行 + 1weight * (2-2-0)行 / (1+1)weight = 0+0行 = 0行 这样数据就符合实际显示的效果了，完～参考android中weight的一个坑Android:layout_weight的使用和坑Android自适应布局(关于权重weight的使用技巧!)从源码切入 透彻理解Android的weight属性android weight（权重）的具体分析]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>宿舍日常问题探讨</tag>
        <tag>日常挖坑</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[另一种 StarUML 3.x 完美破解的思路——比较暴力]]></title>
    <url>%2Fposts%2Fd94bd648.html</url>
    <content type="text"><![CDATA[背景在昨天，我发布了一篇又长又臭的StarUML 3.x 完美破解方案然后今天早上一起床就想到，啊～好麻烦啊！能不能让完美再简单点？好的，然后我又开始了折腾（真丶生命在于折腾😂）我的想法这一次，我要先从about-dialog.js开始分析（about-dialog.js路径：解压app.asar后/app/src/dialogs/about-dialog.js）正所谓：你要什么我就给什么才是最方便的🌚正文下面开始正式分析破解查看关于中要显示的信息需要获取的数据about-dialog.js中第 45-71 行：// set license info if (app.licenseManager.getStatus() === true) { var info = app.licenseManager.getLicenseInfo() var licenseTypeName = &#39;Unknown&#39; switch (info.licenseType) { case &#39;PS&#39;: licenseTypeName = &#39;Personal&#39; break case &#39;CO&#39;: licenseTypeName = &#39;Commercial&#39; break case &#39;ED&#39;: licenseTypeName = &#39;Educational&#39; break case &#39;CR&#39;: licenseTypeName = &#39;Classroom&#39; break } $license.html(&#39;Licensed to &#39; + info.name) $licenseType.html(licenseTypeName + &#39; License&#39;) $quantity.html(info.quantity + &#39; User(s)&#39;) $crackedAuthor.html(&#39;Cracked by &#39; + info.crackedAuthor) } else { $license.html(&#39;UNREGISTERED&#39;) } return dialog } 可以看出，它首先会先调用license-manager.js中的getStatus()方法判断程序的注册状态。那现在我们去license-manager.js看一下getStatus()这个方法：/** * Get Registration Status * @return {string} */ getStatus () { return status } 嗯……很简单的一个方法，我是试过直接在这里设置&quot;true&quot;(注意！这里是返回字符串)，但是没什么用，我就没改这里了。那么这里到底有什么用呢？大家看它返回的那个变量：status，这是我们唯一从这里得到的信息，我们全文搜索一下status，可以找到一个setStatus(...)的方法。我修改了一下让它总是设置为true，代码如下：function setStatus (licenseManager, newStat) { if (status !== newStat) { status = newStat licenseManager.emit(&#39;statusChanged&#39;, &#39;true&#39;) // status修改为&#39;true&#39;,注意要带单引号 } } 好了，现在我们可以进入那个if语句了🌚。不难看出，接下来需要的数据都在变量info里，从这一句var info = app.licenseManager.getLicenseInfo() 可以看出，它调用了license-manager.js中的getLicenseInfo()方法获取所需数据，我们去看一下getLicenseInfo()方法：getLicenseInfo () { return licenseInfo } 嗯…..还是那么简洁，但是从昨天的文章我们已经知道这个licenseInfo的数据内容格式，他要的数据也是licenseInfo的数据。那么，我们直接模拟licenseInfo的数据即可：getLicenseInfo () { licenseInfo = { name: &quot;Reborn&quot;, product: &quot;Reborn product&quot;, licenseType: &quot;PS&quot;, quantity: &quot;Reborn Quantity&quot;, timestamp: &quot;1529049036&quot;, licenseKey: &quot;It&#39;s Cracked!!&quot;, crackedAuthor: &quot;Reborn&quot; }; return licenseInfo } 好了，模拟成功，about-dialog.js那边应该能获取到licenseInfo的数据了。但是，仅仅是这样还不行哦！还有最重要的一点你们别忘了——我们还没破解！破解注册破解注册很简单，直接修改license-manager.js中的checkLicenseValidity()这个方法就好了。修改后的代码如下：checkLicenseValidity () { this.validate().then(() =&gt; { setStatus(this, true) }, () =&gt; { // 原来的代码，如果失败就会将状态设置成false // setStatus(this, false) // UnregisteredDialog.showDialog() //修改后的代码 setStatus(this, true) }) } 注册成功！！完成以上流程后应该就能成功直接破解了，不用输入注册码，并且这种方法破解后同样能在关于显示你自定义的破解信息！！一样完美～这种方法和昨天的比起来更简单，但是也更暴力。昨天的比较接近正常的验证流程，这种就有点爆破的味道了。这里给出另一种思路给大家参考，希望对大家有帮助。]]></content>
      <categories>
        <category>逆向</category>
      </categories>
      <tags>
        <tag>逆向</tag>
        <tag>破解</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[StarUML 3.x 完美破解全过程含详细分析（可自定义许可证信息）]]></title>
    <url>%2Fposts%2Fee00472d.html</url>
    <content type="text"><![CDATA[背景终于开始新的学期了，这学期我有个 UML建模 的课程，上机作业就是要用到 StarUML 这个软件，但是……啊——为什么 StarUML 那么丑啊！！！而且，为什么这么难用啊！！！（马上开始怀疑是旧旧旧…&lt;省略一万个“旧”&gt;…版）（图片下次上机后附上）好吧，颜值帝的我无奈翻了一下官方，发现还机房的还真的是超级旧版，一进去官网就能看到我最喜欢的暗黑风格😍。果断下载来试用了一下，哇！这个操作比机房的体验好超级多了好吗😂这软件开源，但是却收费，穷得要死（铁公鸡）的我肯定是不会付费用的了(其实是想顺便看下这个软件的验证逻辑)，于是研究起了破解之道～关于 StarUML 的破解原理参考：https://www.jianshu.com/p/b6b1f6ad0bd6StarUML 是用 nodejs 写的，确切的说是用 Electron前端框架 写的。新版本中所有的 StarUML 源代码是通过 asar 工具打包而成，确切的代码位置在%LOCALAPPDATA%\Programs\StarUML\resources\app.asar。我们可以通过asar工具解压修改达到破解目的，关于asar工具使用可看本文附录1。提取 app.asar下载的 StarUML.app，右键显示包内容进入Contents/Resources/把app.asar复制出来为什么网上那么多破解教程我还要写？参考： Mac StarUML 3.0 破解那……当然不是为了存档！相信搜过 StarUML3 破解的朋友都知道，想要破解就修改app.asar解压出来的app/src/engine/license-manager.js，把其中的checkLicenseValidity函数修改成：checkLicenseValidity () { this.validate().then(() =&gt; { setStatus(this, true) }, () =&gt; { // 原来的代码，如果失败就会将状态设置成false // setStatus(this, false) // UnregisteredDialog.showDialog() //修改后的代码 setStatus(this, true) }) } 然后重新打包app.asar放回StarUML.app/Contents/Resources/，破解成功了。那么，为什么网上那么多破解教程我还要写一个教程呢？因为我是个完美主义者，我发现网上的教程都不能达到完美破解的效果——我的注册信息怎么没法显示（自定义）！！！于是我就着手研究起app.asar解压出来的代码了🌚开始分析破解的核心：license-manager.js参考： 绕过StarUML3 正版验证，去除水印破解的核心还是license-manager.js这个跑不掉，那么我们先从这个文件开始分析。根据注册码验证流程分析流程图在这之前，我们先想一下正常的注册码验证流程是什么：正常的注册码验证流程!function(o){var i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function c(t,e){var n=new Image,o=t.getAttribute("data-original");n.onload=function(){t.src=o,e&&e()},n.src=o}function n(){for(var t=0;t]]></content>
      <categories>
        <category>逆向</category>
      </categories>
      <tags>
        <tag>逆向</tag>
        <tag>破解</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[暴力查询四六级准考证号——真的很暴力]]></title>
    <url>%2Fposts%2F90d0bd8.html</url>
    <content type="text"><![CDATA[参考：http://www.freebuf.com/articles/database/145261.html背景昨天有个朋友说准考证没带回来，问我能不能帮她查下准考证号，我突然想起了今年2月份穷举的四级准考证，于是就翻出来试试。当时我对源码进行了一些修改，不过一年前我还没搭建博客，如今也算有个机会对当时的学习做个记录和总结。昨天我也继续对源码进行了一番改进，改的都非常简单，认真阅读了原作者那部分修改前的源码就肯定能看懂。要懂得感激首先，感谢@FlashYo提供的源码，让我也学习了不少东西。里面链接原本是失效了的，我又去问了@FlashYo，想看下utils.py是怎么写的，他想都没想就分享了，我表示很感激。于是呢，我就开始了第一次阅读 Python 代码的经历（其实这也是我第一次接触 Python ），代码看完之后感觉也不难，@FlashYo的代码写的很有条理，他的文章也有很详细的代码说明。但由于原文说不经允许禁止转载，我也尊重作者，所以这里就不贴他的代码和文章内容啦！有兴趣的可以去上面提供的参考链接看。2018-08-25更新：已获得作者授权引用他的文章内容，感谢@FlashYo🌚那么……我这篇博文是写什么的呢？自己的收获那当然是写自己的收获啦！（说了那么多也该进入正文了嗯。。。）其实我对原程序做了点改进🌚在说我改进了什么之前，先给大家科普一下四六级准考证号的组成吧！四六级准考证号的组成元素这东西百度谷歌随便都查的到，一张图带你了解英语六级准考证号组成～六级准考证号一共由15位组成：前5位是学校代码第6位是学校的校区代码 大学英语四六级考试院校考点代码大全(前6位)第7-8位是考试年份如2014年考试此处应为14，14代表2014年。第9位是该年中第几次四六级考试上半年是第1次，下半年是第2次，那么2014年12月就是2。第10位是四六级类别，四级是1，六级是2。第11-13位是考场号比如你在100考场的，那就是100，14考场的就是014。第14-15位是座位号如果你是01号座位，那就是01，29号就是29 。学校代码和校区代码查不到的直接随便问一个自己学校的考四六级的同学问一下就好了，那么前6位已经得到了；7~10位就不用我说了吧，自己是什么时候考的什么试对应就好了。前10位确定好了，所以接下来不知道的其实就只剩下考场号和座位号了改进1: 支持自定义试室范围和座位号范围（2018年2月…忘了具体啥时候了哈哈哈）其实一开始的想法是自定义座位号范围，因为我想到很多学校一间试室都不会坐99个人。原程序的座位号是从 1 跑到 99 的，没法自定义范围，这样的话就会浪费很多时间去查询很多不存在的准考证号。于是我做了以下改进：既然要自定义座位号范围，那么就要把试室号和座位号拆开了，于是我顺便把自定义试室范围也搞了，这个很简单，加个for循环以及改下函数参数就好了。原代码：myid = &quot;你的准考证号前10位{id:05d}&quot; ... for num in range(1, 10001): query_text =send_query_until_true(num) ... 改进后：myid = &quot;你的准考证号前10位{room_id:03d}{seat_id:02d}&quot; ... # 试室范围：1~999，试室人数 1~40 for room_num in range(1, 999): for seat_num in range(1, 40): query_text = send_query_until_true(room_num, seat_num) ... 记得把send_query_until_true()函数的参数也修改成room_num, seat_num改进2: 让程序遇到 Error 不中断执行（2018-08-22 更新）@FlashYo在他的文章最后讲过，程序停止了不是报错就是查到了，我当时好奇会什么报错咧？跑了一段时间后终于中断了，看了一下终端信息，原来是requests模块抛出的异常。后面又试了好几次中断，然后跑自己的准考证号时遇上了网络高峰期，尤其是这渣网络，简直疯狂断线，不带重连那种😂。终于忍无可忍，卷起袖子就开撸！（咳～不能那么粗鲁，要文明🌚（逃～直接上代码：... # 2018-08-22 更新 捕捉网络异常实现程序遇到 Error 不中断执行 while True: # 一直循环，直到访问站点成功 try: # 以下except都是用来捕获当requests请求出现异常时， # 通过捕获然后等待网络情况的变化，以此来保护程序的不间断运行 # 此处写requests请求 ... ...查询准考证的函数`send_query_until_true(...)`的内容... ... except requests.exceptions.ConnectionError: log_info(&#39;Unfortunitely -- ConnectionError Happened, please wait 3 seconds&#39;) time.sleep(3) except requests.exceptions.ChunkedEncodingError: log_info(&#39;Unfortunitely -- ChunkedEncodingError Happened, please wait 3 seconds&#39;) time.sleep(3) except: log_info(&#39;Unfortunitely -- An Unknow Error Happened, Please wait 3 seconds&#39;) time.sleep(3) Umm…我一口气把所有异常都捕捉了哈哈哈！！！这个代码也很简单，捕捉到异常就等待3秒，然后尝试重新跑 上一个 准考证号，有种断线重连的效果。log_info(*arg)是我自定义的一个函数，用于在终端输出信息的同时把信息存到文件中，方便后期查看（好吧，其实是避免电脑突然蓝屏或者什么原因重启导致的终端记录丢失，那我又要重新跑，多亏哦！）。真丶写收获时间问题，先在手机便签写着，写完马上补上，大家不要太期待哈哈哈🌚战果完成这些之后，终于能 全自动 跑了！！全自动！！！Oh, Yeah！妈妈再也不用担心我的程序突然中断了！！昨天晚上，噢不，今天凌晨😂3点多，帮我的朋友跑出了她的准考证号，跑了好久哦，好几个小时，还好全自动🌚。。。嗯…顺便在这里再次恭喜一下你过了六级吧👍👏 @念念 ，被我吊了一手胃口刺激不🌚？（不要问我为什么不查自己的，因为我还没考哈哈哈！）]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>实用</tag>
        <tag>CET</tag>
        <tag>python</tag>
        <tag>学习</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx域名转发（反向代理）]]></title>
    <url>%2Fposts%2F357640ff.html</url>
    <content type="text"><![CDATA[参考：【Nginx】关于域名转发proxy_pass另一种利用Nginx反向代理来简单镜像 HTTP(S)网站 的方法背景在开发过程中，有时候我们会有一个这样的需求：访问m.XXX.com的时候，需要实际访问www.YYY.com/m，并且域名不能发生变化（这种也可称为镜像？）。达成这个需求可以使用Nginx，有两种做法：第一种就是301跳转，使用rewrite来跳转域名，不过这样域名就会发生变化，与需求不符。第二种就是用proxy_pass跳转，只要指定跳转目的域名，就可以在访问的时候自动跳转访问目的域名，而且域名也不会发生变化。所以这里需要使用第二种方法。配置文件示例以下教程 域名以m.XXX.com为例，被镜像网站以www.YYY.com/m为例然后访问你的域名看一看是否成功镜像，需要注意的一点是，如果被镜像的网站设置了防盗链，那么静态文件(js/css/图片)可能无法显示，这就没办法了。参数解释一般情况下只需要更改这几个参数。server_name 你的域名; sub_filter 欲被镜像的域名 你的域名; proxy_set_header Referer http://欲被镜像的域名; proxy_set_header Host 欲被镜像的域名; proxy_pass http://欲被镜像的域名; 建立 Nginx 配置文件首先在/etc/nginx/sites-available/建立一个m.XXX.com.conf配置文件，内容参考HTTP 示例和HTTPS 示例。HTTP 示例以下示例是以m.XXX.com镜像www.YYY.com/m为例。自行替换 其中的参数：第二段是 屏蔽搜索引擎收录，比如镜像自己的网站，如果不屏蔽会导致 收录流失。注意：不管你是镜像 www.baidu.com 还是 www.google.com.hk （不要直接使用 .com 会被谷歌自动根据VPS所在地区重定向的），他们两个目前都是强制重定向到 https ，这意味着如果你只配置了 http 反向代理，那么访问反向代理域名后会重定向到 https 的目标域名，所以你也必须配置 https 才行。# 下面这段代码才是 HTTP 完整示例配置文件，注意使用时修改里面的默认域名等信息。 server { listen 80; server_name m.XXX.com; if ($http_user_agent ~* (baiduspider|360spider|haosouspider|googlebot|soso|bing|sogou|yahoo|sohu-search|yodao|YoudaoBot|robozilla|msnbot|MJ12bot|NHN|Twiceler)) { return 403; } location / { sub_filter www.YYY.com m.XXX.com; sub_filter_once off; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Referer http://www.YYY.com; proxy_set_header Host www.YYY.com; proxy_pass http://www.YYY.com/m; proxy_set_header Accept-Encoding &quot;&quot;; } } HTTPS 示例当你要镜像的网站不开放 HTTP 或者 强制HTTPS 的时候，你就需要加上 SSL 来转成 HTTPS 了。假设SSL证书文件位置是：/root/ssl.crt假设SSL密匙文件位置是：/root/ssl.key第二段的 301 代码是，强制走HTTPS，如果不需要可以去掉。第三段是 屏蔽搜索引擎收录，比如镜像自己的网站，如果不屏蔽会导致 收录流失。同时下面这两个选项的记得把http://改成https://。proxy_set_header Referer https://www.YYY.com; proxy_pass https://www.YYY.com/m; # 下面这段代码才是 HTTPS 完整示例配置文件，注意使用时修改里面的默认域名等信息。 server { listen 80; listen 443 ssl; ssl on; ssl_certificate /root/ssl.crt; ssl_certificate_key /root/ssl.key; ssl_session_cache shared:SSL:10m; ssl_session_timeout 10m; server_name m.XXX.com; add_header Strict-Transport-Security &quot;max-age=31536000&quot;; if ( $scheme = http ){ return 301 https://$server_name$request_uri; } if ($http_user_agent ~* (baiduspider|360spider|haosouspider|googlebot|soso|bing|sogou|yahoo|sohu-search|yodao|YoudaoBot|robozilla|msnbot|MJ12bot|NHN|Twiceler)) { return 403; } location / { sub_filter www.YYY.com m.XXX.com; sub_filter_once off; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Referer http://www.YYY.com; proxy_set_header Host www.YYY.com; proxy_pass http://www.YYY.com/m; proxy_set_header Accept-Encoding &quot;&quot;; } } 注意事项若是转发的地址含二级目录如：www.YYY.com/m，只需要把proxy_pass值修改为具体地址即可，若是不行则将proxy_set_header值也修改为具体地址。若是你输入的地址中要有二级目录如m.XXX.com/tools/a，则location模块要改为： location /tools/a { // ... }]]></content>
      <categories>
        <category>运维日志</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>服务器</tag>
        <tag>运维</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决iframe跨域高度自适应问题]]></title>
    <url>%2Fposts%2Fa29672a0.html</url>
    <content type="text"><![CDATA[背景我在前面写博文的时候，有遇到一次需要嵌套别人的网页来做预览，我想到了用iframe标签，结果发现根本没法自适应高度？？！！什么玩意，强迫症的我又走上了填坑之路。对，你没看错，又。。。。iframe自适应高度参考：完美解决Iframe高度自适应（兼容性好并且支持跨域）经过一番搜索，终于找到了自适应高度的方法。具体代码如下：&lt;script type=&quot;text/javascript&quot;&gt; function SetCwinHeight(){ var iframeid=document.getElementById(&quot;iframeid&quot;); //iframe id if (document.getElementById){ if (iframeid &amp;&amp; !window.opera){ if (iframeid.contentDocument &amp;&amp; iframeid.contentDocument.body.offsetHeight){ iframeid.height = iframeid.contentDocument.body.offsetHeight; }else if(iframeid.Document &amp;&amp; iframeid.Document.body.scrollHeight){ iframeid.height = iframeid.Document.body.scrollHeight; } } } } &lt;/script&gt; &lt;iframe width=&quot;100%&quot; id=&quot;iframeid&quot; onload=&quot;Javascript:SetCwinHeight()&quot; height=&quot;1&quot; frameborder=&quot;0&quot; src=&quot;www.xxx.com&quot;&gt;&lt;/iframe&gt; 然后。。。然后。。。没有然后，一点反应都没有？？！！什么东西？？我直觉告诉我很快就能搞定了，于是我继续填（wa）坑。解决跨域问题原来。。。是 js 的跨域问题在搞鬼（好吧，我承认我主学的不是前端😂）跨域的解决方法有很多，我用的是document.domain+Nginx域名转发的方法，比较偷懒嗯😂。这种方法只适用于在自己博客上插入iframe的情况，而且需要博客在自己的服务器上和拥有自己的域名。废话不多说，我先说一下Nginx域名转发。Nginx域名转发20180823更新：本节内容已转移到Nginx域名转发（反向代理）document.domain参考：小tip：iframe高度动态自适应新手学跨域之iframe把 iframe 中src的网址转发到自己的域名后就可以用document.domain解决跨域问题啦！document.domain是比较常用的跨域方法。实现最简单但只能用于同一个主域下不同子域之间的跨域请求，比如 foo.com和 img.foo.com 之间，img1.foo.com 和 img2.foo.com 之间。只要把两个页面的document.domain都指向主域就可以了，比如document.domain=&#39;foo.com&#39;;。设置好后父页面和子页面就可以像同一个域下两个页面之间访问了。父页面通过ifr.contentWindow就可以访问子页面的window，子页面通过parent.window或parent访问父页面的window，接下来可以进一步获取dom和js。&lt;!-- foo.com/a.html --&gt; &lt;iframe id=&quot;ifr&quot; src=&quot;http://img.foo.com/b.html&quot;&gt;&lt;/iframe&gt; &lt;script&gt; document.domain = &#39;foo.com&#39;; function aa(str) { console.log(str); } window.onload = function () { document.querySelector(&#39;#ifr&#39;).contentWindow.bb(&#39;aaa&#39;); } &lt;/script&gt; &lt;!-- img.foo.com/b.html --&gt; &lt;script&gt; document.domain = &#39;foo.com&#39;; function bb(str) { console.log(str); } parent.aa(&#39;bbb&#39;); &lt;/script&gt; 总结下面是我修改后的代码：my.jsfunction SetCwinHeight(id) { document.domain=&#39;www.abc.com&#39; var iframeid = document.getElementById(id); //iframe id if (document.getElementById) { if (iframeid &amp;&amp; !window.opera) { console.log(&quot;iframeid:&quot; + iframeid.contentDocument); if (iframeid.contentDocument &amp;&amp; iframeid.contentDocument.body.offsetHeight) { iframeid.height = iframeid.contentDocument.body.offsetHeight + 50; } else if (iframeid.Document &amp;&amp; iframeid.Document.body.scrollHeight) { frameid.height = iframeid.Document.body.scrollHeight + 50; } } } } xxx.md&lt;script type=&quot;text/javascript&quot; src=&quot;../js/my.js&quot;&gt;&lt;/script&gt; &lt;iframe width=&quot;100%&quot; id=&quot;iframe_id&quot; name=&quot;iframe_id&quot; onload=&quot;Javascript:SetCwinHeight(this.id)&quot; scrolling=&quot;auto&quot; height=&quot;0&quot; frameborder=&quot;0&quot; src=&quot;https://www.abc.com/tools/a/&quot;&gt; &lt;/iframe&gt; 特别说明：在这里我说一下为什么要分开写，因为我发现不分开写没法正常加载js😂。像下面这种：`html function SetCwinHeight(id) { document.domain=’www.abc.com&#39; var iframeid = document.getElementById(id); //iframe id if (document.getElementById) { if (iframeid &amp;&amp; !window.opera) { console.log(“iframeid:” + iframeid.contentDocument); if (iframeid.contentDocument &amp;&amp; iframeid.contentDocument.body.offsetHeight) { iframeid.height = iframeid.contentDocument.body.offsetHeight + 50; } else if (iframeid.Document &amp;&amp; iframeid.Document.body.scrollHeight) { frameid.height = iframeid.Document.body.scrollHeight + 50; } } }}`合起来写然后插入到 Markdown 里面貌似 hexo 渲染后 js 总有问题，不知是不是主题原因，我看过有一个 Next 主题的加载正常，蒙逼。。出现的问题如下图：相信大家都看出来了，js代码乱掉了😂.我自己也找过一些资料，其中不乏试过https://www.v2ex.com/t/162951#r_1717560说的使用Raw标签插件，但是没有用。。。如果有人知道是什么原因的话，请告诉我一声谢谢！（在下方评论即可，PM我也可以）]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>Web前端</tag>
        <tag>iframe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[推荐几个能自动转换粘贴内容为Markdown的工具]]></title>
    <url>%2Fposts%2F48ffa897.html</url>
    <content type="text"><![CDATA[背景今天在转载几篇文章的时候，看到别人的博文写的不错，想要转载到自己博客里。但是由于我们是自己搭建的博客，发表的文章都是以源码方式编辑的，没法一键转载。于是我就想到复制粘贴的时候能不能自动转换粘贴内容为Markdown呢？（其实还是hexo 博客神速转载这篇文章给我的启发）一开始我是在试用为知的一个插件预览Wiz.Editor.md预览地址：http://akof1314.github.io/Wiz.Editor.md/后来发现用着用着感觉有点问题，觉得很不爽，弃用。紧接着我脑子一热就想自己写一个。。。（好吧，最近项目比较多，这个得搁置一段时间了）于是去github上找了一下，不负所望，这类工具还是有的！介绍这几个工具基本都有在线预览，使用的时候直接预览就好了，如果自己需要整合源码进自己项目的话，就去下源码吧！2MD推荐指数：☆☆☆☆☆源码：https://github.com/phodal/2md原文：http://www.sohu.com/a/134631771_385076预览地址：https://phodal.github.io/2md我加了个iframe提供给大家直接预览：20180822更新：注意！！！手机版目测无法正常使用，具体表现为无法粘贴，若想有完美体验，请转移到电脑端使用。不过，我只在我的魅族MX4 Pro上测试过（穷孩子没其他手机了😂），如果有机型成功粘贴了，可在下方评论告诉我😂天哪！终于解决跨域自适应高度问题了😂clipboard2markdown推荐指数：☆☆☆☆（因为操作没有2MD和界面好，所以就低一星）源码：https://github.com/euangoddard/clipboard2markdown预览地址：http://euangoddard.github.io/clipboard2markdown/20180822更新：注意！！！和上面的情况一样，手机版目测无法正常使用，具体表现为无法粘贴，若想有完美体验，请转移到电脑端使用。不过，我只在我的魅族MX4 Pro上测试过（穷孩子没其他手机了😂），如果有机型成功粘贴了，可在下方评论告诉我😂咳～这个…因为预览地址是http的，iframe在Chrome会直接空白，所以换上预览图。。。。点击预览图可直接跳转到预览页面哦🌚！paste-as-markdown推荐指数：Umm…没有预览我懒得下了，没有指数没有预览哈哈哈！源码：https://github.com/letiantian/paste-as-markdown原文：https://my.oschina.net/letiantian/blog/754905]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Disqus API科学评论大法]]></title>
    <url>%2Fposts%2Fd32fb564.html</url>
    <content type="text"><![CDATA[背景Disqus 不用说，大家都知道他的主域名disqus.com在国内被屏蔽了，导致在国内不能评论也不能看评论，体验十分不好。看了一下 Disqus 官方发现有个 API 反代加速访问的用法，于是去找了相关资料，原本想自己造轮子，后来发现已经有现成的，我就先拿来用着吧。原理我们可以来看看disqus反向代理的原理图：整体流程是这样的，在前端页面上测试disqus加载是否成功，如果成功则显示disqus的评论框，反之加载独立的评论框，并将请求发送给自己在国外的vps，利用vps做反向代理，接收来自客户端的请求到disqus服务器并再转发给客户端。一句话概括就是：客户端发送请求给服务器，服务器通过Disqus Api提交评论。工具介绍目前现成的disqus反代主要有以下两种：disqus-proxy –NodeJS实现disqus-php-api –PHP实现上述两种方案均支持根据网络情况判断加载简易/原版评论框，看完UI后我很果断的选择了disqus-php-api……以下为替换为disqus-php-api的具体步骤，供大家参考，也给自己留下一个记录。配置一台国外的VPS服务器后端配置获取 disqus-php-apigit clone https://github.com/fooleap/disqus-php-api.git 移动并重命名mv -r disqus-php-api /path/to/disqus-php-api 注意：此处建议新建一个 Nginx 站点，如：api.xxx.com这类，专门放 API 的地方，注意DNS解析添加A记录和写好 Nginx 配置，尤其是要配置SSL证书。修改 config.php根据 disqus-php-api/api/config.php 中的注释修改相应配置：define(&#39;DISQUS_PUBKEY&#39;, &#39;E8Uh5l5fHZ6gD8U3KycjAIAk46f68Zw7C6eW8WSjZvCLXebZ7p0r1yrYDrLilk2F&#39;); define(&#39;PUBLIC_KEY&#39;, &#39;your-public-key&#39;); define(&#39;SECRET_KEY&#39;, &#39;your-secret-key&#39;); define(&#39;DISQUS_USERNAME&#39;, &#39;your-disqus-username&#39;); define(&#39;DISQUS_EMAIL&#39;, &#39;your-email@gmail.com&#39;); define(&#39;DISQUS_PASSWORD&#39;, &#39;your-disqus-password&#39;); define(&#39;DISQUS_WEBSITE&#39;, &#39;https:/\/your-website.com&#39;); // 实际使用时要去掉链接的 \ ，这里是为了避免md直接吧双斜杠解析成注释了 define(&#39;DISQUS_SHORTNAME&#39;, &#39;your-disqus-shortname&#39;); define(&#39;DISQUS_APPROVED&#39;, true); 这里要注意的是，DISQUS_WEBSITE选项中，域名不能这样写：‘https://reb.mallotec.com/‘，域名后不能以’/‘结尾，否则会出现一直创建Thread的情况前端配置disqus-php-api集成至hexo修改 hexo 的主题配置文件在主题配置文件_config.yml中添加 disqusapi 相关参数disqusapi: forum: &#39;your-short-name&#39; site: &#39;https://your-site&#39; api: &#39;https://your-site/.../disqus-php-api/api&#39; mode: 1 badge: &#39;博主&#39; timeout: 3000 参数参考文档：https://github.com/fooleap/disqus-php-api/blob/master/readme.mdforum：Disqus form的shortnamesite：网站域名api：PHP代码部署的网址：https://yoursite.com/disqus/apimode：1 检测能否访问 Disqus，若能则加载 Disqus 原生评论框，超时则加载简易评论框2 仅加载简易评论框3 同时加载两种评论框，先显示简易评论框，Disqus 加载完成则切换至 Disqus 评论框badge：管理员徽章文本timeout：当mode为1时的超时时间添加 disqusapi 模块Material主题的 disqusapi 模块添加可以参考官方文档的评论系统适配指南。直接拷贝一份官方提供的 disqus 评论模块到&lt;主题根目录&gt;/layout/_widget/comment/disqusapi/下。下面是common.ejs、enter.ejs、main.ejs的具体代码：common.ejs &lt;!-- 使用 DISQUS js 代码 --&gt; common.ejs为空enter.ejs &lt;!-- 使用 DISQUS --&gt; &lt;% if(page.comments) {%&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;/disqus-php-api-dist/iDisqus.min.css&quot; /&gt; &lt;script src=&quot;/disqus-php-api-dist/iDisqus.min.js&quot;&gt;&lt;/script&gt; &lt;div id=&quot;comment&quot;&gt; &lt;%- partial(&#39;_widget/comment/&#39; + theme.comment.use + &#39;/main&#39;) %&gt; &lt;/div&gt; &lt;style&gt; #comment{ background-color: #eee; padding: 2pc; } &lt;/style&gt; &lt;% } %&gt; page.comments是为了控制每一篇文章是否需要开启评论功能，需要在每一篇文章的Front-matter中设置comments={Boolean}如果服务器很远，连接比较慢，建议把iDisqus.min.css和iDisqus.min.js放到主题目录的source里会更方便，渲染调试的时候直接从本地加载，不然调试的时候从网络加载半年网页都没加载完。当然，放到了CDN那更好，此处主要是为了方便hexo s调试。main.ejs&lt;script&gt; var emojiList = [{ code:&#39;smile&#39;, title:&#39;笑脸&#39;, unicode:&#39;1f604&#39; },{ code:&#39;mask&#39;, title:&#39;生病&#39;, unicode:&#39;1f637&#39; },{ code:&#39;joy&#39;, title:&#39;破涕为笑&#39;, unicode:&#39;1f602&#39; },{ code:&#39;stuck_out_tongue_closed_eyes&#39;, title:&#39;吐舌&#39;, unicode:&#39;1f61d&#39; },{ code:&#39;flushed&#39;, title:&#39;脸红&#39;, unicode:&#39;1f633&#39; },{ code:&#39;scream&#39;, title:&#39;恐惧&#39;, unicode:&#39;1f631&#39; },{ code:&#39;pensive&#39;, title:&#39;失望&#39;, unicode:&#39;1f614&#39; },{ code:&#39;unamused&#39;, title:&#39;无语&#39;, unicode:&#39;1f612&#39; },{ code:&#39;grin&#39;, title:&#39;露齿笑&#39;, unicode:&#39;1f601&#39; },{ code:&#39;heart_eyes&#39;, title:&#39;色&#39;, unicode:&#39;1f60d&#39; },{ code:&#39;sweat&#39;, title:&#39;汗&#39;, unicode:&#39;1f613&#39; },{ code:&#39;smirk&#39;, title:&#39;得意&#39;, unicode:&#39;1f60f&#39; }]; var disq = new iDisqus(&#39;comment&#39;, { forum: &#39;&lt;%= theme.disqusapi.forum %&gt;&#39;, site: &#39;&lt;%= theme.disqusapi.site %&gt;&#39;, api: &#39;&lt;%= theme.disqusapi.api %&gt;&#39;, mode: &#39;&lt;%= theme.disqusapi.mode %&gt;&#39;, badge: &#39;&lt;%= theme.disqusapi.badge %&gt;&#39;, timeout: &#39;&lt;%= theme.disqusapi.timeout %&gt;&#39;, init: true, emoji_list: emojiList }); disq.count(); &lt;/script&gt; 最后编辑主题配置文件中的comment模块开启disqusapi：comment: use: disqusapi 问题1.没有权限参考：https://blog.fooleap.org/disqus-php-api.html#comment-3954303091Linux查看、修改文件读写权限问题如图：据作者 fooleap 所说，显示没有权限的话，就是没有权限在当前目录创建文件夹。于是我修改了 api 所在目录的权限就好了：sudo chown -R $USER:$USER path/to/disqus-php-api sudo chmod -R 777 path/to/disqus-php-api 2.由于disqus没有本页面的项管thread，故需先创建thread参考：https://blog.fooleap.org/disqus-php-api.html#comment-3829428059据作者 fooleap 所说，加载评论框的页面，若在 Disqus 没有相关的 thread，是必须先手动创建的，不设置成自动是避免生成无用的 thread。若想自动创建可以在配置参数里添加autoCreate: true。还有一种解决方法（推荐）：如果出现创建thread的问题，那么可以通过 mode选择1，再翻墙访问你的文章页面，这时候加载原生Disqus评论系统，thread就创建成功了。特别要注意的是：如果你的文章标题中带有中文，会无法创建thread，所以不要使用中文命名文章。参考链接解决Hexo博客中 Disqus 在国内不能访问的方案Hexo折腾记之科学使用Disqus与Next的集成disqus-php-api 科学评论科学使用 Disqus为Hexo主题fexo添加disqus反代〖原创〗基于disqus-php-api在Hexo博客中使用Disqus]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Disqus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[测试专页]]></title>
    <url>%2Fposts%2Fb84ba97.html</url>
    <content type="text"><![CDATA[测试的英文？（全小写） Incorrect Password! No content to display! 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]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hexo添加Disqus评论]]></title>
    <url>%2Fposts%2F2cb4e595.html</url>
    <content type="text"><![CDATA[背景国内的评论系统畅言都需要ICP备案，像我这种打死不备案的人来说，国内的评论系统就用不了了。最终决定博客使用的是国外的 Disqus 评论系统，但他的主域名disqus.com在国内被屏蔽了，只能科学上网后使用。果然有空还是自己造轮子爽一点，逃～配置 DisqusDisqus官网：https://disqus.com打开链接后， 可以直接用Facebook，Twitter以及 Google 登录，也可以用邮箱注册后登录。选择创建目的登录后，点击首页的GET STARTED 按钮，然后点击图示按钮：创建一个新站点Website Name 填的是shortname，到时候要填到主题配置文件中Category 选择种类，我选的是 Tech安装Select Plan接下来你会看到以下页面：这一步不需要选计划，跳过Select Plan，直接到Install Disqus。Install DisqusSelect PlatformHexo 不属于以上任何形式，因此选择Universal Code(通用代码)。Install Instructions然后拉到最下面选择ConfigureConfigure DisqusWebsite Name 一般就刚刚第一步填的short name（我刚刚填了 justtestme，到这步的时候一般会自动填充）Website URL 填写你的博客地址填完信息后点击Complete Setup完成配置。配置 Hexo在主题配置文件中找到comment项：（以 Material 主题为例）# Comment Systems # Available value of &quot;use&quot;: # disqus | disqus_click | changyan | 163gentie comment: use: disqus_click shortname: justtestme # duoshuo or disqus shortname use：选择disqus或disqus_click，两者差别请参阅Material主题文档shortname：填写你刚刚在 Disqus 设置的 Website Name，英文冒号后空格。（严格意义上是填站点配置面板中的 Shortname ）部署应用使用如下命令提交到服务器：hexo clean hexo g hexo d 科学上网后，任意打开一篇你的博文就能评论了。总结在https://justtestme.disqus.com/admin/settings/general/页面管理 Your Sites（ justtestme 换成自己的 shortname ）。此处的 Shortname 和 Websit Name 是可以不同的。如下图：注意：主题配置文件中comment项填的是此处的 Shortname 而不是 Website Name！！参考Hexo搭建博客系列：（六）Hexo添加Disqus评论]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>Disqus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac使用brew安装的MySQL版本切换]]></title>
    <url>%2Fposts%2Fa96dbfbe.html</url>
    <content type="text"><![CDATA[参考：https://www.jianshu.com/p/f1a5a680b464☆☆20180801更新：通过测试发现直接使用brew services start mysql@5.6即可切换至5.6版本使用，不需要brew unlink，是否可用请自行测试，测试前请备份好数据！！☆☆背景今天因为要写JavaEE大作业运行了一遍队友发过来的项目，却无法正常运行。经过一番追踪，发现是MySQL版本不对的问题，项目使用的MySQL版本是5.6（从使用的JDBC驱动就可以看出来）。本来想着更新JDBC驱动就可以解决，却发现Hibernate也要更新，还不清楚Hibernate支不支持8.0的MySQL，想了一下还是决定装多一个版本的MySQL吧。切换重点/usr/local/var/mysql/通过切换每个版本来使用数据库设置和数据使用brew unlink和brew link切换活动版本的MySQL教程摘要下面我们来看一下大概流程：停止运行MySQL在设置和数据目录（usr/local/var/mysql）之间切换brew unlink并brew link与切换活动的MySQL启动MySQL详细步骤本例以已安装MySQL 8.0再安装5.6 为例1. 备份/usr/local/var/mysql/由于存储了设置和DB数据，因此应该备份好，然后撤离。 mv /usr/local/var/mysql /usr/local/var/mysql_80 2. 删除MySQL 8.0的符号链接brew unlink mysql 解释：这个符号链接 指的是诸如/usr/local/bin/mysql -&gt; ../Cellar/mysql/5.7.10/bin/mysql 和/usr/local/lib/libmysqlclient.20.dylib -&gt; ../Cellar/mysql/5.7.10/lib/libmysqlclient.20.dylib 之类的东西。注意：如果此符号链接存在，安装另一个版本将可能导致以下错误：$ brew install mysql56 ==&gt; Reinstalling homebrew/versions/mysql56 ==&gt; Downloading https://homebrew.bintray.com/bottles-versions/mysql56-5.6.27.el_capitan.bottle.tar.gz Already downloaded: /Library/Caches/Homebrew/mysql56-5.6.27.el_capitan.bottle.tar.gz ==&gt; Pouring mysql56-5.6.27.el_capitan.bottle.tar.gz Error: The `brew link` step did not complete successfully The formula built, but is not symlinked into /usr/local Could not symlink bin/innochecksum Target /usr/local/bin/innochecksum is a symlink belonging to mysql. You can unlink it: brew unlink mysql To force the link and overwrite all conflicting files: brew link --overwrite mysql56 To list all files that would be deleted: brew link --overwrite --dry-run mysql56 或：$ brew install mysql56 Updating Homebrew... ==&gt; Auto-updated Homebrew! Updated 1 tap (homebrew/cask). No changes to formulae. ==&gt; Downloading https://homebrew.bintray.com/bottles/mysql@5.6-5.6.40.sierra.bottle.tar.gz ######################################################################## 100.0% ==&gt; Pouring mysql@5.6-5.6.40.sierra.bottle.tar.gz ==&gt; /usr/local/Cellar/mysql@5.6/5.6.40/bin/mysql_install_db --verbose --user=xxx --basedir=/usr/local/Cellar/mysql@5.6/5.6.40 --datadir=/usr/local/var/mysql --tmpdir=/tmp ==&gt; Caveats A &quot;/etc/my.cnf&quot; from another install may interfere with a Homebrew-built server starting up correctly. MySQL is configured to only allow connections from localhost by default To connect: mysql -uroot This formula is keg-only, which means it was not symlinked into /usr/local, because this is an alternate version of another formula. If you need to have this software first in your PATH run: echo &#39;export PATH=&quot;/usr/local/opt/mysql@5.6/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc For compilers to find this software you may need to set: LDFLAGS: -L/usr/local/opt/mysql@5.6/lib CPPFLAGS: -I/usr/local/opt/mysql@5.6/include To have launchd start mysql@5.6 now and restart at login: brew services start mysql@5.6 Or, if you don&#39;t want/need a background service you can just run: /usr/local/opt/mysql@5.6/bin/mysql.server start ==&gt; Summary 🍺 /usr/local/Cellar/mysql@5.6/5.6.40: 340 files, 154.0MB 3. 安装MySQL 5.6很简单，执行以下命令即可：brew install mysql56 安装后记得导入环境变量：echo &#39;export PATH=&quot;/usr/local/opt/mysql@5.6/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc 附录：Mac通过brew安装MySQL后详细配置过程4. 分配MySQL 5.6链接安装MySQL 5.6之后，执行以下命令：brew unlink mysql &amp;&amp; brew link mysql@5.6 --force 注意：尽管可以通过执行链接来重新分配链接，但最好首先清除链接，因为发出大量日志很难发现错误。--force参数看具体情况使用，若brew link mysql@5.6不提示要强制链接的话就不需要该参数了。5. 启动MySQL 5.6并检查版本用brew启动brew services start mysql@5.6 或mysql.server start 检查版本：$ mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \g. Your MySQL connection id is 1 Server version: 5.6.40 Homebrew Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement. mysql&gt; 从日志可以确认MySQL 5.6启动。如果版本中显示5.7，我们要检查日志等，因为有可能无法替换符号链接。6. 停止MySQL 5.6服务并保存数据$ mysql.server stop Shutting down MySQL . SUCCESS! $ mv /usr/local/var/mysql /usr/local/var/mysql_56 7. 恢复最初安装的MySQL 5.7启动$ mv /usr/local/var/mysql_80 /usr/local/var/mysql $ brew unlink mysql56 &amp;&amp; brew link mysql Unlinking /usr/local/Cellar/mysql56/5.6.40... 99 symlinks removed Linking /usr/local/Cellar/mysql/8.0.11... 79 symlinks created $ mysql.server start Starting MySQL . SUCCESS! $ mysql -u root Welcome to the MySQL monitor. Commands end with ; or \g. Your MySQL connection id is 2 Server version: 8.0.11 Homebrew Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement. mysql&gt; 从日志可以确认MySQL 8.0启动。疑难解答/usr/local/var/mysql/为什么有必要切换如果至少启动一次8.0，如果使用相同的数据运行5.6，将出现以下错误： Starting MySQL . ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid). 由于mysqld等没有动，似乎是权威，但解决不了。（由于目录结构根据版本不同而不同，可能会影响权限以外的内容）MySQL 5.6和MySQL 5.7（/usr/local/var/mysql/）的初始数据目录结构# MySQL 5.6 $ ls -l /usr/local/var/mysql -rw-rw---- 1 xxx admin 56 7 26 20:54 auto.cnf -rw-r----- 1 xxx admin 0 7 26 20:50 binlog.index -rw-r----- 1 xxx admin 10369 7 27 18:30 xxx.local.err -rw-rw---- 1 xxx admin 5 7 27 18:30 xxx.local.pid -rw-rw---- 1 xxx admin 50331648 7 27 18:30 ib_logfile0 -rw-rw---- 1 xxx admin 50331648 7 26 20:46 ib_logfile1 -rw-rw---- 1 xxx admin 12582912 7 27 18:30 ibdata1 drwx------ 81 xxx admin 2754 7 26 20:46 mysql drwx------ 55 xxx admin 1870 7 26 20:46 performance_schema # MySQL 8.0 $ ls -l /usr/local/var/mysql_80 -rw-r----- 1 xxx admin 56 7 26 19:44 auto.cnf -rw-r----- 1 xxx admin 178 7 26 19:50 binlog.000001 -rw-r----- 1 xxx admin 11628 7 26 20:42 binlog.000002 -rw-r----- 1 xxx admin 32 7 26 19:51 binlog.index -rw------- 1 xxx admin 1680 7 26 19:44 ca-key.pem -rw-r--r-- 1 xxx admin 1112 7 26 19:44 ca.pem -rw-r----- 1 xxx admin 2783 7 26 20:42 xxx.local.err -rw-r----- 1 xxx admin 6 7 26 19:51 xxx.local.pid -rw-r--r-- 1 xxx admin 1112 7 26 19:44 client-cert.pem -rw------- 1 xxx admin 1676 7 26 19:44 client-key.pem -rw-r----- 1 xxx admin 3346 7 26 20:42 ib_buffer_pool -rw-r----- 1 xxx admin 50331648 7 26 20:42 ib_logfile0 -rw-r----- 1 xxx admin 50331648 7 26 19:44 ib_logfile1 -rw-r----- 1 xxx admin 12582912 7 26 20:42 ibdata1 drwxr-x--- 8 xxx admin 272 7 26 19:44 mysql -rw-r----- 1 xxx admin 25165824 7 26 20:19 mysql.ibd drwxr-x--- 104 xxx admin 3536 7 26 19:44 performance_schema -rw------- 1 xxx admin 1680 7 26 19:44 private_key.pem -rw-r--r-- 1 xxx admin 452 7 26 19:44 public_key.pem -rw-r--r-- 1 xxx admin 1112 7 26 19:44 server-cert.pem -rw------- 1 xxx admin 1676 7 26 19:44 server-key.pem drwxr-x--- 3 xxx admin 102 7 26 19:44 sys -rw-r----- 1 xxx admin 10485760 7 26 20:42 undo_001 -rw-r----- 1 xxx admin 10485760 7 26 20:42 undo_002]]></content>
      <categories>
        <category>数据库</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Homebrew</tag>
        <tag>数据库</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac通过brew安装的MySQL各种无法运行问题总结]]></title>
    <url>%2Fposts%2F6965849b.html</url>
    <content type="text"><![CDATA[一、解决 ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid).参考：https://stackoverflow.com/a/36156848问题描述之前用的好好的，经过一次更新（5.6-&gt;8.0）后某一天突然炸了。通过brew services start mysql启动 MySQL 后，使用 Navicat 连接提示：2003 - Can&#39;t connect to MySQL server on &#39;127.0.0.1&#39; (61 &quot;Connection refused&quot;) 经过一番查询，据说是 MySQL 服务没启动的问题（其实我觉得这说法有点不对），然后我就尝试启动MySQL服务，命令mysql.server start。接着我收到以下错误：ERROR! The server quit without updating PID file (/usr/local/var/mysql/xxx.local.pid). xxx为我的机器名字。然后执行mysql_secure_installation又提示：Securing the MySQL server deployment. Enter password for user root: Error: Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2) 后来经过各种尝试如：rm /usr/local/var/mysql/*.err rm /usr/local/var/mysql/xxx.local.err find / -name mysql.sock sudo chmod -R 755 /usr/local/var/mysql/ sudo chown -R _mysql:mysql /usr/local/var/mysql ls -laF /usr/local/var/mysql/ sudo rm -f /tmp/mysql.sock.lock ls -laF /tmp 还有通过ps aux | grep mysql找出 MySQL 的 PID，再用kill -9 [PID]杀掉进程都没用。最终解决方法：重装大法最后尝试完全重新安装 MySQL 终于解决了。警告：这将删除所有数据库，因此请确保先保存转储。brew remove mysql brew cleanup --force launchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist rm ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist sudo rm -rf /usr/local/var/mysql brew install mysql mysqld --initialize --explicit_defaults_for_timestamp mysql.server start # no sudo! 重装了MySQL后建议重新执行一次配置脚本：mysql_secure_installation注意：安装后必须执行mysqld --initialize --explicit_defaults_for_timestamp 否则仍无法解决以下问题：Error: Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2) 附录卸载过程如下（保留以便日后需要）：$ brew remove mysql Uninstalling /usr/local/Cellar/mysql/8.0.11... (254 files, 232.9MB) mysql 5.7.21, 5.7.22 2 are still installed. Remove all versions with `brew uninstall --force mysql`. $ brew uninstall --force mysql Uninstalling mysql... (640 files, 467.8MB) $ brew cleanup --force Removing: /usr/local/Cellar/dash/0.5.10... (6 files, 196.2KB) Removing: /usr/local/Cellar/dash/0.5.9.1... (5 files, 199KB) Removing: /usr/local/Cellar/freetds/1.00.89... (2,094 files, 11.9MB) Removing: /usr/local/Cellar/freetds/1.00.91... (2,094 files, 11.9MB) Removing: /usr/local/Cellar/freetype/2.9... (60 files, 2.7MB) Removing: /usr/local/Cellar/gdbm/1.14.1_1... (20 files, 555.8KB) Removing: /usr/local/Cellar/icu4c/61.1... (249 files, 67.2MB) Removing: /usr/local/Cellar/libidn2/2.0.4... (46 files, 580.8KB) Removing: /usr/local/Cellar/libpq/10.3... (2,425 files, 26.8MB) Removing: /usr/local/Cellar/libunistring/0.9.9... (54 files, 4.4MB) Removing: /usr/local/Cellar/nginx/1.13.12... (23 files, 1.4MB) Removing: /usr/local/Cellar/nginx/1.15.0... (23 files, 1.4MB) Removing: /usr/local/Cellar/node/10.0.0... (5,301 files, 51.7MB) Removing: /usr/local/Cellar/node/10.1.0... (7,283 files, 55.4MB) Removing: /usr/local/Cellar/node/10.2.1... (5,301 files, 51.9MB) Removing: /usr/local/Cellar/node/9.11.1... (5,125 files, 49.7MB) Removing: /usr/local/Cellar/openssl/1.0.2n... (1,792 files, 12.3MB) Removing: /usr/local/Cellar/openssl/1.0.2o_1... (1,791 files, 12.3MB) Removing: /usr/local/Cellar/php/7.2.5... (515 files, 78.9MB) Removing: /usr/local/Cellar/php/7.2.6... (515 files, 78.9MB) Removing: /usr/local/Cellar/php@5.6/5.6.35_1... (498 files, 63.8MB) Removing: /usr/local/Cellar/php@5.6/5.6.36... (498 files, 63.8MB) Removing: /usr/local/Cellar/php@7.0/7.0.29_1... (502 files, 65.5MB) Removing: /usr/local/Cellar/php@7.0/7.0.30... (502 files, 65.5MB) Removing: /usr/local/Cellar/python/3.6.5... (4,794 files, 99.9MB) Removing: /usr/local/Cellar/readline/7.0.3_1... (46 files, 1.5MB) Removing: /usr/local/Cellar/sqlite/3.23.1... (11 files, 3MB) Removing: /usr/local/Cellar/webp/0.6.1... (38 files, 2MB) Removing: /usr/local/Cellar/wget/1.19.4_1... (50 files, 3.7MB) Removing: /usr/local/Cellar/xz/5.2.3... (92 files, 1.4MB) Removing: /usr/local/Cellar/zsh/5.4.2_3... (1,390 files, 11.8MB) Removing: /Users/seal/Library/Caches/Homebrew/dash-0.5.10.sierra.bottle.tar.gz... (83.6KB) Removing: /Users/seal/Library/Caches/Homebrew/dash-0.5.9.1.sierra.bottle.tar.gz... (83.2KB) Removing: /Users/seal/Library/Caches/Homebrew/freetds-1.00.89.sierra.bottle.tar.gz... (2.3MB) Removing: /Users/seal/Library/Caches/Homebrew/freetds-1.00.91.sierra.bottle.tar.gz... (2.3MB) Removing: /Users/seal/Library/Caches/Homebrew/freetype-2.9.sierra.bottle.1.tar.gz... (896.8KB) Removing: /Users/seal/Library/Caches/Homebrew/gdbm-1.14.1_1.sierra.bottle.tar.gz... (182.5KB) Removing: /Users/seal/Library/Caches/Homebrew/icu4c-61.1.sierra.bottle.tar.gz... (25.4MB) Removing: /Users/seal/Library/Caches/Homebrew/libidn2-2.0.4.sierra.bottle.tar.gz... (190.4KB) Removing: /Users/seal/Library/Caches/Homebrew/libpq-10.3.sierra.bottle.tar.gz... (6MB) Removing: /Users/seal/Library/Caches/Homebrew/libunistring-0.9.9.sierra.bottle.tar.gz... (1.4MB) Removing: /Users/seal/Library/Caches/Homebrew/mysql-5.7.21.sierra.bottle.tar.gz... (72.2MB) Removing: /Users/seal/Library/Caches/Homebrew/mysql-5.7.22.sierra.bottle.tar.gz... (72.2MB) Removing: /Users/seal/Library/Caches/Homebrew/nginx-1.13.12.sierra.bottle.tar.gz... (570.5KB) Removing: /Users/seal/Library/Caches/Homebrew/nginx-1.15.0.sierra.bottle.tar.gz... (572.6KB) Removing: /Users/seal/Library/Caches/Homebrew/node-10.0.0.sierra.bottle.tar.gz... (13.7MB) Removing: /Users/seal/Library/Caches/Homebrew/node-10.1.0.sierra.bottle.tar.gz... (13.7MB) Removing: /Users/seal/Library/Caches/Homebrew/node-10.2.1.sierra.bottle.tar.gz... (13.8MB) Removing: /Users/seal/Library/Caches/Homebrew/node-9.11.1.sierra.bottle.tar.gz... (13.3MB) Removing: /Users/seal/Library/Caches/Homebrew/openssl-1.0.2n.sierra.bottle.tar.gz... (3.7MB) Removing: /Users/seal/Library/Caches/Homebrew/openssl-1.0.2o_1.sierra.bottle.tar.gz... (3.7MB) Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.4_1.sierra.bottle.tar.gz... (21.6MB) Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.5.sierra.bottle.tar.gz... (21.6MB) Removing: /Users/seal/Library/Caches/Homebrew/php-7.2.6.sierra.bottle.tar.gz... (21.6MB) Removing: /Users/seal/Library/Caches/Homebrew/php@5.6-5.6.35_1.sierra.bottle.tar.gz... (19.4MB) Removing: /Users/seal/Library/Caches/Homebrew/php@5.6-5.6.36.sierra.bottle.tar.gz... (19.4MB) Removing: /Users/seal/Library/Caches/Homebrew/php@7.0-7.0.29_1.sierra.bottle.tar.gz... (20MB) Removing: /Users/seal/Library/Caches/Homebrew/php@7.0-7.0.30.sierra.bottle.tar.gz... (20MB) Removing: /Users/seal/Library/Caches/Homebrew/php@7.1-7.1.16_1.sierra.bottle.tar.gz... (20.5MB) Removing: /Users/seal/Library/Caches/Homebrew/python-3.6.5.sierra.bottle.1.tar.gz... (21.9MB) Removing: /Users/seal/Library/Caches/Homebrew/readline-7.0.3_1.sierra.bottle.tar.gz... (497.3KB) Removing: /Users/seal/Library/Caches/Homebrew/sqlite-3.23.1.sierra.bottle.tar.gz... (1.4MB) Removing: /Users/seal/Library/Caches/Homebrew/tomcat-9.0.6.tar.gz.incomplete... (572KB) Removing: /Users/seal/Library/Caches/Homebrew/webp-0.6.1.sierra.bottle.1.tar.gz... (809.1KB) Removing: /Users/seal/Library/Caches/Homebrew/wget-1.19.4_1.sierra.bottle.tar.gz... (1.3MB) Removing: /Users/seal/Library/Caches/Homebrew/xz-5.2.3.sierra.bottle.tar.gz... (462.1KB) Removing: /Users/seal/Library/Caches/Homebrew/zsh-5.4.2_3.sierra.bottle.tar.gz... (3.3MB) Removing: /Users/seal/Library/Logs/Homebrew/apr... (68B) Removing: /Users/seal/Library/Logs/Homebrew/apr-util... (68B) Removing: /Users/seal/Library/Logs/Homebrew/argon2... (68B) Removing: /Users/seal/Library/Logs/Homebrew/aspell... (68B) Removing: /Users/seal/Library/Logs/Homebrew/autoconf... (68B) Removing: /Users/seal/Library/Logs/Homebrew/brew-php-switcher... (119B) Removing: /Users/seal/Library/Logs/Homebrew/dash... (68B) Removing: /Users/seal/Library/Logs/Homebrew/freetds... (68B) Removing: /Users/seal/Library/Logs/Homebrew/freetype... (68B) Removing: /Users/seal/Library/Logs/Homebrew/gdbm... (68B) Removing: /Users/seal/Library/Logs/Homebrew/gettext... (68B) Removing: /Users/seal/Library/Logs/Homebrew/glib... (68B) Removing: /Users/seal/Library/Logs/Homebrew/gmp... (68B) Removing: /Users/seal/Library/Logs/Homebrew/icu4c... (68B) Removing: /Users/seal/Library/Logs/Homebrew/jpeg... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libffi... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libidn2... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libpng... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libpq... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libsodium... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libtool... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libunistring... (68B) Removing: /Users/seal/Library/Logs/Homebrew/libzip... (68B) Removing: /Users/seal/Library/Logs/Homebrew/mcrypt... (68B) Removing: /Users/seal/Library/Logs/Homebrew/mhash... (68B) Removing: /Users/seal/Library/Logs/Homebrew/mysql... (1.3KB) Removing: /Users/seal/Library/Logs/Homebrew/nginx... (68B) Removing: /Users/seal/Library/Logs/Homebrew/node... (68B) Removing: /Users/seal/Library/Logs/Homebrew/openssl... (68B) Removing: /Users/seal/Library/Logs/Homebrew/pcre... (68B) Removing: /Users/seal/Library/Logs/Homebrew/php... (12 files, 2.3KB) Removing: /Users/seal/Library/Logs/Homebrew/php@5.6... (12 files, 2.4KB) Removing: /Users/seal/Library/Logs/Homebrew/php@7.0... (12 files, 2.9KB) Removing: /Users/seal/Library/Logs/Homebrew/php@7.1... (12 files, 2.4KB) Removing: /Users/seal/Library/Logs/Homebrew/python... (3 files, 127.8KB) Removing: /Users/seal/Library/Logs/Homebrew/readline... (68B) Removing: /Users/seal/Library/Logs/Homebrew/sqlite... (68B) Removing: /Users/seal/Library/Logs/Homebrew/tomcat... (68B) Removing: /Users/seal/Library/Logs/Homebrew/tomcat@8... (110B) Removing: /Users/seal/Library/Logs/Homebrew/unixodbc... (68B) Removing: /Users/seal/Library/Logs/Homebrew/webp... (68B) Removing: /Users/seal/Library/Logs/Homebrew/wget... (68B) Removing: /Users/seal/Library/Logs/Homebrew/xz... (68B) Removing: /Users/seal/Library/Logs/Homebrew/zsh... (68B) Removing: /Users/seal/Library/Logs/Homebrew/zsh-completions... (117B) ==&gt; This operation has freed approximately 1.3GB of disk space.]]></content>
      <categories>
        <category>数据库</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Homebrew</tag>
        <tag>数据库</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac上使用brew安装MySQL]]></title>
    <url>%2Fposts%2Fe87d9191.html</url>
    <content type="text"><![CDATA[参考：https://segmentfault.com/q/1010000000475470安装brew install mysql 开启MySQL通过brewbrew services start mysql 或mysql.server start 使用MySQL的配置脚本（MySQL 提供的配置向导）mysql_secure_installation # 完整路径 /usr/local/opt/mysql/bin/mysql_secure_installation 启动这个脚本后，即可根据如下命令提示进行初始化设置：$ mysql_secure_installation NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY! In order to log into MySQL to secure it, we&#39;ll need the current password for the root user. If you&#39;ve just installed MySQL, and you haven&#39;t set the root password yet, the password will be blank, so you should just press enter here. # 输入当前root密码，一般为空 Enter current password for root (enter for none): OK, successfully used password, moving on... Setting the root password ensures that nobody can log into the MySQL root user without the proper authorisation. # 首次使用自带配置脚本，设置root密码 Set root password? [Y/n] y New password: Re-enter new password: Password updated successfully! Reloading privilege tables.. ... Success! By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. # 是否删除匿名用户 Remove anonymous users? [Y/n] y ... Success! Normally, root should only be allowed to connect from &#39;localhost&#39;. This ensures that someone cannot guess at the root password from the network. # 是否禁止远程登录 Disallow root login remotely? [Y/n] y ... Success! By default, MySQL comes with a database named &#39;test&#39; that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. # 是否删除测试数据库，并登录 Remove test database and access to it? [Y/n] y - Dropping test database... ... Success! - Removing privileges on test database... ... Success! Reloading the privilege tables will ensure that all changes made so far will take effect immediately. # 是否重新载入权限表 Reload privilege tables now? [Y/n] y ... Success! All done! If you&#39;ve completed all of the above steps, your MySQL installation should now be secure. Thanks for using MySQL! Cleaning up... 5.6版本和8.0版本的有点不一样，8.0版似乎有个密码安全检测插件。下面是8.0版本的：$ mysql_secure_installation Securing the MySQL server deployment. Connecting to MySQL using a blank password. Securing the MySQL server deployment. Connecting to MySQL using a blank password. VALIDATE PASSWORD PLUGIN can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD plugin? # 是否采用mysql密码安全检测插件（这里我选择了是，密码检查插件要求密码复杂程度高，大小写字母+数字+字符等） Press y|Y for Yes, any other key for No: y There are three levels of password validation policy: LOW Length &gt;= 8 MEDIUM Length &gt;= 8, numeric, mixed case, and special characters STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary file # 根据上面提示选择密码强度 Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2 # 首次使用自带配置脚本，设置root密码 Please set the password for root here. New password: Re-enter new password: Estimated strength of the password: 100 Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. # 是否删除匿名用户 Remove anonymous users? (Press y|Y for Yes, any other key for No) : y Success. Normally, root should only be allowed to connect from &#39;localhost&#39;. This ensures that someone cannot guess at the root password from the network. # 是否禁止远程登录 Disallow root login remotely? (Press y|Y for Yes, any other key for No) : y Success. By default, MySQL comes with a database named &#39;test&#39; that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. # 是否删除测试数据库，并登录 Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y - Dropping test database... Success. - Removing privileges on test database... Success. Reloading the privilege tables will ensure that all changes made so far will take effect immediately. # 是否重新载入权限表 Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y Success. All done! 停止MySQLbrew services stop mysql]]></content>
      <categories>
        <category>数据库</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Homebrew</tag>
        <tag>数据库</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BCompare破解方法（全平台）]]></title>
    <url>%2Fposts%2Fbfc4a775.html</url>
    <content type="text"><![CDATA[Who am I? Incorrect Password! No content to display! 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]]></content>
      <categories>
        <category>逆向</category>
      </categories>
      <tags>
        <tag>逆向</tag>
        <tag>破解</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于Material主题源码的一些小修改（修复Bug？）]]></title>
    <url>%2Fposts%2F832fa05b.html</url>
    <content type="text"><![CDATA[一、插件hexo-prism-plugin实现代码高亮导致的行号不显示问题从官方文档我们可以看到md主题支持的代码高亮方式：由于我使用的是1.4.0稳定版（时间20180722），所以只能使用 hexo-prism-plugin 插件，具体用法官方文档讲的很详细我就不多说了。敲黑板，重点重点！！！我在这里主要说一下1.4.0版的md主题对 hexo-prism-plugin 插件似乎不太兼容。这是我的 prism 插件配置：prism_plugin: mode: &#39;preprocess&#39; # realtime/preprocess theme: &#39;solarizedlight&#39; line_number: true # default false 再给你们看一下截图：是不是感觉有什么不对劲？？相信看到这里大家应该都知道什么回事了，line_number我设置为true表示我开了行号显示，那么问题来了，我们的行号呢？还有那个诡异的竖线是什么鬼？于是我用chrome的开发者模式调试了一下，发现了一个很眼熟的CSS属性——padding。如图：这里给没学过编程的同学科普一下padding是什么意思：先放个W3School的链接压压惊= =：CSS padding 属性padding定义和用法：padding 简写属性在一个声明中设置所有内边距属性。例：padding:10px; 类似于这种的意思就是上下左右四个内边距都是 10px。那么内边距又是什么东西呢？看图：所以内边距的意思就是组件的内容到边框的距离。内边距的改变不会影响整个组件的大小，但是会影响组件内容的显示大小废话就不多说了…..我的直觉告诉我就是它的锅，我们现在来把它去掉试试！Unbelievable! 行号出现了！但是在Chrome的开发者模式改只是临时的，刷新就回到原来的样子了，我们要去主题的源代码修改。经过一番查找终于找到了相关代码所在的文件hexo根目录/themes/material/source/css/style.min.css注意：是style.min.css这个压缩过的css文件，而不是style.css！！打开style.min.css，查找padding:1pc或者#post-content pre都OK，然后把padding:1pc;注释掉即可。如图：二、文章结尾添加版权声明参考：http://tianma.space/post/1810369046/index.html现在是版权时代，很多博主都会在文章结尾出写上诸如“转载请保留声明信息”之类的。下面我来说下如何在 Hexo 中添加版权声明。这里我拿 Material 主题作为例子，其他主题可参考后自行修改。自定义字段：考虑到有些博文可能是不需要版权声明的，比如转载、翻译之类的，所以自定义 post_license 作为开关：主题配置文件 _config.yml 中添加字段，作为总开关： post_license: enable: true # or false 文章的 Front-matter 中添加字段，作为独立开关： post_license: true # or false 创建 material/layout/_partial/post_license.ejs: &lt;div&gt; &lt;br/&gt; &lt;ul id=&quot;post-license&quot; class=&quot;post-license&quot;&gt; &lt;li class=&quot;post-license-author&quot;&gt; &lt;strong&gt;本文作者：&lt;/strong&gt; &lt;a href=&quot;&lt;%= config.url %&gt;&quot;&gt;&lt;%= theme.author %&gt;&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;post-license-link&quot;&gt; &lt;strong&gt;本文链接：&lt;/strong&gt; &lt;a href=&quot;&lt;%= page.permalink %&gt;&quot;&gt;&lt;%= page.title %&gt;&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;post-license-statement&quot;&gt; &lt;strong&gt;版权声明： &lt;/strong&gt; 本文由 &lt;%= config.author %&gt; 原创，采用 &lt;a href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&quot; rel=&quot;license&quot; target=&quot;_blank&quot;&gt;署名-非商业性使用-相同方式共享（CC BY-NC-SA）4.0 国际许可协议&lt;/a&gt; &lt;/br&gt;转载请保留以上声明信息！ &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; 在 material/layout/_partial/post-content.ejs 引入 post_license.ejs: &lt;% if(theme.post_license.enable &amp;&amp; page.post_license !== false){%&gt; &lt;%- partial(&#39;_partial/post_license&#39;) %&gt; &lt;% } %&gt; 在 material/source/css/style.min.css 中添加 版权声明 样式： #post-license { margin: 2em 0 0; padding: 0.5em 1em; border-left: 3px solid #ff4081; background-color: #f9f9f9; list-style: none; } 三、Disqus延迟加载☆☆ 2018-08-11 更新：Material主题1.5.6版本开始disqus_click自带延迟加载 ☆☆参考：https://blog.itswincer.com/posts/e5d13eb/先讲下考虑延迟加载的初衷：好吧，其实是因为在大局域网内没法做到所有用户都能看评论，如果加载不出评论就会有一段时间在下方显示白块，强迫症的我怎么能忍受？？！！于是我就想把评论功能设计成网络好的话就自动显示评论，否则需要手动点击。正好看到网上有，于是就借鉴了。然后说下原理：原理嘛，先用 ajax 异步发送一个 get 请求至 Disqus 服务器，接收成功则屏蔽按钮，加载评论；超时则自动断开，并显示加载按钮：修改文件位置：&lt;Material主题目录&gt;/layout/_widget/comment/disqus_click/main.ejs&lt;div class=&quot;btn_click_load&quot;&gt; &lt;button class=&quot;disqus_click_btn&quot;&gt;&lt;%= __(&#39;post.comments_load_button&#39;) %&gt;&lt;/button&gt; &lt;/div&gt; &lt;!-- &lt;script type=&quot;text/ls-javascript&quot; id=&quot;disqus-lazy-load-script&quot;&gt; $(&#39;.btn_click_load&#39;).click(function() { //click to load comments (function() { // DON&#39;T EDIT BELOW THIS LINE var d = document; var s = d.createElement(&#39;script&#39;); s.src = &#39;//&lt;%= theme.comment.shortname %&gt;.disqus.com/embed.js&#39;; s.setAttribute(&#39;data-timestamp&#39;, + new Date()); (d.head || d.body).appendChild(s); })(); $(&#39;.btn_click_load&#39;).css(&#39;display&#39;,&#39;none&#39;); }); &lt;/script&gt; --&gt; &lt;% /* 延迟加载 disqus，timeout 可以自己设置时长 */ %&gt; &lt;script type=&quot;text/javascript&quot; id=&quot;disqus-lazy-load-script&quot;&gt; $.ajax({ url: &#39;https://disqus.com/next/config.json&#39;, timeout: 1000, type: &#39;GET&#39;, success: function(){ var d = document; var s = d.createElement(&#39;script&#39;); s.src = &#39;//&lt;%= theme.comment.shortname %&gt;.disqus.com/embed.js&#39;; s.setAttribute(&#39;data-timestamp&#39;, + new Date()); (d.head || d.body).appendChild(s); $(&#39;.disqus_click_btn&#39;).css(&#39;display&#39;, &#39;none&#39;); }, error: function() { $(&#39;.disqus_click_btn&#39;).css(&#39;display&#39;, &#39;block&#39;); } }); &lt;/script&gt; &lt;% /* 由于我超时时长设置得比较短，所以可能翻墙了还是没有自动加载评论，这时就需要手动点击加载了 */ %&gt; &lt;script type=&quot;text/javascript&quot; id=&quot;disqus-click-load&quot;&gt; $(&#39;.btn_click_load&#39;).click(() =&gt; { //click to load comments (() =&gt; { // DON&#39;T EDIT BELOW THIS LINE var d = document; var s = d.createElement(&#39;script&#39;); s.src = &#39;//&lt;%= theme.comment.shortname %&gt;.disqus.com/embed.js&#39;; s.setAttribute(&#39;data-timestamp&#39;, + new Date()); (d.head || d.body).appendChild(s); })(); $(&#39;.disqus_click_btn&#39;).css(&#39;display&#39;,&#39;none&#39;); }); &lt;/script&gt; 我是把原来的注释掉再加后面的，链接中说超时时间设为300比较短，的确短，我测试了一下，设置为1000就不影响阅读了。注意：改完后记得确认主题配置文件是否启用了disqus_click]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>hexo主题</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[全站开启https总结（艰苦历程？）]]></title>
    <url>%2Fposts%2F41e1ea07.html</url>
    <content type="text"><![CDATA[前言在搭建完Hexo之后，我就开始思考要不要配置https呢？最后深思熟虑，还是决定上https吧！毕竟现在https已经开始普及，像Chrome、Firfox这些浏览器如果不是https协议的会提示如下图，警告“不安全”什么的。强迫症患者表示看着最不舒服了（逃～于是我就开始了配置https之路……2018-12-02更新：添加通配符证书申请方法SSL证书选取合适的ssl证书https = http + ssl，所以要走https协议首先要申请ssl证书。但是我第一次建站，对ssl证书一点都不懂啊！！哪个ssl证书更好我也不知道，去搜索一翻发现各种说法，最后还是去请教了各位前辈。经过各位前辈的建议，我了解到了Let&#39;s Encrypt，详细介绍我就不说了，这是它在维基百科的资料，然后这是官网除此之外还有Digicert、SSL For Free、CA Cert。Digicert很贵，但是据某位前辈说似乎大企业喜欢用它的挺多，而且人家还支持签发 .onion 域名的证书（EV）。看自己需求吧，我最后还是用了Let&#39;s Encrypt。老父亲说这是免费的，但验证过程要在服务器上做，有点复杂。我觉得复杂点没所谓，好用就行。某群里的前辈说也可以不验证，自签名就好（其实我还没懂哈哈哈，尴尬.jpg）；前辈们还说了一种DNS方式验证，不需要架设额外服务；在我问了“Let’s encrypt用standalone还是webroot模式更好”之后(其实这个我也不懂)，终于决定用DNS模式，DNS 模式更方便，还可以签通配符证书。开始获取SSL证书参考：使用acme.sh脚本的DNS API方式申请及更新let’s encrypt证书群里多位前辈介绍了一个在 Linux 上申请let’s encrypt证书的脚本——acme.shacme.sh脚本Linux服务器下使用acme.sh脚本是申请let’s encrypt证书最便捷的方式，比官方推荐的certbot脚本工具要方便强大的多。好处是对环境要求较低，路由器上 busybox ash 都能跑，只需要使用到 curl 等少数几个外部程序安装文档： https://github.com/Neilpang/acme.sh/wiki/说明前提条件拥有一个域名，例如 mydomain.com (在国内主机的用的话，还需要通过ICP备案)确定二级域名，并且在域名服务器创建一条A记录，执行云主机的公网IP地址。www.mydomain.com指向xxx.xxx.xxx.xxx的IP地址要等到新创建的域名解析能在公网上被解析到。据说国内的域名提供商对letsencrypt的支持非常差，但是据说现阶段用dnspod解析的域名还没碰到问题。我用的是国外的Cloudflare解析我的域名，但是经常被墙（想骂人…），移动表示大多数都没有体验= =，联通情况好一点。安装acme.sh脚本执行一下命令后重新ssh登录服务器即可：curl https://get.acme.sh | sh 该命令会把 acme.sh 安装到你的 home 目录下: ~/.acme.sh/，一般会自动创建环境变量，后期直接命令行输入acme.sh即可。使用DNS API申请证书(推荐配置使用API的方式，否则每隔三个月，仍然需要重新验证DNS TXT记录)创建DNS API的Key及Secret参考：https://github.com/Neilpang/acme.sh/tree/master/dnsapihttps://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.mdacme.sh 目前支持 cloudflare, dnspod, cloudxns, godaddy 以及 ovh 等数十种解析商的自动集成.【例子一】域名由Cloudflare提供解析的网站，使用CloudFlare域名API自动颁发证书以 Cloudflare 为例, 你需要先登录到 Cloudflare 账号才能获得API密钥, 都是免费的。然后在Linux下使用acme.sh命令申请证书:命令使用参考：Linux 下使用 acme.sh 配置 Let’s Encrypt 免费 SSL 证书 + 通配符证书先导入密钥和邮箱： export CF_Key=&quot;sdfsdfsdfljlbjkljlkjsdfoiwje&quot; export CF_Email=&quot;xxxx@sss.com&quot; 我们现在发行一个证书： acme.sh --issue --dns dns_cf -d example.com -d www.example.com --accountemail query@goodsrv.com --accountemail是指定帐户电子邮件，仅对--install和--update-account命令有效（待验证，因为我执行命令时并没有带上该参数）。输入命令后回车，需要等两分钟，终端会有倒计时。倒计时结束后，执行命令： acme.sh --renew -d example.com -d www.example.com 补充：获取 Let’s Encrypt 通配符证书通配符证书，英文 Wildcard Certificate 国内黑话叫做野卡，经过一个月的跳票后，Let’s Encrypt 目前已经支持通配符的证书，同样 acme.sh 也是支持的，和多域名证书不同，通配符证书必须使用 DNS TXT 记录验证方式，我们以 example.com 和 *.example.com 为例acme.sh --issue -d example.com -d &#39;*.example.com&#39; --dns 记得*.example.com加单引号如果你的 DNS 提供商支持 API，你也可以直接使用 API 而不需要手工修改 TXT 记录，详细用法请见这里以 CloudFlare 为例：acme.sh --issue --dns dns_cf -d example.com -d &#39;*.example.com&#39; 生效后给证书续一秒acme.sh --renew -d example.com -d &#39;*.example.com&#39; 然后后面你想要一个二级域名（如：abc.example.com）的时候就不用再申请了，只需要在DNS添加A记录等它生效就可以用了。当然，下面的安装证书和配置站点（Nginx）步骤还是要做的😂安装证书# 创建安装目录 mkdir /etc/ssl/example.com/ -p # reloadcmd参数里面填写的是在更新证书后需要重新启动的服务，例如重启nginx或者apache或者其它脚本。 acme.sh --installcert -d example.com \ --key-file /etc/ssl/example.com/example.com.key \ --fullchain-file /etc/ssl/example.com/fullchain.cer \ --reloadcmd &quot;systemctl reload nginx&quot; 注意：/etc/ssl/example.com/的所有者以及用户组必须为当前用户，否则后面installcert的时候会提示没有权限，可执行如下命令，后面可更改回原来的所有者和用户组：#更改所有者和用户组 sudo chown $USER:$USER -R /etc/ssl/example.com/ #查看指定文件夹的权限、所有者和用户组 ls -l /etc/ssl/ ls -l /etc/ssl/example.com/ (一个小提醒, 部分服务器系统用的是 service nginx force-reload, 不是 service nginx reload, 据测试, reload 并不会重新加载证书, 所以用的 force-reload)Nginx 的配置 ssl_certificate 使用 /etc/nginx/ssl/fullchain.cer ，而非 /etc/nginx/ssl/&lt;domain&gt;.cer ，否则 SSL Labs的测试会报 Chain issues Incomplete 错误。--installcert命令可以携带很多参数, 来指定目标文件. 并且可以指定 reloadcmd, 当证书更新以后, reloadcmd 会被自动调用,让服务器生效.值得注意的是, 这里指定的所有参数都会被自动记录下来, 并在将来证书自动更新以后, 被再次自动调用.mkdir的-p参数解释：-p, –parents 可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录;mkdir命令参考：https://www.linuxdaxue.com/linux-command-intro-mkdir.html更新证书目前证书在 60 天以后会自动更新, 你无需任何操作. 今后有可能会缩短这个时间, 不过都是自动的, 你不用关心.更新 acme.sh目前由于 acme 协议和 letsencrypt CA 都在频繁的更新, 因此 acme.sh 也经常更新以保持同步.升级 acme.sh 到最新版 :acme.sh --upgrade 如果你不想手动升级, 可以开启自动升级:acme.sh --upgrade --auto-upgrade 之后, acme.sh 就会自动保持更新了你也可以随时关闭自动更新:acme.sh --upgrade --auto-upgrade 0 应用实例配置Nginx使用证书开通https站点生成Perfect Forward Security（PFS）键值Perfect Forward Security（PFS)是个什么东西，我也不清楚，中文翻译成完美前向保密，反正是这几年才提倡的加强安全性的技术。如果本地还没有生成这个键值，需要先执行生成的命令。/etc/ssl/example.com/ openssl dhparam -out dhparam.pem 2048 生成的过程还挺花时间的，据我查到的资料，据说参数为2048的要4分钟左右，还受服务器性能影响，此时不妨做点其他东西。（时间一分一秒的过去…）好了，PFS键值生成了，我们用ls命令来确认一下目录下是否生成了dhparam.pem文件，确认完毕就可以执行下一步了。特别说明：一定要确认文件是否已经生成！！！在这一步我原本是执行openssl dhparam 2048 -out dhparam.pem，不知道为什么执行了多次都无法生成dhparam.pem文件，后来换了个目录执行了多次openssl dhparam -out dhparam.pem 2048才成功，这是后面配置完Nginx后无法重新启动Nginx服务了，我输出日志才发现的，具体后面会说。nginx配置使用证书。编辑你的Nginx配置文件，如：/etc/nginx/sites-available/&lt;your-nginx-config&gt;☆☆修改配置文件前建议先备份☆☆可以通过Mozilla SSL Configuration Generator自动生成对应的参考配置修改http对应的server模块： server { listen 80; listen [::]:80; server_name example.com; #return 301 https://example.com$request_uri; if ( $scheme = http ){ return 301 https://$server_name$request_uri; } root /var/www/html/example.com; index index.html index.htm; } return 301 https://$server_name$request_uri;是强制http跳转https在配置文件中添加https的server模块： server { listen 443 ssl; server_name example.com; #charset utf-8; location / { root /var/www/html/example.com; #index index.html index.htm; } #root /var/www/html/example.com; index index.html index.htm; access_log /var/log/nginx/example.com_access.log; error_log /var/log/nginx/example.com_error.log; ssl_certificate /etc/ssl/example.com/fullchain.cer; ssl_certificate_key /etc/ssl/example.com/example.com.key; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_session_tickets off; ssl_dhparam /etc/ssl/example.com/dhparam.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers &#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK&#39;; ssl_prefer_server_ciphers on; } 总的样例内容如下： server { listen 80; listen [::]:80; server_name example.com; #return 301 https://example.com$request_uri; if ( $scheme = http ){ return 301 https://$server_name$request_uri; } root /var/www/html/example.com; index index.html index.htm; } server { listen 443 ssl; server_name example.com; #charset utf-8; location / { root /var/www/html/example.com; #index index.html index.htm; } #root /var/www/html/example.com; index index.html index.htm; access_log /var/log/nginx/example.com_access.log; error_log /var/log/nginx/example.com_error.log; ssl_certificate /etc/ssl/example.com/fullchain.cer; ssl_certificate_key /etc/ssl/example.com/example.com.key; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_session_tickets off; ssl_dhparam /etc/ssl/example.com/dhparam.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers &#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128:AES256:AES:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK&#39;; ssl_prefer_server_ciphers on; } 配置文件没有问题的话执行systemctl reload nginx，然后在浏览器打开http://example.com, 如果正常跳转到https://example.com，就算成功了。 如果是chrome浏览器，在地址栏点击绿色小锁的图标，可以查看证书的详情，如图。此步骤遇到的难题这里要注意的是如果你是Nginx+Cloudflare，那么Cloudflare的”Crypto—SSL”要设置成Full(strict)，否则会导致example.com将你重定向次数过多的情况，默认是Flexible。CF设置如图：这里还有个坑就是前面说的无法生成dhparam.pem文件导致无法重载Nginx。一开始我还没发现，一直在以为Nginx配置文件哪里错了，后来sudo journalctl -xe输出日志才发现Nginx找不到dhparam.pem文件：用ls命令可以发现目录下并不存在dhparam.pem文件：于是我又执行了几次openssl dhparam 2048 -out dhparam.pem，结果还是一样，而且过程竟然只需要1分钟不到。如图：察觉到不对劲之后我马上去找了跟dhparam的资料，后来在一个博客上发现他的命令顺序跟我不一样，这个文件存放目录也跟我不一样，于是我就把命令改成openssl dhparam -out dhparam.pem 2048和改目录到example.com(此时该目录权限还是$USER的)再试了几次，第一次是不行的，执行多几次后突然就成功了。如图：可以发现此次执行命令时间十分的长，我等了大概5分钟才执行完毕。然后我们再用ls来看看目录下的文件，可以发现文件已经生成：测试证书如果是网站的话，可以使用第三方网站工具测试自己网站的HTTPS配置的安全性SSL Lab就是个不错的选择：https://ssllabs.com/ssltest/analyze.html?d=example.com这是我的测试结果，都是A哦！！也可以在Linux下使用openssl命令查看证书的过期时间 openssl x509 -noout -dates -in /etc/ssl/example.com/example.com.key]]></content>
      <categories>
        <category>运维日志</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>服务器</tag>
        <tag>运维</tag>
        <tag>Linux</tag>
        <tag>SSL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[第一次搭建Hexo博客过程 in MacOS]]></title>
    <url>%2Fposts%2F1572acec.html</url>
    <content type="text"><![CDATA[第一次在自己服务器搭建博客，总会有那么一点点失误，碰到一点坑，在这里总结一下搭建hexo的具体步骤。参考：Hexo之旅(二)：Hexo博客搭建(在 Mac OS 平台)如何在服务器上搭建hexo博客Hexo架构首先我们要理解hexo是如何生成静态博客以及如何实现通过服务器访问静态博客的通过上图我们可以知道，整个流程就是在本地通过 hexo g 渲染博客的静态文件，然后通过 hexo d 把静态文件 push到服务器上我们自己创建的git仓库,服务器再通过 git-hooks 同步网站根目录，这样就可以访问了配置本地环境安装依赖Hexo 依赖于 Node.js 和 Git，需要先安装。安装GitGit安装（廖雪峰教程）安装Node.jsNode的话建议用nvm管理，否则很容易出现 command not found: hexo 的情况，出现这种情况主要是node的版本问题 可以通过nvm来控制一下node的版本来解决参考：Hexo安装后hexo指令无法被找到的解决方法使用Homebrew安裝nvmbrew install nvm //这个过程中可能需要安装gcc或者其它需要依赖的工具 按照提示一次安装好即可 mkdir ~/.nvm echo &quot;export NVM_DIR=~/.nvm&quot; &gt;&gt; .bash_profile echo &quot;. $(brew --prefix nvm)/nvm.sh&quot; &gt;&gt; .bash_profile //这个步骤中mac下的brew需要通过--prefix这种形式完成，如果是zsh的话可以输出到.zshrc文件 重启终端后用 nvm help 来验证nvm是否正确安装使用nvm安裝Node.js安裝完了nvm，接著安裝主角 Node.js。先用 nvm ls-remote 指令看一下有哪些版本可以安裝： nvm ls-remote . . . v9.10.0 v9.10.1 v9.11.0 v9.11.1 v9.11.2 v10.0.0 v10.1.0 v10.2.0 v10.2.1 v10.3.0 v10.4.0 . . . 然后直接用一下命令安装最新稳定版nodenvm install stable 使用nvm无痛切换Node.js版本检查当前使用的 Node.js 版本使用命令 nvm ls。如果输出结果如下表示正确：$ nvm ls v0.12.10 -&gt; v10.6.0 system default -&gt; v10.6.0 node -&gt; stable (-&gt; v10.6.0) (default) stable -&gt; 10.6 (-&gt; v10.6.0) (default) iojs -&gt; N/A (default) lts/* -&gt; lts/carbon (-&gt; N/A) lts/argon -&gt; v4.9.1 (-&gt; N/A) lts/boron -&gt; v6.14.3 (-&gt; N/A) lts/carbon -&gt; v8.11.3 (-&gt; N/A) 第一个 -&gt; 表示当前使用的版本，default -&gt; 表示默认版本，必须保证这两个，不然后面安装hexo会提示 -bash: hexo: command not found ，不能在命令行使用。设置的方法是，先通过 nvm ls 看看本地安装了什么版本，如果本地没有，则应该使用上一步的方法先安装，然后执行这个命令指定版本：nvm use v10.6.0 再通过这个命令指定默认版本：nvm alias default v10.6.0 部署Hexo安装Hexo所有必备的依赖都安装完成后，即可使用 npm 安装 Hexo：npm install -g hexo-cli -g 或 –global 表示全局安装模块，如果没有这个参数，会安装在当前目录的node_modules子目录下。安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。hexo init &lt;folder&gt; cd &lt;folder&gt; npm install npm install 表示安装当前目录package.json文件中配置的dependencies模块。更新 Hexo官方发布了新版本后，可以在Hexo建立的博客目录内运行：npm update 用如下命令可以检查package.json文件中配置的dependencies的版本号：npm ls --depth=0 安装 Hexo 插件npm install &lt;module&gt; --save 下面是一些可选插件的安装npm i hexo-all-minifier --save npm install hexo-admin --save npm install hexo-generator-archive --save npm install hexo-generator-tag --save npm install hexo-generator-feed --save npm install hexo-wordcount --save npm install hexo-helper-qrcode --save npm install hexo-generator-search --save npm install hexo-generator-searchdb --save npm i -S hexo-prism-plugin npm install hexo-abbrlink --save npm install hexo-generator-sitemap --save 配置服务器环境部署 Nginx安装 Nginx &amp;&amp; 启动 Nginx我服务器的Nginx是用Docker部署的，早已经部署好。这步暂时跳过，日后补充…（又偷懒了（逃～配置虚拟主机 &amp;&amp; 创建新的网站目录 &amp;&amp; 创建虚拟主机配置文件同上（逃～部署 Hexo 到服务器Hexo 可以使用 git 方式部署。(网站的目录在下面统一用 &lt;your-website&gt; 代替，如你的目录在 /var/www/html ，那就用 /var/www/html 替换 &lt;your-website&gt; )创建空白 git 仓库，并且设置 git hookcd ~ mkdir blog_hexo.git &amp;&amp; cd blog_hexo.git git init --bare 新建 post-receive 脚本cd hooks touch post-receive 编辑 ~/blog_hexo.git/hooks/post-receive 脚本#!/bin/bash GIT_REPO=/home/xxx/blog_hexo.git TMP_GIT_CLONE=/tmp/HexoBlog PUBLIC_WWW=&lt;your-website&gt; rm -rf ${TMP_GIT_CLONE} git clone $GIT_REPO $TMP_GIT_CLONE rm -rf ${PUBLIC_WWW}/* cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW} 赋予脚本执行权限chmod 755 post-receive //或 chmod +x post-receive 注意：这里要先确保 &lt;your-website> 目录下没有任何文件。备份好文件后执行一下命令：sudo rm -rf &lt;your-website&gt;/* 执行 ls -l &lt;your-website&gt; 命令检查该目录及其子目录（文件）所有者和用户组是否为你当前使用的用户。若显示：drwxr-xr-x 2 root root 4096 Jun 4 07:00 &lt;your-website&gt; 则说明你的网站目录的所有者以及用户组都是root，那么当你用git-hooks把tmp目录的静态博客拷贝到 &lt;your-website&gt; 时，会由于没有权限而导致拷贝失败，所以我们需要把的所有者和用户组都改为你当前使用的用户。执行以下命令即可：sudo chown $USER:$USER -R &lt;your-website&gt; 配置本机在博客目录下运行下面命令，安装 git 部署插件。npm install hexo-deployer-git --save 修改博客的配置文件 _config.yml，修改deploy选项：deploy: type: git message: update repo: xxx@127.0.0.1:/home/xxx/blog_hexo.git branch: master 然后运行 hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 即可部署本地渲染网页到服务器上，之后只需要访问额你的域名就可以访问你的hexo博客啦！如我的博客是 reb.mallotec.com注：请把127.0.0.1替换成自己服务器的ip附：Hexo 个性化–&gt;NexT主题参考：Hexo之旅(三)：Hexo博客个性化及NexT主题配置文档NexT 主题提供了详细的 使用文档 。下载主题主题的安装很简单，执行以下命令即可：cd your-hexo-folder mkdir themes/next curl -s https://api.github.com/repos/iissnan/hexo-theme-next/releases/latest | grep tarball_url | cut -d &#39;&quot;&#39; -f 4 | wget -i - -O- | tar -zx -C themes/next --strip-components=1 或cd your-hexo-site git clone https://github.com/iissnan/hexo-theme-next themes/next 启用 NexT 主题克隆/下载 完成后，打开 站点配置文件，找到theme字段，并将其值更改为next。这里注意区分两个配置文件：站点配置文件：是你的 hexo 博客目录下面的 _config.yml 文件。主题配置文件：是 themes/next 目录下的 _config.yml 文件。验证主题是否启用（这步我没执行过= =）运行hexo s --debug，并访问http://localhost:4000，确保站点正确运行。重新渲染博客启用主题后最好重新渲染一遍博客，命令：hexo clean &amp;&amp; hexo g &amp;&amp; hexo d]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>教程</tag>
        <tag>hexo</tag>
        <tag>个人经验</tag>
      </tags>
  </entry>
</search>
